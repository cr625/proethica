{% extends "base.html" %}

{% block title %}References - ProEthica{% endblock %}

{% block styles %}
<style>
    /* Highlight animation for referenced sections */
    .ref-highlight {
        animation: highlightPulse 2s ease-out;
    }

    @keyframes highlightPulse {
        0% {
            background-color: rgba(255, 193, 7, 0.5);
            box-shadow: 0 0 0 4px rgba(255, 193, 7, 0.3);
        }
        100% {
            background-color: transparent;
            box-shadow: none;
        }
    }

    /* Ensure h6 headers with IDs have proper padding for scroll offset */
    h6[id] {
        scroll-margin-top: 80px;
        padding: 4px 8px;
        margin-left: -8px;
        border-radius: 4px;
    }

    /* Info link styling (for consistency) */
    .info-link {
        text-decoration: none;
        transition: color 0.2s ease;
    }
    .info-link:hover {
        color: #0d6efd !important;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2><i class="bi bi-journal-bookmark"></i> References</h2>
            <p class="text-muted mb-0">Academic sources and theoretical foundations for ProEthica</p>
        </div>
    </div>

    <!-- 9-Concept Framework -->
    <div class="card mb-4" id="nine-concept">
        <div class="card-header bg-info text-white">
            <h5 class="mb-0"><i class="bi bi-grid-3x3 me-2"></i>9-Concept Framework D = (R, P, O, S, Rs, A, E, Ca, Cs)
            </h5>
        </div>
        <div class="card-body">
            <div class="alert alert-light border mb-4">
                <h6 class="alert-heading">Foundational Works</h6>
                <ul class="mb-0 small">
                    <li><strong>McLaren, B.M. (2003)</strong>. Extensionally defining principles and cases in ethics: An AI model.
                        <em>Artificial Intelligence</em>, 150(1-2), 145-181.
                        <a href="https://doi.org/10.1016/S0004-3702(03)00135-8" target="_blank" class="ms-1">DOI</a></li>
                    <li><strong>Berreby, F., Bourgne, G. & Ganascia, J.-G. (2017)</strong>. A Declarative Modular Framework
                        for Representing and Applying Ethical Principles. <em>AAMAS 2017</em>.</li>
                    <li><strong>Tolmeijer, S. et al. (2021)</strong>. Implementations in Machine Ethics: A Survey.
                        <em>ACM Computing Surveys</em>, 53(6), Article 132.
                        <a href="https://doi.org/10.1145/3419633" target="_blank" class="ms-1">DOI</a></li>
                </ul>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <h6>Pass 1: Situational</h6>
                    <ul class="list-unstyled">
                        <li><span class="badge bg-primary me-2">R</span> Roles</li>
                        <li><span class="badge bg-info me-2">S</span> States</li>
                        <li><span class="badge bg-secondary me-2">Rs</span> Resources</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h6>Pass 2: Normative</h6>
                    <ul class="list-unstyled">
                        <li><span class="badge bg-purple me-2" style="background-color: #6F42C1 !important;">P</span>
                            Principles</li>
                        <li><span class="badge bg-warning text-dark me-2">O</span> Obligations</li>
                        <li><span class="badge bg-danger me-2">Cs</span> Constraints</li>
                        <li><span class="badge bg-success me-2">Ca</span> Capabilities</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h6>Pass 3: Temporal</h6>
                    <ul class="list-unstyled">
                        <li><span class="badge bg-dark me-2">A</span> Actions</li>
                        <li><span class="badge bg-secondary me-2">E</span> Events</li>
                    </ul>
                </div>
            </div>

            <p class="text-muted mt-3 mb-0 small">
                <i class="bi bi-info-circle me-1"></i>
                Click each component below for detailed academic references and definitions.
            </p>

            <hr>

            <!-- Accordion for each component -->
            <div class="accordion" id="componentAccordion">
                <!-- Roles -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseRoles">
                            <span class="badge bg-primary me-2">R</span> <strong>Roles</strong>. Professional Identity
                        </button>
                    </h2>
                    <div id="collapseRoles" class="accordion-collapse collapse" data-bs-parent="#componentAccordion">
                        <div class="accordion-body small">
                            <p class="mb-3"><strong>Professional roles generate distinctive ethical obligations tied to
                                    professional goods.</strong>
                                This is the <em>foundational basis</em> of ProEthica's approach: roles determine which
                                obligations apply.</p>

                            <h6 class="mt-3">Primary Framework: Oakley & Cocking (2001)</h6>
                            <div class="border-start border-3 border-primary ps-3 mb-3">
                                <p class="mb-1"><strong>Oakley, J. & Cocking, D. (2001)</strong></p>
                                <p class="fst-italic mb-1">Virtue Ethics and Professional Roles</p>
                                <p class="small text-muted mb-2">
                                    Cambridge University Press. ISBN: 978-0-521-79305-6.
                                    <a href="https://doi.org/10.1017/CBO9780511487118" target="_blank">
                                        <i class="bi bi-box-arrow-up-right ms-1"></i> DOI
                                    </a>
                                </p>
                                <p class="small mb-2">
                                    <strong>Core Thesis:</strong> Good professions serve key human goods (health,
                                    justice, public safety).
                                    Professional roles generate distinctive obligations grounded in commitment to these
                                    goods.
                                </p>
                                <p class="small mb-2">
                                    <strong>Key Concepts:</strong>
                                </p>
                                <ul class="small mb-2">
                                    <li><strong>Regulative Ideals</strong>. Internalized conceptions guiding
                                        professional action (e.g., "public safety paramount" for engineers)</li>
                                    <li><strong>Professional Virtues</strong>. Character traits for excellence:
                                        competence, trustworthiness, humility, justice</li>
                                    <li><strong>Role-Generated Obligations</strong>. Duties arising from professional
                                        commitment, not general morality</li>
                                    <li><strong>Founding Value Limits</strong>. Cannot violate the good the profession
                                        serves (e.g., engineer cannot approve unsafe design even if client demands it)
                                    </li>
                                </ul>
                                <p class="small mb-0">
                                    <strong>Why Foundational:</strong> Explains why ProEthica's 9-component framework
                                    begins with Roles (R) -
                                    professional roles determine which obligations apply and provide ethical authority.
                                    Engineering obligations differ from Medical obligations differ from Legal obligations.
                                </p>
                            </div>

                            <h6 class="mt-3">Additional References</h6>
                            <ul class="mb-0">
                                <li><strong>Dennis et al. (2016)</strong>. Roles as filters determining which
                                    obligations apply</li>
                                <li><strong>Cointe et al. (2016)</strong>. Multi-agent frameworks for role-based
                                    principle interpretation</li>
                                <li><strong>Kong et al. (2020)</strong>. Identity roles and virtues across engineering,
                                    law, accounting</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Principles -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapsePrinciples">
                            <span class="badge me-2" style="background-color: #6F42C1;">P</span>
                            <strong>Principles</strong>. Abstract Ethical Foundations
                        </button>
                    </h2>
                    <div id="collapsePrinciples" class="accordion-collapse collapse"
                        data-bs-parent="#componentAccordion">
                        <div class="accordion-body small">
                            <p>Abstract ethical principles require extensional definition through precedents to achieve
                                concrete meaning.</p>
                            <ul class="mb-0">
                                <li><strong>McLaren (2003)</strong>. Extensional vs intensional principle definition
                                </li>
                                <li><strong>Hallamaa & Kalliokoski (2022)</strong>. Context-sensitivity of principles
                                </li>
                                <li><strong>Taddeo et al. (2024)</strong>. Principle operationalization steps</li>
                                <li><strong>Anderson & Anderson (2018)</strong>. GenEth: learning principles from
                                    expert examples</li>
                                <li><strong>Benzmuller et al. (2020)</strong>. LogiKEy higher-order logic formalization
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Obligations -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseObligations">
                            <span class="badge bg-warning text-dark me-2">O</span> <strong>Obligations</strong> -
                            Concrete Professional Requirements
                        </button>
                    </h2>
                    <div id="collapseObligations" class="accordion-collapse collapse"
                        data-bs-parent="#componentAccordion">
                        <div class="accordion-body small">
                            <p>Obligations specify what, when, by whom, and under what conditions: the "moral core" of
                                professional ethics.</p>
                            <ul class="mb-0">
                                <li><strong>Dennis et al. (2016)</strong>. Principles vs obligations distinction</li>
                                <li><strong>Anderson & Anderson (2006, 2007, 2011)</strong>. Prima facie duty framework
                                </li>
                                <li><strong>Ganascia (2007)</strong>. Answer set programming for conflicting
                                    obligations</li>
                                <li><strong>Dennis & del Olmo (2021)</strong>. Defeasible deontic logic</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- States -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseStates">
                            <span class="badge bg-info me-2">S</span> <strong>States</strong>. Environmental Context
                        </button>
                    </h2>
                    <div id="collapseStates" class="accordion-collapse collapse" data-bs-parent="#componentAccordion">
                        <div class="accordion-body small">
                            <p>Context determines which principles activate and how they apply; identical actions
                                receive different moral evaluations.</p>
                            <ul class="mb-0">
                                <li><strong>Berreby et al. (2017)</strong>. Event Calculus for state representation
                                </li>
                                <li><strong>Almpani et al. (2023)</strong>. Context as environmental states</li>
                                <li><strong>Sarmiento et al. (2023)</strong>. Causal reasoning with state transitions
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Resources -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseResources">
                            <span class="badge bg-secondary me-2">Rs</span> <strong>Resources</strong>. Professional
                            Knowledge Sources
                        </button>
                    </h2>
                    <div id="collapseResources" class="accordion-collapse collapse"
                        data-bs-parent="#componentAccordion">
                        <div class="accordion-body small">
                            <p>Professional ethical knowledge is largely encoded in cases and codes rather than explicit
                                rules.</p>
                            <ul class="mb-0">
                                <li><strong>Ashley & McLaren (1995)</strong>. Case-based reasoning foundations</li>
                                <li><strong>Guarini (2006)</strong>. Neural network case classification</li>
                                <li><strong>Davis (1991)</strong>. Multiple functions of professional codes</li>
                                <li><strong>Frankel (1989)</strong>. Hierarchical structure in codes</li>
                                <li><strong>Kong et al. (2020)</strong>. Computational linguistics for code analysis
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseActions">
                            <span class="badge bg-dark me-2">A</span> <strong>Actions</strong>. Professional Decisions
                        </button>
                    </h2>
                    <div id="collapseActions" class="accordion-collapse collapse" data-bs-parent="#componentAccordion">
                        <div class="accordion-body small">
                            <p>Professional actions require multi-criteria assessment across deontological,
                                consequentialist, and virtue dimensions.</p>
                            <ul class="mb-0">
                                <li><strong>Bonnemains et al. (2018)</strong>. Multi-criteria action evaluation</li>
                                <li><strong>Govindarajulu & Bringsjord (2017)</strong>. Doctrine of Double Effect
                                    formalization</li>
                                <li><strong>Sarmiento et al. (2023)</strong>. Causal relationships with NESS test</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Events -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseEvents">
                            <span class="badge bg-secondary me-2">E</span> <strong>Events</strong>. Temporal Dynamics
                        </button>
                    </h2>
                    <div id="collapseEvents" class="accordion-collapse collapse" data-bs-parent="#componentAccordion">
                        <div class="accordion-body small">
                            <p>Ethical evaluation depends on event sequences; appropriate responses depend on
                                historical context and anticipated future.</p>
                            <ul class="mb-0">
                                <li><strong>Anderson & Anderson (2018)</strong>. Event sequence evaluation</li>
                                <li><strong>Govindarajulu & Bringsjord (2017)</strong>. Temporal modal logic</li>
                                <li><strong>Arkin (2008)</strong>."Ethical black box" for event documentation</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Capabilities -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseCapabilities">
                            <span class="badge bg-success me-2">Ca</span> <strong>Capabilities</strong>. Professional
                            Competence
                        </button>
                    </h2>
                    <div id="collapseCapabilities" class="accordion-collapse collapse"
                        data-bs-parent="#componentAccordion">
                        <div class="accordion-body small">
                            <p>Competence transcends technical skill: includes communication, knowledge, reasoning,
                                values, and reflection.</p>
                            <ul class="mb-0">
                                <li><strong>Epstein (2002)</strong>. Multidimensional professional competence</li>
                                <li><strong>Cervantes et al. (2020)</strong>. Capacities/capabilities/competencies
                                    taxonomy</li>
                                <li><strong>Stenseke (2022)</strong>. Functional competence vs moral agency</li>
                                <li><strong>Dennis et al. (2016)</strong>. Formal verification for capability
                                    sufficiency</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Constraints -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseConstraints">
                            <span class="badge bg-danger me-2">Cs</span> <strong>Constraints</strong>. Professional
                            Boundaries
                        </button>
                    </h2>
                    <div id="collapseConstraints" class="accordion-collapse collapse"
                        data-bs-parent="#componentAccordion">
                        <div class="accordion-body small">
                            <p>Constraints establish inviolable limits (boundaries) while obligations specify
                                requirements.</p>
                            <ul class="mb-0">
                                <li><strong>Ganascia (2007)</strong>. Hard vs soft (defeasible) constraints</li>
                                <li><strong>Taddeo et al. (2024)</strong>. Legal/regulatory constraint interaction</li>
                                <li><strong>Arkin (2008)</strong>. Architectural "ethical governors"</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Transformation Classification -->
    <div class="card mb-4" id="transformation">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0"><i class="bi bi-arrow-repeat me-2"></i>Transformation Classification</h5>
        </div>
        <div class="card-body">
            <div class="mb-3">
                <h6>Source</h6>
                <p class="mb-1">
                    <strong>Marchais-Roubelat, A. and Roubelat, F. (2015)</strong>
                </p>
                <p class="fst-italic mb-2">
                    "Designing a moving strategic foresight approach: ontological and methodological issues of scenario
                    design"
                </p>
                <p class="text-muted mb-0">
                    <i class="bi bi-journal me-1"></i><em>Foresight</em>, Vol. 17 No. 6, pp. 545-555.
                    <a href="https://doi.org/10.1108/FS-12-2014-0085" target="_blank" class="ms-2">
                        <i class="bi bi-box-arrow-up-right"></i> DOI
                    </a>
                </p>
            </div>

            <hr>

            <h6>Transformation Types</h6>
            <p class="text-muted mb-3">
                From Table II (p. 550): "Steering rule" evaluates process transformations to challenge scenario
                duration.
            </p>

            <div class="table-responsive">
                <table class="table table-bordered">
                    <thead class="table-light">
                        <tr>
                            <th style="width: 15%;">Type</th>
                            <th style="width: 35%;">Definition (from paper)</th>
                            <th style="width: 50%;">Application to NSPE Cases</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="badge bg-success">Transfer</span></td>
                            <td>"Shifts from a scenario set to a new one"</td>
                            <td>Resolution transfers obligation/responsibility to another party. The ethical burden
                                moves from one stakeholder to another.</td>
                        </tr>
                        <tr>
                            <td><span class="badge bg-warning text-dark">Stalemate</span></td>
                            <td>"Stakeholders cannot quit the scenario, as they seem to be trapped in the set of rules"
                            </td>
                            <td>Competing obligations remain in tension without clear resolution. Both duties are valid
                                but incompatible.</td>
                        </tr>
                        <tr>
                            <td><span class="badge bg-info">Oscillation</span></td>
                            <td>"Stakeholders go to and fro between different sets of rules"</td>
                            <td>Duties shift back and forth between parties over time. Responsibility cycles as
                                circumstances change.</td>
                        </tr>
                        <tr>
                            <td><span class="badge bg-secondary">Phase Lag</span></td>
                            <td>"Some stakeholders do not follow the set of rules of the scenario where they are
                                engaged, performing parallel scenarios"</td>
                            <td>Delayed consequences reveal obligations not initially apparent. Hidden defects or future
                                harms emerge later.</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="alert alert-light border mt-3">
                <h6 class="alert-heading"><i class="bi bi-lightbulb me-2"></i>Context</h6>
                <p class="mb-0 small">
                    Marchais-Roubelat and Roubelat's framework comes from strategic foresight methodology,
                    specifically their "action-based scenarios" approach. ProEthica applies these transformation
                    types to classify how NSPE Board of Ethical Review cases resolve competing ethical obligations.
                    The classification helps identify patterns in ethical reasoning that can inform precedent discovery.
                </p>
            </div>
        </div>
    </div>

    <!-- Precedent Discovery -->
    <div class="card mb-4" id="precedents">
        <div class="card-header bg-success text-white">
            <h5 class="mb-0"><i class="bi bi-link-45deg me-2"></i>Precedent Discovery</h5>
        </div>
        <div class="card-body">
            <p class="text-muted mb-3">
                ProEthica uses sentence embeddings and case-based reasoning to find relevant prior
                NSPE Board of Ethical Review decisions.
            </p>

            <h6>Foundational Text</h6>
            <div class="border-start border-3 border-success ps-3 mb-3">
                <p class="mb-1"><strong>Richter, M.M. & Weber, R.O. (2013)</strong></p>
                <p class="fst-italic mb-1">Case-Based Reasoning: A Textbook</p>
                <p class="small text-muted mb-0">
                    Springer. ISBN: 978-3-642-40166-4.
                    <a href="https://link.springer.com/book/10.1007/978-3-642-40167-1" target="_blank">
                        <i class="bi bi-box-arrow-up-right ms-1"></i> SpringerLink
                    </a>
                </p>
                <p class="small mt-2 mb-0">
                    Textbook covering CBR theory: similarity measures, retrieval, and adaptation.
                    Provides the foundation for experience-based problem solving applied in ProEthica.
                </p>
            </div>

            <h6>Legal Case Retrieval</h6>
            <div class="border-start border-3 border-warning ps-3 mb-3">
                <p class="mb-1"><strong>Sun, Z., Zhang, K., Yu, W., Wang, H. & Xu, J. (2024)</strong></p>
                <p class="fst-italic mb-1">Logic Rules as Explanations for Legal Case Retrieval</p>
                <p class="small text-muted mb-0">
                    <em>Proceedings of LREC-COLING 2024</em>, pp. 10747-10759.
                    <a href="https://aclanthology.org/2024.lrec-main.939/" target="_blank">ACL Anthology</a>
                </p>
                <p class="small mt-2 mb-0">
                    Neural-Symbolic Legal Case Retrieval (NS-LCR): combines embeddings with
                    logic rules for explainable retrieval in legal contexts.
                </p>
            </div>

            <div class="border-start border-3 border-secondary ps-3 mb-3">
                <p class="mb-1"><strong>Wiratunga, N., Abeyratne, R., Jayawardena, L., et al. (2024)</strong></p>
                <p class="fst-italic mb-1">CBR-RAG: Case-Based Reasoning for Retrieval Augmented Generation in LLMs for
                    Legal Question Answering</p>
                <p class="small text-muted mb-0">
                    <em>Proceedings of ICCBR 2024</em>, LNCS vol. 14775, pp. 445-461. Springer.
                    <a href="https://doi.org/10.1007/978-3-031-63646-2_29" target="_blank">DOI</a> |
                    <a href="https://arxiv.org/abs/2404.04302" target="_blank">arXiv</a>
                </p>
                <p class="small mt-2 mb-0">
                    Integrates CBR with RAG for legal QA. Compares domain-specific vs general embeddings.
                </p>
            </div>
        </div>
    </div>

    <!-- Argument Mining and Ethical Reasoning -->
    <div class="card mb-4" id="argument-mining">
        <div class="card-header bg-warning text-dark">
            <h5 class="mb-0"><i class="bi bi-chat-left-text me-2"></i>Professional Ethics Analysis Methods</h5>
        </div>
        <div class="card-body">
            <p class="text-muted mb-3">
                ProEthica uses structured argument mining and practical professional ethics methodologies
                to compose decision points, compare cases to precedents, and generate entity-grounded arguments.
            </p>

            <h6>Toulmin Model of Argumentation</h6>
            <div class="border-start border-3 border-warning ps-3 mb-3">
                <p class="mb-1"><strong>Toulmin, S.E. (1958, 2003)</strong></p>
                <p class="fst-italic mb-1">The Uses of Argument</p>
                <p class="small text-muted mb-0">
                    Cambridge University Press. Updated edition 2003.
                    <a href="https://doi.org/10.1017/CBO9780511840005" target="_blank">
                        <i class="bi bi-box-arrow-up-right ms-1"></i> DOI
                    </a>
                </p>
                <p class="small mt-2 mb-3">
                    Foundational framework decomposing arguments into six components: Claim, Data/Grounds,
                    Warrant, Backing, Qualifier, and Rebuttal. ProEthica maps extracted entities to these
                    components for structured ethical argument analysis.
                </p>
                <div class="table-responsive">
                    <table class="table table-sm table-bordered mb-0 small">
                        <thead class="table-light">
                            <tr>
                                <th>Toulmin Component</th>
                                <th>ProEthica Entity</th>
                                <th>Role in Ethical Argument</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Claim</strong></td>
                                <td>Board Conclusions</td>
                                <td>The ethical determination</td>
                            </tr>
                            <tr>
                                <td><strong>Data/Grounds</strong></td>
                                <td>Actions, Events, States</td>
                                <td>What happened in the case</td>
                            </tr>
                            <tr>
                                <td><strong>Warrant</strong></td>
                                <td>Principles, Obligations</td>
                                <td>Professional duties justifying the claim</td>
                            </tr>
                            <tr>
                                <td><strong>Backing</strong></td>
                                <td>Code Provisions</td>
                                <td>Authority supporting the warrant</td>
                            </tr>
                            <tr>
                                <td><strong>Qualifier</strong></td>
                                <td>Capabilities, Constraints</td>
                                <td>Limits on the claim</td>
                            </tr>
                            <tr>
                                <td><strong>Rebuttal</strong></td>
                                <td>Conflicting Obligations</td>
                                <td>Counter-arguments</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <h6 id="argument-validation">Argument Validation Score</h6>
            <div class="border-start border-3 border-warning ps-3 mb-3">
                <p class="mb-1"><strong>Oakley, J. & Cocking, D. (2001)</strong></p>
                <p class="fst-italic mb-1">Virtue Ethics and Professional Roles</p>
                <p class="small text-muted mb-0">
                    Cambridge University Press.
                    <a href="https://doi.org/10.1017/CBO9780511487118" target="_blank">
                        <i class="bi bi-box-arrow-up-right ms-1"></i> DOI
                    </a>
                </p>
                <p class="small mt-2 mb-2">
                    ProEthica validates generated arguments using a three-tier test derived from role ethics theory.
                    Each test uses a specific computational method:
                </p>
                <div class="table-responsive">
                    <table class="table table-sm table-bordered mb-3 small">
                        <thead class="table-light">
                            <tr>
                                <th>Test</th>
                                <th>Weight</th>
                                <th>Computation (from extracted entities)</th>
                                <th>Theoretical Basis</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Entity Grounding</strong></td>
                                <td>40%</td>
                                <td>
                                    <strong>Computed:</strong> <code>validity_rate = valid_refs / total_refs</code><br>
                                    <span class="text-muted">Each argument component URI (warrant, backing, data) checked against extracted entity URIs from temporary_rdf_storage. Passes if warrant exists AND validity_rate &ge; 70%.</span>
                                </td>
                                <td>Structural validity: arguments reference extracted facts</td>
                            </tr>
                            <tr>
                                <td><strong>Founding Value</strong></td>
                                <td>40%</td>
                                <td>
                                    <strong>Computed:</strong> Keyword search against domain violation dictionary<br>
                                    <span class="text-muted">Claim and warrant text searched for violation keywords (e.g., "endanger", "harm" for public_safety domain). Passes if no violation keywords found.</span>
                                </td>
                                <td>Oakley & Cocking "regulative ideal": no action can violate founding good</td>
                            </tr>
                            <tr>
                                <td><strong>Professional Virtue</strong></td>
                                <td>20%</td>
                                <td>
                                    <strong>Computed:</strong> Virtue-to-Capability entity matching<br>
                                    <span class="text-muted">Required virtues (from warrant text triggers) matched against extracted Capability entities. Passes if any virtue present or has capability support.</span>
                                </td>
                                <td>Oakley & Cocking: virtues require capabilities for enactment</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="small text-muted mb-2">
                    <strong>Data sources:</strong> All computations use entities extracted during Steps 1-4 (stored in <code>temporary_rdf_storage</code>).
                    Entity URIs, Capability labels, and argument text are all derived from extraction pipeline output.
                </p>
            </div>



            <h6 id="ethical-tensions">Ethical Tensions</h6>
            <div class="border-start border-3 border-warning ps-3 mb-3">
                <p class="small mt-2 mb-2">
                    <strong>Definition:</strong> Ethical tensions document conflicts between obligations and constraints
                    that create ethical difficulty. ProEthica identifies tensions during Stage 4 (Narrative Construction)
                    and characterizes each through two complementary frameworks.
                </p>

                <div class="table-responsive mt-2">
                    <table class="table table-sm table-bordered mb-3 small">
                        <thead class="table-light">
                            <tr>
                                <th>Framework</th>
                                <th>Description</th>
                                <th>Source</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Conflict Type Classification</strong></td>
                                <td>Categorizes tension as Obligation vs Obligation or Obligation vs Constraint</td>
                                <td>Ganascia (2007); Dennis et al. (2016)</td>
                            </tr>
                            <tr>
                                <td><strong>Moral Intensity Scoring</strong></td>
                                <td>Assesses severity using six intensity dimensions</td>
                                <td>Jones (1991) (<a href="#jones-moral-intensity">see below</a>)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h6 class="mt-3">Conflict Type Classification</h6>
                <p class="mb-1"><strong>Ganascia, J.-G. (2007)</strong></p>
                <p class="fst-italic mb-1">Modelling Ethical Rules of Lying with Answer Set Programming</p>
                <p class="small text-muted mb-2">
                    <em>Ethics and Information Technology</em>, Vol. 9, pp. 39-47.
                    <a href="https://doi.org/10.1007/s10676-006-9134-y" target="_blank">DOI</a>
                </p>
                <p class="small mb-2">
                    Formalizes conflicting obligations through defeasible logic, showing how constraints can
                    operate as default rules that tolerate justified exceptions under extraordinary circumstances.
                    These default rules with exceptions enable systems to satisfy a general prohibition while
                    recommending an exception when adherence would violate other duties. ProEthica adopts this
                    framework for <strong>Obligation vs Obligation</strong> tensions where two <em>prima facie</em>
                    duties pull in opposite directions.
                </p>

                <p class="mb-1 mt-3"><strong>Dennis, L.A., Fisher, M., Slavkovik, M., & Webster, M. (2016)</strong></p>
                <p class="fst-italic mb-1">Formal Verification of Ethical Choices in Autonomous Systems</p>
                <p class="small text-muted mb-2">
                    <em>Robotics and Autonomous Systems</em>, Vol. 77, pp. 1-14.
                    <a href="https://doi.org/10.1016/j.robot.2015.11.012" target="_blank">DOI</a>
                </p>
                <p class="small mb-2">
                    Establishes hierarchical constraint management that assigns constraints an ethical order
                    for evaluation purposes. This structure allows systems to distinguish available choices
                    by how badly they violate principles and to select the least unethical option when
                    multiple constraints compete. ProEthica uses this for <strong>Obligation vs Constraint</strong>
                    tensions where a professional duty conflicts with an inviolable boundary.
                </p>

                <div class="alert alert-light border mt-3 mb-0">
                    <p class="small mb-0">
                        <strong>Application:</strong> Each extracted ethical tension displays its conflict type
                        (Obligation vs Obligation or Obligation vs Constraint) alongside moral intensity scores.
                        This dual characterization helps practitioners understand both <em>what</em> is in conflict
                        and <em>how serious</em> the tension is.
                    </p>
                </div>
            </div>

            <h6 id="jones-moral-intensity">Decision Point Salience / Moral Intensity</h6>
            <div class="border-start border-3 border-danger ps-3 mb-3">
                <p class="mb-1"><strong>Jones, T.M. (1991)</strong></p>
                <p class="fst-italic mb-1">Ethical Decision Making by Individuals in Organizations: An Issue-Contingent
                    Model</p>
                <p class="small text-muted mb-0">
                    <em>Academy of Management Review</em>, Vol. 16, No. 2, pp. 366-395.
                    <a href="https://www.jstor.org/stable/258867" target="_blank">JSTOR</a> |
                    <a href="https://journals.aom.org/doi/10.5465/amr.1991.4278958" target="_blank">AOM</a>
                </p>
                <p class="small mt-2 mb-0">
                    Provides actionable criteria for prioritizing which professional decisions deserve most attention.
                    ProEthica uses these six intensity components to score decision point salience:
                </p>
                <div class="table-responsive mt-2">
                    <table class="table table-sm table-bordered mb-0 small">
                        <thead class="table-light">
                            <tr>
                                <th>Component</th>
                                <th>Definition</th>
                                <th>Professional Application</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Magnitude</strong></td>
                                <td>Impact on founding professional good (safety/health/justice)</td>
                                <td>Severity of Events (death > injury > property damage)</td>
                            </tr>
                            <tr>
                                <td><strong>Social Consensus</strong></td>
                                <td>Professional consensus via codified standards</td>
                                <td>Explicit Code provision citations</td>
                            </tr>
                            <tr>
                                <td><strong>Probability</strong></td>
                                <td>Likelihood of violating professional obligations</td>
                                <td>Professional foresight requirement</td>
                            </tr>
                            <tr>
                                <td><strong>Temporal Immediacy</strong></td>
                                <td>When consequences affect key goods</td>
                                <td>Professional duty timing (immediate vs. long-term)</td>
                            </tr>
                            <tr>
                                <td><strong>Proximity</strong></td>
                                <td>Role-relationship binding strength</td>
                                <td>Direct professional relationships (client, public)</td>
                            </tr>
                            <tr>
                                <td><strong>Concentration</strong></td>
                                <td>Scope of professional impact</td>
                                <td>Number of affected parties (Roles involved)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <h6>Harris et al. Line-Drawing Method</h6>
            <div class="border-start border-3 border-primary ps-3 mb-3">
                <p class="mb-1"><strong>Harris, C.E., Pritchard, M.S., & Rabins, M.J. (2018)</strong></p>
                <p class="fst-italic mb-1">Engineering Ethics: Concepts and Cases (6th ed.)</p>
                <p class="small text-muted mb-0">
                    Cengage Learning. Chapter 2: A Practical Ethics Toolkit.
                    <a href="https://www.cengage.com/c/engineering-ethics-concepts-and-cases-6e-harris/"
                        target="_blank">
                        <i class="bi bi-box-arrow-up-right ms-1"></i> Cengage
                    </a>
                </p>
                <p class="small mt-2 mb-0">
                    Engineering-domain methodology for Step E3 (Decision Point Composition).
                    The <strong>line-drawing</strong> approach determines ethical boundaries by comparing cases to
                    paradigms:
                </p>
                <ol class="small mt-2 mb-2">
                    <li><strong>Identify paradigm cases</strong>. Clear-cut examples at extremes (e.g., clear bribe vs.
                        clear non-bribe)</li>
                    <li><strong>Identify paradigmatic features</strong>. Characteristics that make cases paradigmatic
                        (e.g., gift size, timing, reason, responsibility)</li>
                    <li><strong>Compare test case to paradigms</strong>. Place "X" on continuum for each feature</li>
                    <li><strong>Draw the line</strong>. Determine where ethical boundary lies based on feature
                        distribution</li>
                </ol>
                <p class="small mb-0">
                    <strong>Box 2.1: Components of a Moral Problem:</strong>
                    Factual Issues (what happened), Conceptual Issues (term meanings),
                    Application Issues (whether concepts apply), Moral Issues (balancing conflicting considerations).
                </p>
            </div>

            <h6 id="causal-normative-links">Causal-Normative Links</h6>
            <div class="border-start border-3 border-warning ps-3 mb-3">
                <p class="small mt-2 mb-2">
                    <strong>Definition:</strong> Causal-normative links connect professional actions to the obligations
                    they fulfill or violate. Each action is mapped to normative framework components through causal
                    responsibility analysis.
                </p>
                <p class="mb-1"><strong>Sarmiento, C., Bourgne, G., Inoue, K., & Ganascia, J.-G. (2023)</strong></p>
                <p class="fst-italic mb-1">Action Languages Based Actual Causality in Decision Making Contexts</p>
                <p class="small text-muted mb-2">
                    <em>LNCS vol. 14276</em>, pp. 247-262. Springer.
                    <a href="https://doi.org/10.1007/978-3-031-21203-1_15" target="_blank">DOI</a> |
                    <a href="https://arxiv.org/abs/2205.02919" target="_blank">arXiv</a>
                </p>
                <p class="small mb-2">
                    Uses the <strong>NESS test</strong> (Necessary Element of a Sufficient Set) for causal responsibility
                    attribution. An action is causally responsible for an outcome if it was a necessary element in a
                    set of conditions jointly sufficient to produce that outcome. ProEthica applies NESS to determine
                    which actions fulfill or violate specific obligations.
                </p>
                <div class="alert alert-light border mt-2 mb-0">
                    <p class="small mb-0">
                        <strong>Application:</strong> The Analysis tab displays causal-normative links showing which
                        obligations each action <span class="text-success">fulfills</span> and which it
                        <span class="text-danger">violates</span>, enabling systematic evaluation of professional conduct.
                    </p>
                </div>
            </div>

            <h6 id="initial-fluents">Initial Fluents (Event Calculus)</h6>
            <div class="border-start border-3 border-success ps-3 mb-3">
                <p class="small mt-2 mb-2">
                    <strong>Definition:</strong> Fluents are time-varying properties that represent the state of the
                    ethical situation. Initial fluents capture the conditions at case start that persist until
                    changed by actions or events.
                </p>
                <p class="mb-1"><strong>Berreby, F., Bourgne, G., & Ganascia, J.-G. (2017)</strong></p>
                <p class="fst-italic mb-1">A Declarative Modular Framework for Representing and Applying Ethical Principles</p>
                <p class="small text-muted mb-2">
                    <em>Proceedings of AAMAS 2017</em>, pp. 96-104.
                    <a href="https://dl.acm.org/doi/10.5555/3091125.3091145" target="_blank">ACM</a> |
                    <a href="https://www.ifaamas.org/Proceedings/aamas2017/pdfs/p96.pdf" target="_blank">PDF</a>
                </p>
                <p class="small mb-2">
                    Employs <strong>Event Calculus</strong> formalism where fluents are properties that hold at
                    particular time points. Actions and events <em>initiate</em> or <em>terminate</em> fluents,
                    creating state transitions. Fluents persist by default (law of inertia) until explicitly changed.
                </p>
                <div class="alert alert-light border mt-2 mb-0">
                    <p class="small mb-0">
                        <strong>Application:</strong> The Narrative tab displays initial fluents as state conditions
                        at case start (e.g., "Engineer_A hasEmploymentWith Firm_X", "Project_Y hasStatus active").
                        These provide the baseline context for evaluating subsequent actions and events.
                    </p>
                </div>
            </div>

            <h6 id="question-emergence">Question Emergence (Toulmin Warrants)</h6>
            <div class="border-start border-3 border-info ps-3 mb-3">
                <p class="small mt-2 mb-2">
                    <strong>Definition:</strong> Question emergence analysis identifies how ethical questions arise
                    from triggering conditions and competing normative claims.
                </p>
                <p class="mb-1"><strong>Toulmin, S.E. (1958/2003)</strong></p>
                <p class="fst-italic mb-1">The Uses of Argument</p>
                <p class="small text-muted mb-2">
                    Cambridge University Press.
                    <a href="https://doi.org/10.1017/CBO9780511840005" target="_blank">DOI</a>
                </p>
                <p class="small mb-2">
                    In Toulmin's model, <strong>Data</strong> (facts/events) trigger ethical consideration when they
                    invoke <strong>Warrants</strong> (principles/obligations that license conclusions).
                    <strong>Competing warrants</strong> arise when the same data supports different conclusions
                    through different normative pathways.
                </p>
                <div class="alert alert-light border mt-2 mb-0">
                    <p class="small mb-0">
                        <strong>Application:</strong> The Analysis tab shows question emergence with triggering
                        events/actions (data) and competing warrants (obligations that pull toward different answers).
                    </p>
                </div>
            </div>

            <h6 id="ethical-frameworks">Ethical Frameworks (Research Exploratory)</h6>
            <div class="border-start border-3 border-warning ps-3 mb-3">
                <p class="small mt-2 mb-2">
                    <strong>Status:</strong> The ethical framework categories used in theoretical question generation
                    (deontological, virtue ethics, utilitarian, etc.) are <strong>exploratory research features</strong>
                    and are not yet formally defined in the ProEthica ontology.
                </p>
                <p class="small mb-2">
                    Questions labeled as "Theoretical" are generated by prompting the LLM to consider the case from
                    different ethical perspectives. These labels indicate the <em>intended analytical lens</em> rather
                    than a formally modeled ethical framework.
                </p>
                <div class="alert alert-warning border mt-2 mb-0">
                    <p class="small mb-0">
                        <strong>Future Work:</strong> A formal ontology of ethical frameworks (deontology, virtue ethics,
                        consequentialism, care ethics, etc.) with their relationships to principles, obligations, and
                        reasoning patterns is planned for future development.
                    </p>
                </div>
            </div>

        </div>
    </div>

    <!-- Future References -->
    <div class="card mb-4" id="additional">
        <div class="card-header">
            <h5 class="mb-0"><i class="bi bi-bookmark me-2"></i>Additional References</h5>
        </div>
        <div class="card-body">
            <p class="text-muted mb-0">Additional academic references will be added as the system develops.</p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Highlight the referenced section when navigating via hash
    function highlightSection() {
        const hash = window.location.hash;
        if (hash) {
            const targetId = hash.substring(1);
            const target = document.getElementById(targetId);

            if (target) {
                // Remove any existing highlights
                document.querySelectorAll('.ref-highlight').forEach(el => {
                    el.classList.remove('ref-highlight');
                });

                // Add highlight to target
                target.classList.add('ref-highlight');

                // Scroll into view with offset for fixed header
                setTimeout(() => {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }
        }
    }

    // Run on page load
    highlightSection();

    // Run on hash change (for in-page navigation)
    window.addEventListener('hashchange', highlightSection);
});
</script>
{% endblock %}