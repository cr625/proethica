{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"ProEthica Documentation","text":"<p>ProEthica is a professional role-based ethical analysis tool that combines case-based reasoning with ontology-supported validation, orchestrated by large language models (LLMs), to help professional ethics committees analyze ethical scenarios against established standards and precedents.</p>"},{"location":"#about-proethica","title":"About ProEthica","text":"<p>ProEthica analyzes professional ethical scenarios against established codes and precedent cases. The system extracts nine types of components from case text and scenario descriptions:</p> Component Symbol Description Roles R Professional positions that generate obligations Principles P Abstract ethical standards Obligations O Concrete duties derived from principles States S Situational context and conditions Resources Rs Available knowledge and references Actions A What professionals do or could do Events E Precipitating occurrences Capabilities Ca What professionals can do Constraints Cs Limitations on professional conduct <p>Domain-specific ontologies provide precise definitions that constrain LLM output to match formal concept specifications, ensuring consistency across extraction and validation.</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Getting Started - Installation and configuration</li> <li>First Login - Interface overview</li> <li>Nine-Concept Framework - Understanding the formal methodology</li> <li>FAQ - Frequently asked questions</li> </ul>"},{"location":"#five-step-analysis-workflow","title":"Five-Step Analysis Workflow","text":"<p>ProEthica guides you through a structured workflow for ethical case analysis:</p> Step Name Task Guide 1 Contextual Framework Extract Roles, States, Resources from Facts and Discussion sections Step 1 Guide 2 Normative Requirements Extract Principles, Obligations, Constraints, Capabilities Step 2 Guide 3 Temporal Dynamics Extract Actions, Events, Causal Chains, Timeline Step 3 Guide 4 Case Synthesis Code provisions, Questions/Conclusions, Decision Points, Arguments Step 4 Guide 5 Scenario Exploration Interactive decision-making, consequences, comparison to board Step 5 Guide"},{"location":"#pipeline-states","title":"Pipeline States","text":"<p>The sidebar navigation shows step completion status:</p> <p> New case: Steps locked until prerequisites complete</p> <p> Extracted case: Checkmarks show completed steps, navigation goes to review pages</p>"},{"location":"#navigation-behavior","title":"Navigation Behavior","text":"<ul> <li>Incomplete steps: Link to extraction page</li> <li>Complete steps: Link to entity review page</li> <li>Facts/Discussion toggle: Switch between section reviews</li> <li>History button: View all extraction prompts and responses</li> <li>Re-run button: Return to extraction page for re-processing</li> </ul>"},{"location":"#core-features","title":"Core Features","text":""},{"location":"#multi-pass-extraction-steps-1-3","title":"Multi-Pass Extraction (Steps 1-3)","text":"<p>Three extraction passes systematically identify concepts from case narratives:</p> <ul> <li>Step 1 (Contextual): Roles, States, Resources - from Facts and Discussion sections</li> <li>Step 2 (Normative): Principles, Obligations, Constraints, Capabilities</li> <li>Step 3 (Temporal): Events, Actions, Causal Chains, Timeline</li> </ul> <p>Each step extracts from both Facts and Discussion sections of the case, with Discussion unlocking after Facts is complete.</p>"},{"location":"#entity-review","title":"Entity Review","text":"<p>After extraction, review pages allow validation of extracted entities:</p> <p> Entity review with Facts/Discussion toggle, History, and Re-run buttons</p> <ul> <li>Facts/Discussion toggle: Switch between section reviews</li> <li>Match status: See which entities match existing ontology classes</li> <li>Edit/Delete: Modify entities before committing to ontology</li> </ul>"},{"location":"#extraction-history","title":"Extraction History","text":"<p>Track all extraction prompts and responses:</p> <p> Timeline view of all extractions with filters by step, section, and concept type</p>"},{"location":"#case-synthesis-step-4","title":"Case Synthesis (Step 4)","text":"<p>Step 4 analyzes extracted entities to identify:</p> <ul> <li>Code of ethics provisions referenced in the case</li> <li>Ethical questions and board conclusions with linking</li> <li>Transformation classification (transfer, stalemate, oscillation, phase lag)</li> <li>Decision points where ethical choices must be made</li> <li>Toulmin-structured arguments for each decision option</li> </ul> <p></p>"},{"location":"#interactive-scenarios-step-5","title":"Interactive Scenarios (Step 5)","text":"<p>Step 5 enables exploration of ethical decisions:</p> <ul> <li>Interactive mode: Make your own choices, see LLM-generated consequences</li> <li>Decision analysis: View board reasoning with Toulmin argument structure</li> <li>Timeline construction with decision points</li> <li>Participant mapping with LLM-enhanced profiles</li> </ul> <p></p>"},{"location":"#precedent-discovery","title":"Precedent Discovery","text":"<p>Case-based reasoning identifies precedent cases through semantic similarity matching, enabling comparison against prior board decisions.</p>"},{"location":"#pipeline-automation","title":"Pipeline Automation","text":"<p>Batch processing capabilities allow automated extraction across multiple cases with progress tracking and result management.</p>"},{"location":"#current-implementation","title":"Current Implementation","text":"<p>ProEthica currently processes engineering ethics cases from the National Society of Professional Engineers (NSPE) Board of Ethical Review. The framework supports extension to other professional domains with established codes and precedent systems.</p>"},{"location":"#getting-help","title":"Getting Help","text":"<ul> <li>Check the FAQ for common questions</li> <li>Report issues at GitHub</li> <li>Production demo: https://proethica.org</li> </ul>"},{"location":"#academic-citation","title":"Academic Citation","text":"<p>If you use ProEthica in your research, please cite:</p> <p>Rauch, C. B., &amp; Weber, R. O. (2026). ProEthica: A Professional Role-Based Ethical Analysis Tool Using LLM-Orchestrated, Ontology Supported Case-Based Reasoning. In Proceedings of the AAAI Conference on Artificial Intelligence. Singapore: AAAI Press.</p>"},{"location":"#about-this-documentation","title":"About This Documentation","text":"<p>This manual covers installation, configuration, and usage of ProEthica features. Pages are organized by task and feature area with step-by-step guides and reference material.</p>"},{"location":"faq/","title":"Frequently Asked Questions","text":""},{"location":"faq/#general-questions","title":"General Questions","text":""},{"location":"faq/#what-is-proethica","title":"What is ProEthica?","text":"<p>ProEthica is a professional role-based ethical analysis tool that combines case-based reasoning with ontology-supported validation, orchestrated by large language models (LLMs), to help professional ethics committees analyze ethical scenarios against established standards and precedents.</p>"},{"location":"faq/#what-domains-does-proethica-support","title":"What domains does ProEthica support?","text":"<p>The current implementation processes engineering ethics cases from the National Society of Professional Engineers (NSPE) Board of Ethical Review. The framework supports extension to other professional domains with established codes and precedent systems, including medical and legal ethics.</p>"},{"location":"faq/#what-is-the-nine-concept-framework","title":"What is the Nine-Concept Framework?","text":"<p>ProEthica uses a formal framework D = (R, P, O, S, Rs, A, E, Ca, Cs) consisting of:</p> <ul> <li>Roles - Professional positions</li> <li>Principles - Abstract ethical standards</li> <li>Obligations - Concrete duties</li> <li>States - Situational context</li> <li>Resources - Available knowledge</li> <li>Actions - Professional behaviors</li> <li>Events - Precipitating occurrences</li> <li>Capabilities - Permissions</li> <li>Csonstraints - Prohibitions</li> </ul> <p>See Nine-Concept Framework for details.</p>"},{"location":"faq/#what-are-the-three-phases","title":"What are the three phases?","text":"<ol> <li>Phase 1 (Extraction): Multi-pass extraction of 9 concepts</li> <li>Phase 2 (Analysis): Case synthesis, rule analysis, transformation classification</li> <li>Phase 3 (Scenario): Interactive visualization with timeline and participants</li> </ol>"},{"location":"faq/#installation","title":"Installation","text":""},{"location":"faq/#what-are-the-system-requirements","title":"What are the system requirements?","text":"<ul> <li>Python 3.11+</li> <li>PostgreSQL 14+ with pgvector extension</li> <li>Redis (for pipeline automation)</li> <li>8GB+ RAM recommended</li> <li>API key for Claude (Anthropic)</li> </ul>"},{"location":"faq/#why-do-i-need-ontserve","title":"Why do I need OntServe?","text":"<p>OntServe provides ontology management and validation. It serves concept definitions that constrain LLM output to match formal specifications, ensuring consistency across extraction.</p>"},{"location":"faq/#can-i-run-without-ontserve","title":"Can I run without OntServe?","text":"<p>Yes, but with limited functionality. The \"Available Classes\" section will be empty, and entities won't validate against the ontology. Extraction still works, storing entities locally.</p>"},{"location":"faq/#how-do-i-install-pgvector","title":"How do I install pgvector?","text":"<pre><code>CREATE EXTENSION IF NOT EXISTS vector;\n</code></pre> <p>Required for semantic similarity matching in precedent discovery.</p>"},{"location":"faq/#extraction","title":"Extraction","text":""},{"location":"faq/#how-long-does-extraction-take","title":"How long does extraction take?","text":"<p>Typical extraction times per pass:</p> Pass Time Notes Pass 1 30-60 seconds Roles, States, Resources Pass 2 60-90 seconds Principles, Obligations, etc. Pass 3 30-60 seconds Events, Actions <p>Times vary with case length and LLM response time.</p>"},{"location":"faq/#what-if-extraction-fails","title":"What if extraction fails?","text":"<p>Common solutions:</p> <ol> <li>Check LLM API key is valid and has credits</li> <li>Verify OntServe MCP is running</li> <li>Use \"Clear and Re-run\" to restart</li> <li>Check network connectivity</li> </ol>"},{"location":"faq/#can-i-edit-extracted-entities","title":"Can I edit extracted entities?","text":"<p>Yes. During Entity Review you can:</p> <ul> <li>Edit labels and definitions</li> <li>Change class assignments</li> <li>Delete irrelevant entities</li> <li>Approve new ontology classes</li> </ul>"},{"location":"faq/#what-happens-when-i-commit-entities","title":"What happens when I commit entities?","text":"<p>Entities are saved to <code>temporary_rdf_storage</code> linked by <code>extraction_session_id</code>. They remain in temporary storage until explicitly pushed to the OntServe ontology.</p>"},{"location":"faq/#analysis","title":"Analysis","text":""},{"location":"faq/#what-is-transformation-classification","title":"What is transformation classification?","text":"<p>Phase 2 classifies how ethical situations evolve using four patterns:</p> <ul> <li>Transfer: Clear state change (A \u2192 B)</li> <li>Stalemate: Competing forces deadlock (A \u2194 B)</li> <li>Oscillation: Cyclic alternation (A \u2192 B \u2192 A)</li> <li>Phase Lag: Delayed response (A ... \u2192 B)</li> </ul>"},{"location":"faq/#how-are-conflicts-identified","title":"How are conflicts identified?","text":"<p>The system identifies:</p> <ul> <li>Principle tensions: Abstract conflicts (efficiency vs. competence)</li> <li>Obligation conflicts: Concrete duty conflicts (timely delivery vs. verification)</li> </ul> <p>These are detected through LLM analysis of extracted obligations and case context.</p>"},{"location":"faq/#can-i-modify-analysis-results","title":"Can I modify analysis results?","text":"<p>Yes. All analysis results can be edited:</p> <ul> <li>Tension characterizations</li> <li>Action mappings</li> <li>Transformation classification</li> </ul> <p>Changes are saved when you commit the analysis.</p>"},{"location":"faq/#scenarios","title":"Scenarios","text":""},{"location":"faq/#what-does-phase-3-generate","title":"What does Phase 3 generate?","text":"<p>Phase 3 creates an interactive scenario including:</p> <ul> <li>Timeline with decision points</li> <li>Participant profiles with LLM enhancement</li> <li>Relationship networks</li> <li>Causal chain visualization</li> <li>Links to code provisions</li> </ul>"},{"location":"faq/#how-are-participants-enhanced","title":"How are participants enhanced?","text":"<p>The LLM generates:</p> <ul> <li>2-3 sentence analytical profiles</li> <li>Ethically-relevant background details</li> <li>Additional motivations illuminating tensions</li> <li>Analytical notes on key principles and conflicts</li> </ul>"},{"location":"faq/#precedent-discovery","title":"Precedent Discovery","text":""},{"location":"faq/#how-does-similarity-matching-work","title":"How does similarity matching work?","text":"<p>Cases are compared using 384-dimensional embeddings generated from:</p> <ul> <li>Facts section text</li> <li>Discussion section text</li> </ul> <p>Cosine similarity measures how semantically similar cases are.</p>"},{"location":"faq/#why-are-my-similarity-scores-zero","title":"Why are my similarity scores zero?","text":"<p>Embeddings may need syncing. Check:</p> <ol> <li>Generate embeddings in Structure page</li> <li>Verify <code>case_precedent_features</code> table has embeddings</li> <li>Re-sync if needed</li> </ol>"},{"location":"faq/#what-similarity-score-is-significant","title":"What similarity score is significant?","text":"Score Interpretation 0.8+ Very similar cases 0.5-0.8 Moderately similar &lt; 0.5 Limited similarity"},{"location":"faq/#pipeline-automation","title":"Pipeline Automation","text":""},{"location":"faq/#what-is-celery-used-for","title":"What is Celery used for?","text":"<p>Celery handles background task processing for:</p> <ul> <li>Batch extraction across multiple cases</li> <li>Long-running LLM operations</li> <li>Queue management for bulk processing</li> </ul>"},{"location":"faq/#do-i-need-celery","title":"Do I need Celery?","text":"<p>No. Celery is optional for pipeline automation. You can perform extraction manually through the web interface without Celery.</p>"},{"location":"faq/#how-do-i-monitor-pipeline-progress","title":"How do I monitor pipeline progress?","text":"<p>The Pipeline Dashboard (<code>/pipeline/dashboard</code>) shows:</p> <ul> <li>Service status</li> <li>Active pipeline runs</li> <li>Queue depth</li> <li>Progress for each case</li> </ul>"},{"location":"faq/#llm-configuration","title":"LLM Configuration","text":""},{"location":"faq/#which-llm-models-are-supported","title":"Which LLM models are supported?","text":"<p>Primary: Claude (Anthropic) - claude-sonnet-4- (default extraction) - claude-opus-4- (complex analysis)</p> <p>Fallback: OpenAI, Google Gemini (optional)</p>"},{"location":"faq/#how-do-i-change-the-model","title":"How do I change the model?","text":"<p>Edit environment variables:</p> <pre><code>CLAUDE_DEFAULT_MODEL=claude-sonnet-4-20250514\n</code></pre> <p>Or configure via Admin interface.</p>"},{"location":"faq/#what-about-api-costs","title":"What about API costs?","text":"<p>Typical costs per case:</p> Phase Approximate Tokens Cost* Phase 1 10,000-20,000 $0.03-0.06 Phase 2 5,000-10,000 $0.02-0.03 Phase 3 5,000-10,000 $0.02-0.03 <p>*Estimates based on Claude Sonnet pricing</p>"},{"location":"faq/#troubleshooting","title":"Troubleshooting","text":""},{"location":"faq/#ontserve-connection-failed","title":"OntServe connection failed","text":"<ol> <li>Verify OntServe MCP is running on port 8082</li> <li>Check URL in <code>.env</code> matches actual server</li> <li>Test with curl:    <pre><code>curl -X POST http://localhost:8082 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"method\":\"list_tools\",\"id\":1}'\n</code></pre></li> </ol>"},{"location":"faq/#database-connection-failed","title":"Database connection failed","text":"<ol> <li>Verify PostgreSQL is running</li> <li>Check credentials in <code>.env</code></li> <li>Test connection:    <pre><code>PGPASSWORD=PASS psql -h localhost -U postgres -d ai_ethical_dm -c \"SELECT 1\"\n</code></pre></li> </ol>"},{"location":"faq/#llm-api-errors","title":"LLM API errors","text":"<ol> <li>Check API key is valid</li> <li>Verify account has credits</li> <li>Check rate limits</li> <li>Review error message for specifics</li> </ol>"},{"location":"faq/#pipeline-step-locked","title":"Pipeline step locked","text":"<p>Steps require prerequisites:</p> <ol> <li>Step 1b requires Step 1 complete</li> <li>Step 2 requires Step 1b complete</li> <li>And so on...</li> </ol> <p>Complete prior steps to unlock.</p>"},{"location":"faq/#data-management","title":"Data Management","text":""},{"location":"faq/#how-do-i-backup-data","title":"How do I backup data?","text":"<pre><code>pg_dump -h localhost -U postgres ai_ethical_dm &gt; backup.sql\n</code></pre> <p>Or use provided scripts: <pre><code>./scripts/backup_demo_database.sh\n</code></pre></p>"},{"location":"faq/#how-do-i-clear-a-case-for-re-extraction","title":"How do I clear a case for re-extraction?","text":"<pre><code>python scripts/clear_case_extractions.py &lt;case_id&gt;\n</code></pre> <p>Add <code>--include-runs</code> to also clear pipeline run records.</p>"},{"location":"faq/#how-do-i-remove-orphaned-entities","title":"How do I remove orphaned entities?","text":"<pre><code>python scripts/cleanup_orphaned_entities.py --delete\n</code></pre> <p>Run without <code>--delete</code> first to preview what will be removed.</p>"},{"location":"faq/#getting-help","title":"Getting Help","text":""},{"location":"faq/#where-can-i-report-issues","title":"Where can I report issues?","text":"<ul> <li>GitHub Issues: https://github.com/cr625/proethica/issues</li> <li>Demo site: https://proethica.org</li> </ul>"},{"location":"faq/#where-is-the-academic-paper","title":"Where is the academic paper?","text":"<p>Rauch, C. B., &amp; Weber, R. O. (2026). ProEthica: A Professional Role-Based Ethical Analysis Tool Using LLM-Orchestrated, Ontology Supported Case-Based Reasoning. AAAI Conference on Artificial Intelligence. Singapore.</p>"},{"location":"faq/#how-do-i-cite-proethica","title":"How do I cite ProEthica?","text":"<pre><code>@inproceedings{rauch2026proethica,\n  title={ProEthica: A Professional Role-Based Ethical Analysis Tool Using LLM-Orchestrated, Ontology Supported Case-Based Reasoning},\n  author={Rauch, Christopher B. and Weber, Rosina O.},\n  booktitle={Proceedings of the AAAI Conference on Artificial Intelligence},\n  year={2026},\n  organization={AAAI Press}\n}\n</code></pre>"},{"location":"concepts/nine-concepts/","title":"Nine-Concept Framework","text":"<p>ProEthica employs a nine-component formal framework to capture the essential components of professional ethical analysis. This framework, defined as D = (R, P, O, S, Rs, A, E, Ca, Cs), synthesizes concepts from computational ethics literature into a unified structure.</p>"},{"location":"concepts/nine-concepts/#framework-overview","title":"Framework Overview","text":"<p>The nine concepts organize according to logical dependencies in profession-based ethical decision analysis:</p> <pre><code>Roles (R)\n    \u2193 generate\nPrinciples (P)\n    \u2193 specify\nObligations (O)\n    \u2193 apply within\nStates (S) + Resources (Rs)\n    \u2193 precipitate\nEvents (E) \u2192 Actions (A)\n    \u2193 bounded by\nCapabilities (Ca) + Constraints (Cs)\n</code></pre>"},{"location":"concepts/nine-concepts/#the-nine-concepts","title":"The Nine Concepts","text":""},{"location":"concepts/nine-concepts/#roles-r","title":"Roles (R)","text":"<p>Definition: Professional positions that generate abstract principles.</p> <p>Roles define the professional identity of individuals in an ethical scenario. Each role carries inherent responsibilities and generates specific obligations.</p> <p>Examples: - Engineer - Client - Employer - Public Official - Consulting Engineer</p> <p>Ontology Source: Builds on Oakley and Cocking's (2001) role-generated obligations.</p>"},{"location":"concepts/nine-concepts/#principles-p","title":"Principles (P)","text":"<p>Definition: Abstract ethical standards derived from professional roles.</p> <p>Principles are general ethical guidelines that apply across specific situations. They form the foundational layer of professional ethics codes.</p> <p>Examples: - Hold paramount the safety, health, and welfare of the public - Perform services only in areas of competence - Act as faithful agents or trustees - Avoid deceptive acts</p> <p>Relation to Obligations: Principles specify concrete Obligations that professionals must follow.</p>"},{"location":"concepts/nine-concepts/#obligations-o","title":"Obligations (O)","text":"<p>Definition: Concrete duties derived from principles.</p> <p>Obligations are specific, actionable requirements that professionals must fulfill. They form the deontic foundation of professional conduct.</p> <p>Examples: - Verify AI-generated designs before certification - Disclose conflicts of interest to clients - Maintain confidentiality of client information - Report safety violations to appropriate authorities</p> <p>Deontic Status: Obligations express what professionals must do (mandatory requirements).</p>"},{"location":"concepts/nine-concepts/#states-s","title":"States (S)","text":"<p>Definition: Situational context and conditions within which obligations apply.</p> <p>States describe the circumstances, conditions, and facts that characterize the ethical scenario. They establish the context for decision-making.</p> <p>Examples: - Engineer lacks AI competence - Client has limited budget - Project deadline is imminent - Public safety is at risk</p> <p>Role in Analysis: States help determine which obligations apply and how they should be prioritized.</p>"},{"location":"concepts/nine-concepts/#resources-rs","title":"Resources (Rs)","text":"<p>Definition: Available knowledge, references, and informational assets.</p> <p>Resources include codes of ethics, technical standards, regulatory requirements, and other materials that inform ethical decision-making.</p> <p>Examples: - NSPE Code of Ethics II.1.a (competence requirement) - State licensing regulations - Industry technical standards - Prior board decisions</p> <p>Function: Resources provide authoritative guidance for resolving ethical questions.</p>"},{"location":"concepts/nine-concepts/#events-e","title":"Events (E)","text":"<p>Definition: Precipitating occurrences that require ethical response.</p> <p>Events are specific happenings that trigger the need for ethical deliberation and action. They mark transitions in the scenario timeline.</p> <p>Examples: - Client requests AI-assisted design - Engineer discovers safety flaw - Competitor makes job offer - Deadline arrives</p> <p>Temporal Nature: Events have specific occurrence times and create before/after relationships.</p>"},{"location":"concepts/nine-concepts/#actions-a","title":"Actions (A)","text":"<p>Definition: What professionals do or could do in response to events.</p> <p>Actions are deliberate behaviors taken (or not taken) by professionals. Analysis considers both actions actually taken and alternatives not pursued.</p> <p>Examples: - Uses AI without verification (action taken) - Hire specialist consultant (alternative) - Decline project (alternative) - Request deadline extension (alternative)</p> <p>Ethical Significance: Actions are evaluated against obligations, capabilities, and constraints.</p>"},{"location":"concepts/nine-concepts/#capabilities-ca","title":"Capabilities (Ca)","text":"<p>Definition: What professionals can do within their competence and authority.</p> <p>Capabilities describe the range of permissible and possible actions available to professionals. They establish what is within professional scope.</p> <p>Examples: - Can hire specialists for areas outside competence - Can request additional time for proper review - Can consult with ethics board - Can decline work outside expertise</p> <p>Deontic Status: Capabilities express what professionals may do (permissions).</p>"},{"location":"concepts/nine-concepts/#constraints-cs","title":"Constraints (Cs)","text":"<p>Definition: Limitations on professional conduct.</p> <p>Constraints define boundaries that professionals cannot cross. They may arise from competence limits, ethical prohibitions, or situational factors.</p> <p>Examples: - Cannot certify work beyond competence - Cannot misrepresent qualifications - Cannot prioritize profit over safety - Cannot disclose confidential information</p> <p>Deontic Status: Constraints express what professionals must not do (prohibitions).</p>"},{"location":"concepts/nine-concepts/#extraction-process","title":"Extraction Process","text":"<p>ProEthica extracts these nine concepts through three passes:</p>"},{"location":"concepts/nine-concepts/#pass-1-contextual-framework","title":"Pass 1: Contextual Framework","text":"<p>Extracts foundational elements that establish the scenario context:</p> Concept Typical Count Focus Roles 3-6 Professional positions identified States 10-20 Situational conditions Resources 15-30 Referenced standards and codes"},{"location":"concepts/nine-concepts/#pass-2-normative-requirements","title":"Pass 2: Normative Requirements","text":"<p>Extracts ethical framework elements:</p> Concept Typical Count Focus Principles 15-25 Abstract ethical standards Obligations 15-25 Concrete duties Constraints 15-20 Prohibitions and limits Capabilities 15-25 Permissions and options"},{"location":"concepts/nine-concepts/#pass-3-temporal-dynamics","title":"Pass 3: Temporal Dynamics","text":"<p>Extracts action and event sequences:</p> Concept Typical Count Focus Events 3-8 Precipitating occurrences Actions 5-12 Professional responses Relations 10-20 Temporal and causal links"},{"location":"concepts/nine-concepts/#concept-relationships","title":"Concept Relationships","text":"<p>The nine concepts form a coherent structure:</p> <p>Generation Chain: Roles \u2192 Principles \u2192 Obligations</p> <p>Context Dependencies: States and Resources determine which Obligations apply</p> <p>Action Framework: Events precipitate Actions bounded by Capabilities and Constraints</p> <p>Causal Chains: Conditions (States) can lead to Obligation violations</p>"},{"location":"concepts/nine-concepts/#theoretical-foundations","title":"Theoretical Foundations","text":"<p>The framework builds on established computational ethics research:</p> <ul> <li>Modular Architecture: Berreby, Bourgne, and Ganascia (2017) - declarative ethical reasoning</li> <li>Role Ethics: Oakley and Cocking (2001) - virtue ethics and professional roles</li> <li>Case-Based Ethics: McLaren (2003) - extensionally defining principles through cases</li> <li>Role-Based Alignment: Rauch et al. (2025) - decision-maker alignment through roles</li> </ul>"},{"location":"concepts/nine-concepts/#related-guides","title":"Related Guides","text":"<ul> <li>Phase 1 Extraction - Extracting concepts</li> <li>Entity Review - Validating extracted concepts</li> <li>Ontology Integration - Concept definitions</li> </ul>"},{"location":"getting-started/first-login/","title":"First Login","text":"<p>This guide introduces the ProEthica interface and helps you navigate the system.</p>"},{"location":"getting-started/first-login/#interface-overview","title":"Interface Overview","text":"<p>ProEthica provides a web interface for ethical case analysis with several key areas:</p>"},{"location":"getting-started/first-login/#navigation-bar","title":"Navigation Bar","text":"<p>The top navigation provides access to main features:</p> Menu Item Description Cases Manage and analyze ethics cases Precedents Discover similar precedent cases Tools Academic references and utilities Admin System administration (if authorized)"},{"location":"getting-started/first-login/#cases-page","title":"Cases Page","text":"<p>The Cases page (<code>/cases/</code>) is the primary entry point for analysis:</p> <ul> <li>View all uploaded cases</li> <li>Filter by status (analyzed, pending)</li> <li>Access individual case details</li> <li>Generate document embeddings</li> <li>Launch extraction pipeline</li> </ul>"},{"location":"getting-started/first-login/#case-detail-view","title":"Case Detail View","text":"<p>Each case has a detail page (<code>/cases/&lt;id&gt;</code>) showing:</p> <ul> <li>Case title and metadata</li> <li>Full case narrative (Facts and Discussion sections)</li> <li>Structure button - View sections and embeddings</li> <li>Analyze button - Start extraction pipeline</li> <li>Extraction status if previously processed</li> </ul>"},{"location":"getting-started/first-login/#scenario-pipeline","title":"Scenario Pipeline","text":"<p>The extraction pipeline (<code>/scenario_pipeline/&lt;case_id&gt;</code>) provides step-by-step analysis:</p> Step Phase Description Step 1 Phase 1 Pass 1 extraction (Facts: Roles, States, Resources) Step 1b Phase 1 Pass 1 extraction (Discussion section) Step 2 Phase 1 Pass 2 extraction (Principles, Obligations) Step 2b Phase 1 Pass 2 extraction (Discussion section) Step 3 Phase 1 Pass 3 extraction (Temporal dynamics) Step 4 Phase 2 Case synthesis and analysis Step 5 Phase 3 Interactive scenario visualization"},{"location":"getting-started/first-login/#entity-review","title":"Entity Review","text":"<p>After each extraction pass, the Entity Review page displays:</p> <ul> <li>Extracted entities with class labels</li> <li>Available classes from OntServe ontology</li> <li>Edit/delete controls for each entity</li> <li>Commit button to finalize extraction</li> </ul>"},{"location":"getting-started/first-login/#pipeline-dashboard","title":"Pipeline Dashboard","text":"<p>For batch processing (<code>/pipeline/dashboard</code>):</p> <ul> <li>Service status (Redis, Celery, queue depth)</li> <li>Active pipeline runs with progress</li> <li>Queue management for bulk operations</li> <li>Cancel/reprocess controls</li> </ul>"},{"location":"getting-started/first-login/#precedent-discovery","title":"Precedent Discovery","text":"<p>The Precedents page (<code>/cases/precedents/</code>) shows:</p> <ul> <li>Similarity scores between cases</li> <li>Embedding-based matching on Facts and Discussion</li> <li>Filter by case selection</li> <li>Navigate to similar cases</li> </ul>"},{"location":"getting-started/first-login/#workflow-overview","title":"Workflow Overview","text":"<p>A typical analysis workflow:</p> <ol> <li>Upload Case - Add case text via Cases page</li> <li>Generate Embeddings - Create section embeddings for similarity</li> <li>Start Pipeline - Begin extraction from case detail</li> <li>Review Entities - Validate extracted concepts</li> <li>Commit Entities - Finalize to OntServe</li> <li>Run Analysis - Execute Phase 2 analysis</li> <li>View Scenario - Explore interactive visualization</li> <li>Find Precedents - Compare with similar cases</li> </ol>"},{"location":"getting-started/first-login/#status-indicators","title":"Status Indicators","text":""},{"location":"getting-started/first-login/#service-status","title":"Service Status","text":"<p>The header shows service connectivity:</p> <ul> <li>Green: All services operational</li> <li>Yellow: Some services unavailable</li> <li>Red: Critical services offline</li> </ul>"},{"location":"getting-started/first-login/#extraction-status","title":"Extraction Status","text":"<p>Pipeline steps show completion status:</p> <ul> <li>Lock icon: Prerequisites not met</li> <li>Check mark: Step completed</li> <li>Arrow: Current step available</li> </ul>"},{"location":"getting-started/first-login/#entity-status","title":"Entity Status","text":"<p>Entities in review show:</p> <ul> <li>New: Extracted this session</li> <li>Existing: Matches ontology class</li> <li>Modified: User-edited entity</li> </ul>"},{"location":"getting-started/first-login/#quick-actions","title":"Quick Actions","text":""},{"location":"getting-started/first-login/#generate-embeddings","title":"Generate Embeddings","text":"<p>From case detail, click Structure then Generate Embeddings to create vector representations for similarity matching.</p>"},{"location":"getting-started/first-login/#clear-and-re-run","title":"Clear and Re-run","text":"<p>Each extraction step includes a Clear and Re-run option to restart extraction with fresh results.</p>"},{"location":"getting-started/first-login/#cancel-pipeline","title":"Cancel Pipeline","text":"<p>From Pipeline Dashboard, use Cancel button to stop running extractions.</p>"},{"location":"getting-started/first-login/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Shortcut Action <code>Ctrl+Enter</code> Submit current form <code>Esc</code> Close modal dialogs"},{"location":"getting-started/first-login/#next-steps","title":"Next Steps","text":"<ul> <li>Upload Cases - Add cases for analysis</li> <li>Nine-Concept Framework - Understand the methodology</li> <li>Phase 1 Extraction - Start extracting concepts</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>This guide covers setting up ProEthica for local development and production deployment.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11 or higher</li> <li>PostgreSQL 14 or higher</li> <li>Redis (for pipeline automation)</li> <li>OntServe MCP server (for ontology integration)</li> </ul>"},{"location":"getting-started/installation/#quick-start","title":"Quick Start","text":""},{"location":"getting-started/installation/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/cr625/proethica.git\ncd proethica\n</code></pre>"},{"location":"getting-started/installation/#2-create-virtual-environment","title":"2. Create Virtual Environment","text":"<pre><code>python -m venv venv-proethica\nsource venv-proethica/bin/activate  # Linux/Mac\n# or\nvenv-proethica\\Scripts\\activate     # Windows\n</code></pre>"},{"location":"getting-started/installation/#3-install-dependencies","title":"3. Install Dependencies","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"getting-started/installation/#4-configure-environment","title":"4. Configure Environment","text":"<p>Copy the example environment file and configure:</p> <pre><code>cp .env.example .env\n</code></pre> <p>Edit <code>.env</code> with your settings:</p> <pre><code># Flask\nFLASK_ENV=development\nFLASK_HOST=0.0.0.0\nFLASK_PORT=5000\nSECRET_KEY=your-secret-key\n\n# Database\nSQLALCHEMY_DATABASE_URI=postgresql://postgres:PASS@localhost:5432/ai_ethical_dm\n\n# LLM (at least one required)\nANTHROPIC_API_KEY=sk-ant-...\n# OPENAI_API_KEY=sk-...\n\n# OntServe MCP\nONTSERVE_MCP_ENABLED=true\nONTSERVE_MCP_URL=http://localhost:8082\n\n# Extraction\nEXTRACTION_MODE=multi_pass\n</code></pre>"},{"location":"getting-started/installation/#5-initialize-database","title":"5. Initialize Database","text":"<p>Create the PostgreSQL database:</p> <pre><code>createdb ai_ethical_dm\n</code></pre> <p>Run migrations:</p> <pre><code>cd db_migration\npsql -h localhost -U postgres -d ai_ethical_dm -f 001_initial_schema.sql\n# Run additional migrations in order\n</code></pre>"},{"location":"getting-started/installation/#6-start-ontserve-mcp-required","title":"6. Start OntServe MCP (Required)","text":"<p>ProEthica requires OntServe MCP server for ontology validation:</p> <pre><code>cd /path/to/OntServe\nsource venv-ontserve/bin/activate\npython servers/mcp_server.py\n</code></pre>"},{"location":"getting-started/installation/#7-start-proethica","title":"7. Start ProEthica","text":"<pre><code>cd /path/to/proethica\nsource venv-proethica/bin/activate\npython run.py\n</code></pre> <p>Access at: http://localhost:5000</p>"},{"location":"getting-started/installation/#service-dependencies","title":"Service Dependencies","text":"Service Port Required Purpose ProEthica 5000 Yes Main application OntServe MCP 8082 Yes Ontology validation PostgreSQL 5432 Yes Data storage Redis 6379 Optional Pipeline automation Celery Worker - Optional Background tasks"},{"location":"getting-started/installation/#pipeline-automation-optional","title":"Pipeline Automation (Optional)","text":"<p>For batch case processing, enable Celery:</p>"},{"location":"getting-started/installation/#start-redis","title":"Start Redis","text":"<pre><code>redis-server\n</code></pre>"},{"location":"getting-started/installation/#start-celery-worker","title":"Start Celery Worker","text":"<pre><code>PYTHONPATH=/path/to/parent:$PYTHONPATH celery -A celery_config worker --loglevel=info\n</code></pre>"},{"location":"getting-started/installation/#start-proethica-with-full-stack","title":"Start ProEthica with Full Stack","text":"<p>Use the convenience script:</p> <pre><code>./scripts/start_all.sh start\n</code></pre>"},{"location":"getting-started/installation/#production-deployment","title":"Production Deployment","text":"<p>For production deployment to DigitalOcean or similar:</p> <ol> <li>Configure systemd services for OntServe MCP</li> <li>Set up nginx reverse proxy</li> <li>Configure SSL certificates</li> <li>Set <code>FLASK_ENV=production</code></li> <li>Use gunicorn instead of Flask development server</li> </ol> <p>See Deployment Checklist for details.</p>"},{"location":"getting-started/installation/#verifying-installation","title":"Verifying Installation","text":"<p>After starting all services:</p> <ol> <li>Visit http://localhost:5000</li> <li>Navigate to Cases page</li> <li>Verify OntServe connection indicator shows green</li> <li>Try uploading a test case</li> </ol>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#database-connection-failed","title":"Database Connection Failed","text":"<p>Verify PostgreSQL is running and credentials match <code>.env</code>:</p> <pre><code>PGPASSWORD=PASS psql -h localhost -U postgres -d ai_ethical_dm -c \"SELECT 1\"\n</code></pre>"},{"location":"getting-started/installation/#ontserve-mcp-not-available","title":"OntServe MCP Not Available","text":"<p>Check MCP server is running on port 8082:</p> <pre><code>curl -X POST http://localhost:8082 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"method\":\"list_tools\",\"id\":1}'\n</code></pre>"},{"location":"getting-started/installation/#llm-api-errors","title":"LLM API Errors","text":"<p>Verify API key is set and has credits:</p> <pre><code>echo $ANTHROPIC_API_KEY\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>First Login - Interface overview</li> <li>Upload Cases - Add cases for analysis</li> </ul>"},{"location":"how-to/entity-review/","title":"Entity Review","text":"<p>This guide covers the entity review workflow for validating extracted concepts before commitment to the ontology.</p>"},{"location":"how-to/entity-review/#overview","title":"Overview","text":"<p>After each extraction pass, entities enter a review queue where users:</p> <ol> <li>Validate accuracy of extracted entities</li> <li>Edit labels and definitions</li> <li>Match to existing ontology classes</li> <li>Approve new classes when needed</li> <li>Commit validated entities</li> </ol>"},{"location":"how-to/entity-review/#entity-review-interface","title":"Entity Review Interface","text":""},{"location":"how-to/entity-review/#accessing-review","title":"Accessing Review","text":"<p>After extraction completes, the Entity Review page displays automatically. You can also access it via:</p> <ul> <li>Pipeline step completion</li> <li>Entity Review link in sidebar</li> <li>Direct URL: <code>/scenario_pipeline/&lt;case_id&gt;/entity_review/&lt;pass&gt;</code></li> </ul>"},{"location":"how-to/entity-review/#interface-layout","title":"Interface Layout","text":"Section Description Available Classes Existing classes from OntServe ontology Extracted Entities New entities from extraction Entity Details Edit form for selected entity Actions Commit, clear, re-run controls"},{"location":"how-to/entity-review/#available-classes","title":"Available Classes","text":"<p>The collapsible \"Available Classes\" section shows existing ontology classes from OntServe:</p>"},{"location":"how-to/entity-review/#class-categories","title":"Class Categories","text":"Category Examples Roles Engineer, Client, Employer States Competent, Conflicted, Authorized Resources NSPE Code, State Regulations Principles Public Safety, Competence Obligations Disclose, Verify, Report Constraints Cannot Certify, Must Not Capabilities Can Consult, May Decline Events Request, Discovery, Violation Actions Certify, Disclose, Decline"},{"location":"how-to/entity-review/#using-available-classes","title":"Using Available Classes","text":"<p>When reviewing entities:</p> <ol> <li>Expand \"Available Classes\" section</li> <li>Find matching class if exists</li> <li>Reassign entity to existing class</li> <li>Or approve as new class</li> </ol>"},{"location":"how-to/entity-review/#entity-table","title":"Entity Table","text":""},{"location":"how-to/entity-review/#table-columns","title":"Table Columns","text":"Column Description Select Checkbox for bulk actions Label Short entity identifier Type Concept type (Role, State, etc.) Definition Full description Status New, Existing, Modified Actions Edit, Delete buttons"},{"location":"how-to/entity-review/#status-indicators","title":"Status Indicators","text":"Status Icon Meaning New Star Extracted this session, no ontology match Existing Check Matches existing ontology class Modified Pencil User-edited entity Pending Clock Awaiting review"},{"location":"how-to/entity-review/#editing-entities","title":"Editing Entities","text":""},{"location":"how-to/entity-review/#edit-dialog","title":"Edit Dialog","text":"<p>Click Edit on any entity to open edit dialog:</p> Field Description Label Short identifier (edit freely) Definition Full description (edit freely) Class Ontology class assignment Source Original extraction source"},{"location":"how-to/entity-review/#best-practices","title":"Best Practices","text":"<p>When editing entities:</p> <ul> <li>Labels: Keep concise (2-5 words)</li> <li>Definitions: Be specific and complete</li> <li>Class: Match to existing when appropriate</li> <li>Source: Preserve for provenance</li> </ul>"},{"location":"how-to/entity-review/#merging-entities","title":"Merging Entities","text":"<p>If duplicate entities extracted:</p> <ol> <li>Identify duplicates</li> <li>Keep most accurate version</li> <li>Delete duplicates</li> <li>Or use Clear and Re-run</li> </ol>"},{"location":"how-to/entity-review/#class-assignment","title":"Class Assignment","text":""},{"location":"how-to/entity-review/#matching-existing-classes","title":"Matching Existing Classes","text":"<p>To assign entity to existing class:</p> <ol> <li>Click Edit on entity</li> <li>Open Class dropdown</li> <li>Select matching class from list</li> <li>Save changes</li> </ol>"},{"location":"how-to/entity-review/#approving-new-classes","title":"Approving New Classes","text":"<p>When LLM identifies genuinely novel concept:</p> <ol> <li>Entity marked \"New Class\"</li> <li>Review definition carefully</li> <li>Click Approve New Class</li> <li>Entity will create new ontology class on commit</li> </ol>"},{"location":"how-to/entity-review/#when-to-approve-new","title":"When to Approve New","text":"<p>Approve new class when:</p> <ul> <li>Concept not in existing ontology</li> <li>Definition is clear and specific</li> <li>Concept is genuinely distinct</li> <li>Will be useful for future cases</li> </ul>"},{"location":"how-to/entity-review/#when-to-reassign","title":"When to Reassign","text":"<p>Reassign to existing class when:</p> <ul> <li>Similar class exists in ontology</li> <li>Difference is merely wording</li> <li>Can be subsumed by existing concept</li> </ul>"},{"location":"how-to/entity-review/#bulk-operations","title":"Bulk Operations","text":""},{"location":"how-to/entity-review/#select-all","title":"Select All","text":"<p>Use header checkbox to select all entities.</p>"},{"location":"how-to/entity-review/#bulk-delete","title":"Bulk Delete","text":"<p>Select multiple entities and click Delete Selected.</p>"},{"location":"how-to/entity-review/#bulk-approve","title":"Bulk Approve","text":"<p>Select multiple new classes and click Approve Selected.</p>"},{"location":"how-to/entity-review/#committing-entities","title":"Committing Entities","text":""},{"location":"how-to/entity-review/#commit-process","title":"Commit Process","text":"<p>After review complete:</p> <ol> <li>Ensure all entities reviewed</li> <li>Click Commit Entities</li> <li>Entities saved to temporary storage</li> <li>Linked to extraction session</li> <li>Ready for Phase 2 analysis</li> </ol>"},{"location":"how-to/entity-review/#what-commit-does","title":"What Commit Does","text":"Action Result Saves Entities to <code>temporary_rdf_storage</code> Links Entities to <code>extraction_session_id</code> Records Prompt and response in <code>extraction_prompts</code> Enables Next pipeline step"},{"location":"how-to/entity-review/#temporary-vs-permanent","title":"Temporary vs Permanent","text":"<p>Committed entities remain in temporary storage until explicitly pushed to OntServe ontology. This allows:</p> <ul> <li>Further review and editing</li> <li>Rollback if needed</li> <li>Batch ontology updates</li> </ul>"},{"location":"how-to/entity-review/#clear-and-re-run","title":"Clear and Re-run","text":""},{"location":"how-to/entity-review/#when-to-use","title":"When to Use","text":"<p>Use Clear and Re-run when:</p> <ul> <li>Extraction quality poor</li> <li>Major changes needed</li> <li>Starting fresh preferred</li> </ul>"},{"location":"how-to/entity-review/#clear-process","title":"Clear Process","text":"<ol> <li>Click Clear and Re-run</li> <li>Existing entities removed</li> <li>Extraction runs again</li> <li>New entities replace old</li> </ol>"},{"location":"how-to/entity-review/#preserving-work","title":"Preserving Work","text":"<p>If partial work should be preserved:</p> <ol> <li>Export entities first</li> <li>Or commit before clearing</li> <li>Then clear and re-run</li> </ol>"},{"location":"how-to/entity-review/#extraction-session-linkage","title":"Extraction Session Linkage","text":""},{"location":"how-to/entity-review/#session-id","title":"Session ID","text":"<p>Each extraction creates a unique <code>extraction_session_id</code> linking:</p> <ul> <li><code>ExtractionPrompt</code> records (prompt/response)</li> <li><code>TemporaryRDFStorage</code> records (entities)</li> </ul>"},{"location":"how-to/entity-review/#viewing-session","title":"Viewing Session","text":"<p>Session information shows:</p> <ul> <li>Session ID</li> <li>Timestamp</li> <li>Entity count</li> <li>Prompt/response data</li> </ul>"},{"location":"how-to/entity-review/#session-persistence","title":"Session Persistence","text":"<p>Sessions persist in database until:</p> <ul> <li>Explicitly cleared</li> <li>Case deleted</li> <li>Manual cleanup</li> </ul>"},{"location":"how-to/entity-review/#ontserve-integration","title":"OntServe Integration","text":""},{"location":"how-to/entity-review/#available-classes-source","title":"Available Classes Source","text":"<p>Available classes fetched from OntServe MCP via:</p> <ul> <li><code>get_entities_by_category()</code> method</li> <li>Real-time ontology query</li> <li>Cached for performance</li> </ul>"},{"location":"how-to/entity-review/#connection-status","title":"Connection Status","text":"<p>Header shows OntServe status:</p> Status Meaning Green Connected, classes available Yellow Degraded, limited function Red Disconnected, no classes"},{"location":"how-to/entity-review/#fallback-mode","title":"Fallback Mode","text":"<p>If OntServe unavailable:</p> <ul> <li>Available classes section empty</li> <li>Extraction still works</li> <li>Commit stores locally</li> <li>Push to ontology deferred</li> </ul>"},{"location":"how-to/entity-review/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/entity-review/#empty-available-classes","title":"Empty Available Classes","text":"<p>If Available Classes empty:</p> <ol> <li>Check OntServe MCP running</li> <li>Verify connection status</li> <li>Restart OntServe if needed</li> </ol>"},{"location":"how-to/entity-review/#commit-failed","title":"Commit Failed","text":"<p>If commit fails:</p> <ol> <li>Check database connection</li> <li>Verify entity data valid</li> <li>Check for constraint violations</li> <li>Review error message</li> </ol>"},{"location":"how-to/entity-review/#lost-entities","title":"Lost Entities","text":"<p>If entities disappear:</p> <ol> <li>Check if Clear was clicked</li> <li>Review extraction session</li> <li>Check database directly</li> <li>Re-run extraction if needed</li> </ol>"},{"location":"how-to/entity-review/#related-guides","title":"Related Guides","text":"<ul> <li>Phase 1 Extraction - Extraction process</li> <li>Ontology Integration - OntServe details</li> <li>Pipeline Automation - Batch processing</li> </ul>"},{"location":"how-to/phase1-extraction/","title":"Phase 1: Multi-Pass Extraction","text":"<p>Phase 1 performs multi-pass concept extraction using ontology-validated definitions via MCP queries to OntServe. This guide covers the three extraction passes.</p>"},{"location":"how-to/phase1-extraction/#overview","title":"Overview","text":"<p>Phase 1 extracts the nine concepts across three passes:</p> Pass Name Concepts Section Pass 1 Contextual Framework Roles, States, Resources Facts Pass 2 Normative Requirements Principles, Obligations, Constraints, Capabilities Discussion Pass 3 Temporal Dynamics Events, Actions, Temporal Relations Full Case"},{"location":"how-to/phase1-extraction/#starting-extraction","title":"Starting Extraction","text":""},{"location":"how-to/phase1-extraction/#access-the-pipeline","title":"Access the Pipeline","text":"<ol> <li>Navigate to the case detail page (<code>/cases/&lt;id&gt;</code>)</li> <li>Click Analyze button</li> <li>You'll arrive at the Scenario Pipeline overview</li> </ol>"},{"location":"how-to/phase1-extraction/#pipeline-navigation","title":"Pipeline Navigation","text":"<p>The left sidebar shows pipeline steps:</p> Step Description Prerequisite Step 1 Facts extraction (Pass 1) None Step 1b Discussion extraction (Pass 1) Step 1 Step 2 Facts extraction (Pass 2) Step 1b Step 2b Discussion extraction (Pass 2) Step 2 Step 3 Temporal extraction (Pass 3) Step 2b Step 4 Case analysis Step 3 Step 5 Scenario visualization Step 4"},{"location":"how-to/phase1-extraction/#pass-1-contextual-framework","title":"Pass 1: Contextual Framework","text":""},{"location":"how-to/phase1-extraction/#step-1-facts-section","title":"Step 1: Facts Section","text":"<ol> <li>Click Step 1 in the pipeline sidebar</li> <li>The Facts section text is displayed</li> <li>Click Run Extraction to begin</li> </ol> <p>The system extracts:</p> Concept Description Typical Count Roles Professional positions 3-6 entities States Situational conditions 10-20 entities Resources Referenced standards 15-30 entities"},{"location":"how-to/phase1-extraction/#entity-review","title":"Entity Review","text":"<p>After extraction completes:</p> <ol> <li>Review extracted entities in the table</li> <li>Available classes from OntServe shown in collapsible section</li> <li>Edit entity labels or definitions as needed</li> <li>Select entities to keep</li> </ol>"},{"location":"how-to/phase1-extraction/#step-1b-discussion-section","title":"Step 1b: Discussion Section","text":"<ol> <li>After completing Step 1 review, click Step 1b</li> <li>Discussion section text displayed</li> <li>Run extraction for additional Roles, States, Resources</li> </ol>"},{"location":"how-to/phase1-extraction/#pass-2-normative-requirements","title":"Pass 2: Normative Requirements","text":""},{"location":"how-to/phase1-extraction/#step-2-facts-section","title":"Step 2: Facts Section","text":"<ol> <li>Click Step 2 (requires Step 1b complete)</li> <li>Extract from Facts section:</li> </ol> Concept Description Typical Count Principles Abstract ethical standards 15-25 entities Obligations Concrete duties 15-25 entities Constraints Prohibitions and limits 15-20 entities Capabilities Permissions and options 15-25 entities"},{"location":"how-to/phase1-extraction/#step-2b-discussion-section","title":"Step 2b: Discussion Section","text":"<p>Extract normative concepts from Discussion section for comprehensive coverage.</p>"},{"location":"how-to/phase1-extraction/#pass-3-temporal-dynamics","title":"Pass 3: Temporal Dynamics","text":""},{"location":"how-to/phase1-extraction/#step-3-full-case","title":"Step 3: Full Case","text":"<ol> <li>Click Step 3 (requires Step 2b complete)</li> <li>Extracts from full case content:</li> </ol> Concept Description Typical Count Events Precipitating occurrences 3-8 entities Actions Professional responses 5-12 entities Temporal Relations Before/after relationships 10-20 relations Causal Chains Cause-effect links 5-10 chains"},{"location":"how-to/phase1-extraction/#timeline-construction","title":"Timeline Construction","text":"<p>Pass 3 builds a timeline showing:</p> <ul> <li>Event sequence</li> <li>Action responses</li> <li>Causal relationships</li> </ul>"},{"location":"how-to/phase1-extraction/#extraction-options","title":"Extraction Options","text":""},{"location":"how-to/phase1-extraction/#clear-and-re-run","title":"Clear and Re-run","text":"<p>Each step includes Clear and Re-run to restart extraction:</p> <ul> <li>Removes previously extracted entities</li> <li>Starts fresh extraction</li> <li>Use when results need improvement</li> </ul>"},{"location":"how-to/phase1-extraction/#model-selection","title":"Model Selection","text":"<p>The system uses Claude for extraction by default. Model selection configured via environment variables.</p>"},{"location":"how-to/phase1-extraction/#progress-tracking","title":"Progress Tracking","text":"<p>During extraction:</p> <ul> <li>SSE streaming shows progress</li> <li>Progress bar indicates completion</li> <li>Entity count updates in real-time</li> </ul>"},{"location":"how-to/phase1-extraction/#entity-quality","title":"Entity Quality","text":""},{"location":"how-to/phase1-extraction/#review-criteria","title":"Review Criteria","text":"<p>When reviewing extracted entities:</p> Check Description Accuracy Entity correctly represents case content Completeness All relevant concepts captured Distinctness No duplicate entities Specificity Entities are appropriately specific"},{"location":"how-to/phase1-extraction/#editing-entities","title":"Editing Entities","text":"<p>For each entity, you can:</p> <ul> <li>Edit the label (short identifier)</li> <li>Edit the definition (full description)</li> <li>Change the class assignment</li> <li>Delete if not relevant</li> </ul>"},{"location":"how-to/phase1-extraction/#approving-new-classes","title":"Approving New Classes","text":"<p>When LLM identifies a concept not in the ontology:</p> <ol> <li>Entity marked as \"New Class\"</li> <li>Review if genuinely novel</li> <li>Approve to add to OntServe ontology</li> <li>Or reassign to existing class</li> </ol>"},{"location":"how-to/phase1-extraction/#commit-entities","title":"Commit Entities","text":"<p>After review, click Commit to:</p> <ul> <li>Save entities to temporary storage</li> <li>Link entities with extraction session</li> <li>Enable Step 4 analysis</li> </ul> <p>Entities remain in temporary storage until explicitly committed to OntServe ontology.</p>"},{"location":"how-to/phase1-extraction/#extraction-metrics","title":"Extraction Metrics","text":"<p>After each pass, metrics show:</p> Metric Description Total Entities Count of extracted entities By Type Breakdown by concept type New Classes Entities requiring new ontology classes Existing Matches Entities matching ontology"},{"location":"how-to/phase1-extraction/#example-case-24-2","title":"Example: Case 24-2","text":"<p>For NSPE Case 24-2 (AI in Engineering Practice):</p> <p>Pass 1 Results: - Roles (4): Engineer, Client, Employer, State Board - States (16): Engineer lacks AI competence, Project uses AI tools, etc. - Resources (29): NSPE Code II.1.a, State licensing requirements, etc.</p> <p>Pass 2 Results: - Principles (18): Hold paramount public safety, Practice competence, etc. - Obligations (18): Verify AI-generated designs, Disclose limitations, etc. - Constraints (18): Cannot certify beyond competence, etc. - Capabilities (20): Can hire specialists, Can request extensions, etc.</p> <p>Pass 3 Results: - Events (3): Client requests AI design, etc. - Actions (7): Uses AI without verification, etc. - Relations (12): Request before decision, etc. - Chains (6): Lacks competence leads to violation, etc.</p>"},{"location":"how-to/phase1-extraction/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/phase1-extraction/#extraction-timeout","title":"Extraction Timeout","text":"<p>Long cases may timeout. Solutions:</p> <ol> <li>Check LLM API status</li> <li>Retry extraction</li> <li>Contact administrator if persistent</li> </ol>"},{"location":"how-to/phase1-extraction/#missing-ontserve-connection","title":"Missing OntServe Connection","text":"<p>If \"Available Classes\" shows empty:</p> <ol> <li>Verify OntServe MCP is running</li> <li>Check connection status in header</li> <li>Restart OntServe if needed</li> </ol>"},{"location":"how-to/phase1-extraction/#duplicate-entities","title":"Duplicate Entities","text":"<p>LLM may extract duplicates:</p> <ol> <li>Review carefully during entity review</li> <li>Delete duplicates manually</li> <li>Use Clear and Re-run for fresh extraction</li> </ol>"},{"location":"how-to/phase1-extraction/#related-guides","title":"Related Guides","text":"<ul> <li>Entity Review - Detailed entity validation</li> <li>Nine-Concept Framework - Understanding concepts</li> <li>Phase 2 Analysis - Next phase</li> </ul>"},{"location":"how-to/phase2-analysis/","title":"Phase 2: Case Synthesis and Analysis","text":"<p>Phase 2 analyzes extracted entities to identify code provisions, ethical questions and conclusions, classify transformation patterns, and extract decision points for scenario generation.</p>"},{"location":"how-to/phase2-analysis/#overview","title":"Overview","text":"<p>After Phase 1 extraction completes (133+ entities typical), Phase 2 performs six-part analysis:</p> Part Name Description Status A Code Provisions Parse References section, detect mentions, link to entities Complete B Questions &amp; Conclusions Extract Q/C, tag with entities, link Q to C Complete C Cross-Section Synthesis Build entity knowledge graph Complete D Transformation Classify as transfer/stalemate/oscillation/phase_lag Complete E Decision Point Extraction Identify key decision points for scenario generation Complete F Pros/Cons Arguments Generate arguments for/against each decision option Planned"},{"location":"how-to/phase2-analysis/#starting-analysis","title":"Starting Analysis","text":""},{"location":"how-to/phase2-analysis/#prerequisites","title":"Prerequisites","text":"<p>Before Step 4:</p> <ul> <li>Complete Phase 1 extraction (Steps 1-3)</li> <li>Review and commit entities</li> <li>All pipeline prerequisites met (lock icons cleared)</li> </ul>"},{"location":"how-to/phase2-analysis/#access-step-4","title":"Access Step 4","text":"<ol> <li>Navigate to Scenario Pipeline (<code>/scenario_pipeline/&lt;case_id&gt;</code>)</li> <li>Click Step 4 in the sidebar</li> <li>Review analysis interface</li> </ol>"},{"location":"how-to/phase2-analysis/#part-a-code-provisions","title":"Part A: Code Provisions","text":"<p>The system extracts code of ethics provisions referenced in the case:</p> Field Description Code Reference Citation (e.g., \"NSPE Code II.1.a\") Section Text Provision language Relevance How provision applies to case"},{"location":"how-to/phase2-analysis/#example-provisions","title":"Example Provisions","text":"<p>For Case 24-2: - NSPE Code II.1.a - Competence requirement - NSPE Code II.1.b - Practice only in areas of competence - NSPE Code III.2.a - Faithful agent responsibility</p>"},{"location":"how-to/phase2-analysis/#part-b-questions-conclusions","title":"Part B: Questions &amp; Conclusions","text":""},{"location":"how-to/phase2-analysis/#ethical-questions","title":"Ethical Questions","text":"<p>Extracts the specific questions addressed by the board:</p> Field Description Question Number Q1, Q2, etc. Question Text Full question as posed Entity Tags Referenced entities from extraction"},{"location":"how-to/phase2-analysis/#board-conclusions","title":"Board Conclusions","text":"<p>Extracts the board's determinations:</p> Field Description Question Reference Which question addressed Conclusion Board's determination Reasoning Supporting rationale"},{"location":"how-to/phase2-analysis/#example","title":"Example","text":"<p>For Case 24-2: - Q1: Was it ethical for Engineer A to use AI tools without verification expertise? - C1: Not ethical - Engineer lacked competence to verify AI output</p>"},{"location":"how-to/phase2-analysis/#part-c-cross-section-synthesis","title":"Part C: Cross-Section Synthesis","text":"<p>Builds an entity knowledge graph connecting extracted entities:</p> <ul> <li>Links entities across case sections</li> <li>Identifies principle tensions</li> <li>Maps obligation conflicts</li> <li>Uses heuristics for causal-normative linking</li> </ul> <p>Visualized via Cytoscape in the Review page.</p>"},{"location":"how-to/phase2-analysis/#part-d-transformation-classification","title":"Part D: Transformation Classification","text":"<p>Classifies the ethical transformation pattern based on Marchais-Roubelat and Roubelat (2015):</p> Type Description Pattern Transfer Clear shift from one state to another A to B Stalemate Competing forces prevent resolution A vs B Oscillation Alternating between states A to B to A Phase Lag Delayed response to change A ... to B"},{"location":"how-to/phase2-analysis/#example-classification","title":"Example Classification","text":"<p>Case 24-2: Transfer Transformation - Pattern: <code>ai_competence_boundary_violation</code> - Initial state: Engineer operating within competence - Final state: Engineer exceeding competence boundaries - Trigger: AI technology adoption without verification capability</p>"},{"location":"how-to/phase2-analysis/#part-e-decision-point-extraction","title":"Part E: Decision Point Extraction","text":"<p>Identifies key decision points where ethical choices must be made. These become the decision points in Step 5 scenarios.</p>"},{"location":"how-to/phase2-analysis/#what-decision-points-capture","title":"What Decision Points Capture","text":"Field Description Focus Description Brief description of the decision context Decision Question The ethical question being decided Involved Roles Professional roles involved in the decision Applicable Provisions NSPE Code provisions that apply Options Available choices at this decision point Board Resolution What the board determined Board Reasoning Why the board reached this conclusion"},{"location":"how-to/phase2-analysis/#example-decision-points","title":"Example Decision Points","text":"<p>For Case 7 (Case 24-2):</p> <p>Decision Point 1: AI Tool Usage Decision - Question: Should Engineer A use AI-generated outputs in design work? - Roles: Engineer A, AI System - Provisions: NSPE II.1.a, II.2.b - Options:   - Use AI outputs with independent verification (Board Choice)   - Use AI outputs without verification   - Decline to use AI tools - Resolution: Engineers must verify AI outputs through independent means</p> <p>Decision Point 2: Disclosure of AI Use - Question: Must Engineer A disclose AI tool usage to client? - Roles: Engineer A, Client - Provisions: NSPE II.1.c, III.2.a - Options:   - Full disclosure of AI use and limitations (Board Choice)   - Limited disclosure   - No disclosure</p>"},{"location":"how-to/phase2-analysis/#storage-pattern","title":"Storage Pattern","text":"<p>Decision points use the standard RDF storage pattern:</p> <ul> <li>Entities: <code>temporary_rdf_storage</code> with <code>extraction_type='decision_point'</code> and <code>'decision_option'</code></li> <li>Provenance: <code>extraction_prompts</code> with <code>concept_type='decision_point'</code></li> <li>Ontology classes: <code>DecisionPoint</code>, <code>DecisionOption</code> in proethica-intermediate.ttl</li> </ul>"},{"location":"how-to/phase2-analysis/#commit-to-ontserve","title":"Commit to OntServe","text":"<p>After extraction, click Commit to OntServe to persist decision points to the ontology.</p>"},{"location":"how-to/phase2-analysis/#part-f-proscons-arguments-planned","title":"Part F: Pros/Cons Arguments (Planned)","text":"<p>For each decision option, generate balanced pro/con arguments with precedent linking. This will:</p> <ul> <li>Cite specific NSPE Code provisions</li> <li>Reference similar precedent cases</li> <li>Identify principle tensions</li> <li>Note public welfare implications</li> </ul> <p>This feature is planned for implementation.</p>"},{"location":"how-to/phase2-analysis/#running-analysis","title":"Running Analysis","text":""},{"location":"how-to/phase2-analysis/#automatic-analysis","title":"Automatic Analysis","text":"<p>Click Run Synthesis to execute Parts A-D:</p> <ol> <li>SSE streaming shows progress</li> <li>Each part completes sequentially</li> <li>Results displayed in tabbed interface</li> </ol>"},{"location":"how-to/phase2-analysis/#decision-point-extraction","title":"Decision Point Extraction","text":"<p>Decision points are extracted separately:</p> <ol> <li>Go to Step 4 Review page</li> <li>Click Decision Points tab</li> <li>Click Extract Decision Points button</li> <li>Review extracted decision points and options</li> <li>Click Commit to OntServe to persist</li> </ol>"},{"location":"how-to/phase2-analysis/#review-results","title":"Review Results","text":"<p>After analysis:</p> <ol> <li>Provisions tab - Code references found</li> <li>Questions &amp; Conclusions tab - Q/C with linking</li> <li>Entity Graph tab - Cytoscape visualization</li> <li>Raw Data tab - JSON view</li> <li>Decision Points tab - Extracted decision points</li> </ol>"},{"location":"how-to/phase2-analysis/#edit-results","title":"Edit Results","text":"<p>You can edit analysis results:</p> <ul> <li>Modify transformation classification</li> <li>Adjust Q-C links</li> <li>Review entity graph relationships</li> </ul>"},{"location":"how-to/phase2-analysis/#commit-analysis","title":"Commit Analysis","text":"<ul> <li>Click Save to persist synthesis results</li> <li>Click Commit to OntServe in Decision Points tab for decision point entities</li> </ul>"},{"location":"how-to/phase2-analysis/#analysis-storage","title":"Analysis Storage","text":"<p>Results stored using RDF storage pattern:</p> extraction_type entity_type Description <code>code_provision_reference</code> resources NSPE code provisions <code>ethical_question</code> EthicalQuestion Questions posed to board <code>ethical_conclusion</code> BoardConclusion Board's conclusions <code>decision_point</code> DecisionPoint Decision points (Part E) <code>decision_option</code> DecisionOption Options at decision points <p>Transformation data stored in <code>case_precedent_features</code> table.</p>"},{"location":"how-to/phase2-analysis/#llm-traces","title":"LLM Traces","text":"<p>Each analysis part captures:</p> <ul> <li>Prompt text sent to LLM</li> <li>Raw LLM response</li> <li>Parsed structured output</li> <li>Timestamp and model used</li> </ul> <p>Access traces via the analysis interface for transparency.</p>"},{"location":"how-to/phase2-analysis/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/phase2-analysis/#analysis-incomplete","title":"Analysis Incomplete","text":"<p>If parts fail:</p> <ol> <li>Check extraction completeness (Phase 1)</li> <li>Verify entity commit status</li> <li>Retry individual parts</li> </ol>"},{"location":"how-to/phase2-analysis/#transformation-unclear","title":"Transformation Unclear","text":"<p>If classification uncertain:</p> <ol> <li>Review case narrative</li> <li>Check action sequence</li> <li>Consider manual classification</li> </ol>"},{"location":"how-to/phase2-analysis/#missing-code-references","title":"Missing Code References","text":"<p>If provisions not detected:</p> <ol> <li>Check case text includes citations</li> <li>Verify standard citation format</li> <li>Add manually if needed</li> </ol>"},{"location":"how-to/phase2-analysis/#decision-points-not-extracting","title":"Decision Points Not Extracting","text":"<p>If extraction fails:</p> <ol> <li>Ensure Phase 1 extraction complete</li> <li>Check LLM API connection</li> <li>Review extraction_prompts for errors</li> </ol>"},{"location":"how-to/phase2-analysis/#related-guides","title":"Related Guides","text":"<ul> <li>Phase 1 Extraction - Prerequisite extraction</li> <li>Phase 3 Scenario - Visualization</li> <li>Transformation Types - Classification details</li> <li>Ontology Integration - OntServe connection</li> </ul>"},{"location":"how-to/phase3-scenario/","title":"Phase 3: Interactive Scenario","text":"<p>Phase 3 generates interactive scenarios with participant mapping, decision points, and provenance tracking.</p>"},{"location":"how-to/phase3-scenario/#overview","title":"Overview","text":"<p>Phase 3 (Step 5) executes six stages to create an interactive visualization:</p> Stage Name Output 1 Timeline Construction Decision points with timestamps 2 Participant Mapping Character profiles 3 Relationship Networks Professional and ethical relationships 4 Decision Points Transformation opportunities 5 Causal Chain Visualization Cause-effect diagrams 6 Normative Framework Display Code provision links"},{"location":"how-to/phase3-scenario/#starting-scenario-generation","title":"Starting Scenario Generation","text":""},{"location":"how-to/phase3-scenario/#prerequisites","title":"Prerequisites","text":"<p>Before Step 5:</p> <ul> <li>Complete Phase 1 extraction (Steps 1-3)</li> <li>Complete Phase 2 analysis (Step 4)</li> <li>All entities committed</li> </ul>"},{"location":"how-to/phase3-scenario/#access-step-5","title":"Access Step 5","text":"<ol> <li>Navigate to Scenario Pipeline (<code>/scenario_pipeline/&lt;case_id&gt;</code>)</li> <li>Click Step 5 in the sidebar</li> <li>Review scenario generation interface</li> </ol>"},{"location":"how-to/phase3-scenario/#stage-1-timeline-construction","title":"Stage 1: Timeline Construction","text":"<p>Builds chronological sequence of events and decisions:</p>"},{"location":"how-to/phase3-scenario/#timeline-elements","title":"Timeline Elements","text":"Element Description Decision Point Moment requiring ethical choice Timestamp Relative or absolute time marker Description LLM-generated summary Participants Roles involved"},{"location":"how-to/phase3-scenario/#example-timeline","title":"Example Timeline","text":"<p>For Case 24-2: 1. Client requests AI-assisted design 2. Engineer assesses AI tool capabilities 3. Engineer decides to proceed without verification expertise 4. Engineer completes AI-generated design 5. Engineer certifies work 6. Board reviews conduct</p>"},{"location":"how-to/phase3-scenario/#timeline-visualization","title":"Timeline Visualization","text":"<p>The interactive timeline displays:</p> <ul> <li>Horizontal timeline with markers</li> <li>Clickable decision points</li> <li>Participant involvement indicators</li> <li>Causal connections between events</li> </ul>"},{"location":"how-to/phase3-scenario/#stage-2-participant-mapping","title":"Stage 2: Participant Mapping","text":"<p>Creates detailed character profiles with LLM enhancement:</p>"},{"location":"how-to/phase3-scenario/#participant-fields","title":"Participant Fields","text":"Field Description Name Role identifier (e.g., \"Engineer A\") Role Professional position Profile 2-3 sentence analytical narrative Background Ethically-relevant professional details Motivations Factors driving decisions Analytical Notes Key principles, conflicts, tensions"},{"location":"how-to/phase3-scenario/#llm-enhancement","title":"LLM Enhancement","text":"<p>The system uses LLM to generate:</p> <ul> <li>Enriched character backgrounds</li> <li>Additional motivations illuminating tensions</li> <li>Analytical notes identifying ethical significance</li> </ul>"},{"location":"how-to/phase3-scenario/#example-participant","title":"Example Participant","text":"<p>Engineer A: - Role: Consulting Engineer - Profile: Licensed PE with 15 years experience, recently adopted AI tools for design efficiency - Motivations: Client satisfaction, competitive pressure, technology adoption - Tensions: Competence boundaries vs. efficiency gains</p>"},{"location":"how-to/phase3-scenario/#stage-3-relationship-networks","title":"Stage 3: Relationship Networks","text":"<p>Maps relationships between participants:</p>"},{"location":"how-to/phase3-scenario/#relationship-types","title":"Relationship Types","text":"Type Description Professional Work relationships (employer, client, colleague) Ethical Obligation relationships (duty to, responsible for) Tension Conflict relationships"},{"location":"how-to/phase3-scenario/#network-visualization","title":"Network Visualization","text":"<p>Interactive graph showing:</p> <ul> <li>Nodes for each participant</li> <li>Edges with relationship labels</li> <li>Color coding by relationship type</li> <li>Click to view relationship details</li> </ul>"},{"location":"how-to/phase3-scenario/#stage-4-decision-points","title":"Stage 4: Decision Points","text":"<p>Identifies transformation opportunities:</p>"},{"location":"how-to/phase3-scenario/#decision-point-structure","title":"Decision Point Structure","text":"Field Description Timestamp When decision occurred Actor Who made decision Choice Made Actual decision Alternatives Other options available Consequences Resulting outcomes Transformation Impact How it affected ethical state"},{"location":"how-to/phase3-scenario/#example-decision-point","title":"Example Decision Point","text":"<p>Decision Point 3: Proceed Without Verification - Actor: Engineer A - Choice: Used AI without verification capability - Alternatives: Hire specialist, decline project, request training - Consequences: Violated competence requirement - Impact: Triggered transfer transformation</p>"},{"location":"how-to/phase3-scenario/#stage-5-causal-chain-visualization","title":"Stage 5: Causal Chain Visualization","text":"<p>Displays cause-effect relationships:</p>"},{"location":"how-to/phase3-scenario/#chain-structure","title":"Chain Structure","text":"<pre><code>Condition \u2192 Action \u2192 Outcome\n    \u2193\nObligation Status\n</code></pre>"},{"location":"how-to/phase3-scenario/#example-chain","title":"Example Chain","text":"<pre><code>Lacks AI verification competence\n    \u2193\nUses AI without verification\n    \u2193\nCertifies AI-generated design\n    \u2193\nViolates NSPE Code II.1.a\n</code></pre>"},{"location":"how-to/phase3-scenario/#visualization","title":"Visualization","text":"<p>Interactive diagram showing:</p> <ul> <li>Conditions as input nodes</li> <li>Actions as process nodes</li> <li>Outcomes as output nodes</li> <li>Obligation status as annotations</li> </ul>"},{"location":"how-to/phase3-scenario/#stage-6-normative-framework-display","title":"Stage 6: Normative Framework Display","text":"<p>Links to code of ethics provisions:</p>"},{"location":"how-to/phase3-scenario/#framework-elements","title":"Framework Elements","text":"Element Description Principles Abstract standards (18 linked) Obligations Concrete duties (18 linked) Code Provisions Referenced standards Precedent Cases Similar prior decisions (23 matches)"},{"location":"how-to/phase3-scenario/#navigation","title":"Navigation","text":"<p>Click any framework element to:</p> <ul> <li>View full definition</li> <li>See related entities</li> <li>Access precedent comparisons</li> </ul>"},{"location":"how-to/phase3-scenario/#running-scenario-generation","title":"Running Scenario Generation","text":""},{"location":"how-to/phase3-scenario/#generate-scenario","title":"Generate Scenario","text":"<p>Click Generate Scenario to execute all six stages:</p> <ol> <li>Progress indicator shows stage completion</li> <li>Each stage streams results via SSE</li> <li>Interactive visualization builds incrementally</li> </ol>"},{"location":"how-to/phase3-scenario/#generation-time","title":"Generation Time","text":"<p>Typical generation: 30-60 seconds depending on:</p> <ul> <li>Case complexity</li> <li>Number of participants</li> <li>LLM response time</li> </ul>"},{"location":"how-to/phase3-scenario/#interactive-features","title":"Interactive Features","text":""},{"location":"how-to/phase3-scenario/#timeline-navigation","title":"Timeline Navigation","text":"<ul> <li>Scroll horizontally through timeline</li> <li>Click decision points for details</li> <li>Zoom in/out for detail level</li> </ul>"},{"location":"how-to/phase3-scenario/#participant-cards","title":"Participant Cards","text":"<ul> <li>Hover for quick profile</li> <li>Click for full details</li> <li>Drag to rearrange layout</li> </ul>"},{"location":"how-to/phase3-scenario/#relationship-explorer","title":"Relationship Explorer","text":"<ul> <li>Filter by relationship type</li> <li>Highlight specific participants</li> <li>Trace connection paths</li> </ul>"},{"location":"how-to/phase3-scenario/#provenance-view","title":"Provenance View","text":"<p>For any element:</p> <ul> <li>Click provenance icon</li> <li>View extraction source</li> <li>See LLM trace</li> <li>Access original text</li> </ul>"},{"location":"how-to/phase3-scenario/#scenario-output","title":"Scenario Output","text":""},{"location":"how-to/phase3-scenario/#export-options","title":"Export Options","text":"Format Contents Web View Interactive HTML JSON Structured data RDF Semantic triples"},{"location":"how-to/phase3-scenario/#sharing","title":"Sharing","text":"<p>Share scenario via:</p> <ul> <li>Direct URL link</li> <li>Export to file</li> <li>Embed in reports</li> </ul>"},{"location":"how-to/phase3-scenario/#database-storage","title":"Database Storage","text":"<p>Scenario data stored in:</p> Table Contents <code>scenario_participants</code> Character profiles <code>scenario_relationship_map</code> Relationship data <code>scenario_timeline</code> Decision points <code>scenario_decisions</code> Choice details"},{"location":"how-to/phase3-scenario/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/phase3-scenario/#generation-timeout","title":"Generation Timeout","text":"<p>If generation stalls:</p> <ol> <li>Check LLM API status</li> <li>Verify Phase 2 completion</li> <li>Retry generation</li> </ol>"},{"location":"how-to/phase3-scenario/#missing-participants","title":"Missing Participants","text":"<p>If participants incomplete:</p> <ol> <li>Check Pass 1 Role extraction</li> <li>Verify entity commits</li> <li>Re-run Stage 2</li> </ol>"},{"location":"how-to/phase3-scenario/#relationship-display-issues","title":"Relationship Display Issues","text":"<p>If network doesn't render:</p> <ol> <li>Refresh page</li> <li>Check browser console</li> <li>Verify data completeness</li> </ol>"},{"location":"how-to/phase3-scenario/#related-guides","title":"Related Guides","text":"<ul> <li>Phase 2 Analysis - Prerequisite analysis</li> <li>Precedent Discovery - Finding similar cases</li> <li>Entity Review - Validating entities</li> </ul>"},{"location":"how-to/pipeline-automation/","title":"Pipeline Automation","text":"<p>This guide covers batch case processing through the automated extraction pipeline.</p>"},{"location":"how-to/pipeline-automation/#overview","title":"Overview","text":"<p>Pipeline automation enables:</p> <ul> <li>Batch extraction across multiple cases</li> <li>Background processing via Celery tasks</li> <li>Real-time progress monitoring</li> <li>Queue management for bulk operations</li> </ul>"},{"location":"how-to/pipeline-automation/#prerequisites","title":"Prerequisites","text":"<p>Pipeline automation requires:</p> Service Port Purpose Redis 6379 Message broker Celery Worker - Background tasks ProEthica 5000 Web interface OntServe MCP 8082 Ontology validation"},{"location":"how-to/pipeline-automation/#starting-services","title":"Starting Services","text":""},{"location":"how-to/pipeline-automation/#option-1-single-command-recommended","title":"Option 1: Single Command (Recommended)","text":"<pre><code>./scripts/start_all.sh start\n</code></pre> <p>This starts all required services in correct order.</p>"},{"location":"how-to/pipeline-automation/#option-2-manual-start","title":"Option 2: Manual Start","text":"<p>Terminal 1 - Redis: <pre><code>redis-server\n</code></pre></p> <p>Terminal 2 - Celery Worker: <pre><code>cd /path/to/proethica\nsource venv-proethica/bin/activate\nPYTHONPATH=/path/to/parent:$PYTHONPATH celery -A celery_config worker --loglevel=info\n</code></pre></p> <p>Terminal 3 - Flask: <pre><code>cd /path/to/proethica\nsource venv-proethica/bin/activate\nPYTHONPATH=/path/to/parent:$PYTHONPATH python run.py\n</code></pre></p>"},{"location":"how-to/pipeline-automation/#service-management","title":"Service Management","text":"<pre><code>./scripts/start_all.sh status   # Check status\n./scripts/start_all.sh stop     # Stop services\n./scripts/start_all.sh restart  # Restart all\n</code></pre>"},{"location":"how-to/pipeline-automation/#pipeline-dashboard","title":"Pipeline Dashboard","text":""},{"location":"how-to/pipeline-automation/#accessing-dashboard","title":"Accessing Dashboard","text":"<p>Navigate to: Pipeline Dashboard (<code>/pipeline/dashboard</code>)</p> <p>Or via Cases page: Click Automation button</p> <p></p>"},{"location":"how-to/pipeline-automation/#dashboard-layout","title":"Dashboard Layout","text":"Section Description Service Status Health of Redis, Celery, Workers (top right) Stats Cards Total Cases, Active Runs, Queued count Recent Runs History with status, duration, and actions Controls Manage Queue, Reprocess, Details buttons"},{"location":"how-to/pipeline-automation/#processing-time","title":"Processing Time","text":"<p>Typical extraction time per case:</p> Metric Time Average ~10 minutes Range 8-15 minutes depending on case complexity Steps 5 extraction passes (Steps 1, 1b, 2, 2b, 3) <p>Processing is currently sequential (one case at a time). Parallel processing across multiple workers is planned for future releases to reduce batch processing time.</p>"},{"location":"how-to/pipeline-automation/#service-status","title":"Service Status","text":""},{"location":"how-to/pipeline-automation/#status-widget","title":"Status Widget","text":"<p>The header widget shows real-time status:</p> Indicator Meaning Redis Message broker connection Celery Worker process status Workers Active worker count Tasks Queue depth"},{"location":"how-to/pipeline-automation/#overall-health","title":"Overall Health","text":"Status Description Healthy All services operational Degraded Some services unavailable Critical Core services offline"},{"location":"how-to/pipeline-automation/#status-api","title":"Status API","text":"<p>Programmatic access:</p> <pre><code>curl http://localhost:5000/pipeline/api/service-status\n</code></pre>"},{"location":"how-to/pipeline-automation/#queue-management","title":"Queue Management","text":""},{"location":"how-to/pipeline-automation/#accessing-the-queue","title":"Accessing the Queue","text":"<p>Navigate to: Pipeline Dashboard &gt; Manage Queue button</p> <p>Or direct URL: <code>/pipeline/queue</code></p> <p> Queue management page showing pending cases and queue controls</p>"},{"location":"how-to/pipeline-automation/#queue-page-features","title":"Queue Page Features","text":"Section Description Available Cases Cases not yet processed, ready to add to queue Current Queue Cases waiting to be processed Queue Controls Add selected cases, clear queue, process next"},{"location":"how-to/pipeline-automation/#adding-cases-to-queue","title":"Adding Cases to Queue","text":"<ol> <li>Check cases in the Available Cases list</li> <li>Click Add Selected to Queue</li> <li>Cases move to Current Queue section</li> </ol>"},{"location":"how-to/pipeline-automation/#queue-actions","title":"Queue Actions","text":"Action Description Add Selected Add checked cases to queue Clear Queue Remove all pending cases from queue Process Next Start processing the next queued case Remove Remove individual case from queue"},{"location":"how-to/pipeline-automation/#queue-statuses","title":"Queue Statuses","text":"Status Meaning queued Waiting in queue running Currently processing completed Successfully finished failed Error occurred cancelled User cancelled superseded Replaced by reprocess"},{"location":"how-to/pipeline-automation/#running-pipelines","title":"Running Pipelines","text":""},{"location":"how-to/pipeline-automation/#single-case","title":"Single Case","text":"<p>To process a single case:</p> <ol> <li>Go to case detail page</li> <li>Click Queue for Processing</li> <li>Monitor in Pipeline Dashboard</li> </ol>"},{"location":"how-to/pipeline-automation/#batch-processing","title":"Batch Processing","text":"<p>To process multiple cases:</p> <ol> <li>Go to Pipeline Dashboard</li> <li>Select cases from list</li> <li>Click Add to Queue</li> <li>Monitor progress</li> </ol>"},{"location":"how-to/pipeline-automation/#priority-processing","title":"Priority Processing","text":"<p>Cases processed in queue order. For priority:</p> <ol> <li>Use direct extraction (non-automated)</li> <li>Or reorder queue manually</li> </ol>"},{"location":"how-to/pipeline-automation/#monitoring-progress","title":"Monitoring Progress","text":""},{"location":"how-to/pipeline-automation/#real-time-updates","title":"Real-Time Updates","text":"<p>Active runs show:</p> <ul> <li>Current step (1, 1b, 2, 2b, 3)</li> <li>Entity count extracted</li> <li>Progress percentage</li> <li>Estimated time remaining</li> </ul>"},{"location":"how-to/pipeline-automation/#refresh","title":"Refresh","text":"<p>Dashboard auto-refreshes every 5 seconds. Manual refresh also available.</p>"},{"location":"how-to/pipeline-automation/#logs","title":"Logs","text":"<p>View detailed logs:</p> <ol> <li>Click run in Active Runs</li> <li>Expand log section</li> <li>View extraction output</li> </ol>"},{"location":"how-to/pipeline-automation/#pipeline-controls","title":"Pipeline Controls","text":""},{"location":"how-to/pipeline-automation/#cancel-running","title":"Cancel Running","text":"<p>To cancel a running pipeline:</p> <ol> <li>Click Cancel on active run</li> <li>Confirms cancellation</li> <li>Celery task revoked</li> <li>Run marked cancelled</li> </ol>"},{"location":"how-to/pipeline-automation/#reprocess-case","title":"Reprocess Case","text":"<p>To reprocess a completed case:</p> <ol> <li>Click Reprocess button</li> <li>Clears existing entities</li> <li>Marks old run as superseded</li> <li>Starts fresh extraction</li> </ol>"},{"location":"how-to/pipeline-automation/#clear-case","title":"Clear Case","text":"<p>To clear without reprocessing:</p> <pre><code>python scripts/clear_case_extractions.py &lt;case_id&gt;\n</code></pre> <p>Options: - <code>--include-runs</code>: Also clear pipeline_run records</p>"},{"location":"how-to/pipeline-automation/#pipeline-architecture","title":"Pipeline Architecture","text":""},{"location":"how-to/pipeline-automation/#extraction-flow","title":"Extraction Flow","text":"<pre><code>Queue Request\n    \u2193\nCelery Task Created\n    \u2193\nStep 1: Facts (Roles, States, Resources)\n    \u2193\nStep 1b: Discussion (Roles, States, Resources)\n    \u2193\nStep 2: Facts (Principles, Obligations, Constraints, Capabilities)\n    \u2193\nStep 2b: Discussion (Principles, Obligations, Constraints, Capabilities)\n    \u2193\nStep 3: Temporal (Events, Actions, Relations)\n    \u2193\nComplete\n</code></pre>"},{"location":"how-to/pipeline-automation/#entity-storage","title":"Entity Storage","text":"<p>During pipeline:</p> <ul> <li>Entities stored in <code>temporary_rdf_storage</code></li> <li>Linked by <code>extraction_session_id</code></li> <li>Prompts stored in <code>extraction_prompts</code></li> </ul>"},{"location":"how-to/pipeline-automation/#pipeline-run-record","title":"Pipeline Run Record","text":"<p>Each run creates <code>pipeline_run</code> record:</p> Field Description <code>id</code> Run identifier <code>case_id</code> Case being processed <code>status</code> Current status <code>current_step</code> Active step <code>entity_count</code> Entities extracted <code>started_at</code> Start timestamp <code>completed_at</code> End timestamp <code>error_message</code> Error if failed"},{"location":"how-to/pipeline-automation/#celery-configuration","title":"Celery Configuration","text":""},{"location":"how-to/pipeline-automation/#task-settings","title":"Task Settings","text":"<p>From <code>celery_config.py</code>:</p> <pre><code>task_time_limit = 7200      # 2 hour hard limit\ntask_soft_time_limit = 6000 # 100 minute soft limit\nworker_prefetch_multiplier = 1  # One task at a time\n</code></pre>"},{"location":"how-to/pipeline-automation/#queue-name","title":"Queue Name","text":"<p>Default queue: <code>celery</code></p>"},{"location":"how-to/pipeline-automation/#result-backend","title":"Result Backend","text":"<p>Results stored in Redis DB 1.</p>"},{"location":"how-to/pipeline-automation/#error-handling","title":"Error Handling","text":""},{"location":"how-to/pipeline-automation/#task-failures","title":"Task Failures","text":"<p>If task fails:</p> <ol> <li>Error captured in pipeline_run</li> <li>Partial entities preserved</li> <li>Can retry or reprocess</li> </ol>"},{"location":"how-to/pipeline-automation/#timeout","title":"Timeout","text":"<p>If task times out:</p> <ol> <li>Soft limit triggers graceful stop</li> <li>Hard limit forces termination</li> <li>Partial progress saved</li> </ol>"},{"location":"how-to/pipeline-automation/#recovery","title":"Recovery","text":"<p>After failure:</p> <ol> <li>Review error message</li> <li>Fix underlying issue</li> <li>Reprocess case</li> </ol>"},{"location":"how-to/pipeline-automation/#utility-scripts","title":"Utility Scripts","text":""},{"location":"how-to/pipeline-automation/#clear-case-extractions","title":"Clear Case Extractions","text":"<pre><code>python scripts/clear_case_extractions.py &lt;case_id&gt; [--include-runs]\n</code></pre>"},{"location":"how-to/pipeline-automation/#cleanup-orphaned-entities","title":"Cleanup Orphaned Entities","text":"<pre><code>python scripts/cleanup_orphaned_entities.py [--delete]\n</code></pre>"},{"location":"how-to/pipeline-automation/#check-queue","title":"Check Queue","text":"<pre><code>celery -A celery_config inspect active\ncelery -A celery_config inspect reserved\n</code></pre>"},{"location":"how-to/pipeline-automation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/pipeline-automation/#services-not-starting","title":"Services Not Starting","text":"<p>Check each service:</p> <pre><code>redis-cli ping  # Should return PONG\ncelery -A celery_config status  # Should show workers\ncurl http://localhost:5000/  # Should return page\n</code></pre>"},{"location":"how-to/pipeline-automation/#tasks-not-processing","title":"Tasks Not Processing","text":"<ol> <li>Check Celery worker running</li> <li>Verify Redis connection</li> <li>Check worker logs for errors</li> </ol>"},{"location":"how-to/pipeline-automation/#memory-issues","title":"Memory Issues","text":"<p>Long-running tasks may use memory:</p> <ol> <li>Monitor worker memory</li> <li>Restart workers periodically</li> <li>Process fewer cases at once</li> </ol>"},{"location":"how-to/pipeline-automation/#orphaned-entities","title":"Orphaned Entities","text":"<p>If entities without sessions:</p> <pre><code>python scripts/cleanup_orphaned_entities.py --delete\n</code></pre>"},{"location":"how-to/pipeline-automation/#related-guides","title":"Related Guides","text":"<ul> <li>Phase 1 Extraction - Manual extraction</li> <li>Entity Review - Reviewing results</li> <li>Settings - Configuration options</li> </ul>"},{"location":"how-to/precedent-discovery/","title":"Precedent Discovery","text":"<p>This guide covers finding similar precedent cases using semantic similarity matching.</p>"},{"location":"how-to/precedent-discovery/#overview","title":"Overview","text":"<p>Precedent discovery identifies cases with similar ethical situations through embedding-based similarity matching. This enables:</p> <ul> <li>Finding relevant prior board decisions</li> <li>Comparing outcomes across similar cases</li> <li>Building case-based reasoning for new scenarios</li> </ul>"},{"location":"how-to/precedent-discovery/#accessing-precedent-discovery","title":"Accessing Precedent Discovery","text":"<p>Navigate to: Cases &gt; Find Precedents in the navigation bar</p> <p>Or direct URL: <code>/cases/precedents/</code></p> <p> Precedent discovery page showing similar cases ranked by combined similarity score</p>"},{"location":"how-to/precedent-discovery/#how-it-works","title":"How It Works","text":""},{"location":"how-to/precedent-discovery/#embedding-generation","title":"Embedding Generation","text":"<p>Each case generates two 384-dimensional embeddings:</p> Embedding Source Purpose Facts Embedding Facts section text Match situational similarity Discussion Embedding Discussion section text Match reasoning similarity"},{"location":"how-to/precedent-discovery/#similarity-calculation","title":"Similarity Calculation","text":"<p>Similarity uses cosine distance between embeddings:</p> <ul> <li>1.0 = Identical</li> <li>0.8+ = Very similar</li> <li>0.5-0.8 = Moderately similar</li> <li>&lt; 0.5 = Dissimilar</li> </ul>"},{"location":"how-to/precedent-discovery/#ranking","title":"Ranking","text":"<p>Cases ranked by combined similarity:</p> <pre><code>Combined Score = (Facts Score + Discussion Score) / 2\n</code></pre>"},{"location":"how-to/precedent-discovery/#using-precedent-discovery","title":"Using Precedent Discovery","text":""},{"location":"how-to/precedent-discovery/#step-1-select-source-case","title":"Step 1: Select Source Case","text":"<ol> <li>Open Precedents page</li> <li>Select a case from dropdown</li> <li>Or use \"Find More Precedents\" from case Structure page</li> </ol>"},{"location":"how-to/precedent-discovery/#step-2-view-matches","title":"Step 2: View Matches","text":"<p>The system displays similar cases:</p> Column Description Case Case title with link Facts Score Facts embedding similarity Discussion Score Discussion embedding similarity Combined Average similarity score"},{"location":"how-to/precedent-discovery/#step-3-explore-matches","title":"Step 3: Explore Matches","text":"<p>Click any match to:</p> <ul> <li>View case details</li> <li>Compare side-by-side</li> <li>Access case analysis</li> </ul>"},{"location":"how-to/precedent-discovery/#similarity-filters","title":"Similarity Filters","text":""},{"location":"how-to/precedent-discovery/#minimum-threshold","title":"Minimum Threshold","text":"<p>Filter results by minimum similarity:</p> Threshold Typical Results 0.9 Nearly identical cases 0.7 Similar situations 0.5 Related topics 0.3 Broadly relevant"},{"location":"how-to/precedent-discovery/#section-focus","title":"Section Focus","text":"<p>Filter by which section to match:</p> <ul> <li>Both - Requires similarity in both sections</li> <li>Facts Only - Match situational similarity</li> <li>Discussion Only - Match reasoning similarity</li> </ul>"},{"location":"how-to/precedent-discovery/#structure-page-integration","title":"Structure Page Integration","text":""},{"location":"how-to/precedent-discovery/#find-more-precedents","title":"Find More Precedents","text":"<p>From case detail page:</p> <ol> <li>Click Structure button</li> <li>View document sections</li> <li>Click Find More Precedents</li> <li>Redirects to Precedents page with case pre-selected</li> </ol>"},{"location":"how-to/precedent-discovery/#similar-cases-preview","title":"Similar Cases Preview","text":"<p>The Structure page shows top 3 matches:</p> <ul> <li>Quick preview without full search</li> <li>Discussion similarity prioritized</li> <li>Click to expand search</li> </ul>"},{"location":"how-to/precedent-discovery/#generating-embeddings","title":"Generating Embeddings","text":""},{"location":"how-to/precedent-discovery/#manual-generation","title":"Manual Generation","text":"<p>If embeddings missing:</p> <ol> <li>Go to case Structure page</li> <li>Click Generate Embeddings</li> <li>Wait for generation (10-30 seconds)</li> <li>Embeddings now available for matching</li> </ol>"},{"location":"how-to/precedent-discovery/#automatic-generation","title":"Automatic Generation","text":"<p>Embeddings auto-generate when:</p> <ul> <li>Case uploaded (if configured)</li> <li>Pipeline automation runs</li> <li>Explicit generation requested</li> </ul>"},{"location":"how-to/precedent-discovery/#sync-to-precedent-features","title":"Sync to Precedent Features","text":"<p>After generating in Structure page:</p> <ul> <li>Embeddings sync to <code>case_precedent_features</code> table</li> <li>Required for Precedent Discovery matching</li> <li>Happens automatically</li> </ul>"},{"location":"how-to/precedent-discovery/#embedding-details","title":"Embedding Details","text":""},{"location":"how-to/precedent-discovery/#model","title":"Model","text":"<p>Default embedding model: <code>all-MiniLM-L6-v2</code> (sentence-transformers)</p> <ul> <li>384 dimensions</li> <li>Optimized for semantic similarity</li> <li>Fast generation</li> </ul>"},{"location":"how-to/precedent-discovery/#storage","title":"Storage","text":"<p>Embeddings stored in:</p> Table Column Type <code>document_sections</code> <code>embedding</code> vector(384) <code>case_precedent_features</code> <code>facts_embedding</code> vector(384) <code>case_precedent_features</code> <code>discussion_embedding</code> vector(384)"},{"location":"how-to/precedent-discovery/#vector-operations","title":"Vector Operations","text":"<p>Similarity via pgvector:</p> <pre><code>SELECT 1 - (facts_embedding &lt;=&gt; target_embedding) as similarity\nFROM case_precedent_features\nORDER BY similarity DESC;\n</code></pre>"},{"location":"how-to/precedent-discovery/#interpreting-results","title":"Interpreting Results","text":""},{"location":"how-to/precedent-discovery/#high-similarity-08","title":"High Similarity (0.8+)","text":"<p>Cases with very similar:</p> <ul> <li>Fact patterns</li> <li>Ethical issues</li> <li>Professional contexts</li> </ul> <p>Use for direct precedent comparison.</p>"},{"location":"how-to/precedent-discovery/#moderate-similarity-05-08","title":"Moderate Similarity (0.5-0.8)","text":"<p>Cases sharing:</p> <ul> <li>Related ethical concepts</li> <li>Similar role structures</li> <li>Comparable dilemmas</li> </ul> <p>Use for broader context.</p>"},{"location":"how-to/precedent-discovery/#low-similarity-05","title":"Low Similarity (&lt; 0.5)","text":"<p>Cases with limited connection:</p> <ul> <li>Different domains</li> <li>Unrelated issues</li> <li>Minimal overlap</li> </ul> <p>May still offer insights.</p>"},{"location":"how-to/precedent-discovery/#example-case-24-2-precedents","title":"Example: Case 24-2 Precedents","text":"<p>For NSPE Case 24-2 (AI in Engineering):</p> Match Facts Discussion Combined Case 17-4 (Technology Use) 0.82 0.79 0.81 Case 19-1 (Competence) 0.75 0.84 0.80 Case 21-3 (Certification) 0.71 0.76 0.74"},{"location":"how-to/precedent-discovery/#bulk-precedent-analysis","title":"Bulk Precedent Analysis","text":""},{"location":"how-to/precedent-discovery/#pipeline-dashboard","title":"Pipeline Dashboard","text":"<p>For batch precedent analysis:</p> <ol> <li>Go to Pipeline Dashboard</li> <li>Select cases with embeddings</li> <li>Run precedent matching</li> <li>Export results</li> </ol>"},{"location":"how-to/precedent-discovery/#api-access","title":"API Access","text":"<p>Programmatic access via:</p> <pre><code>from app.services.embedding_service import EmbeddingService\n\nservice = EmbeddingService()\nmatches = service.find_similar_cases(case_id, top_k=10)\n</code></pre>"},{"location":"how-to/precedent-discovery/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/precedent-discovery/#zero-similarity-scores","title":"Zero Similarity Scores","text":"<p>If all scores show 0%:</p> <ol> <li>Check embeddings generated in Structure page</li> <li>Verify sync to <code>case_precedent_features</code></li> <li>Re-generate embeddings if needed</li> </ol>"},{"location":"how-to/precedent-discovery/#missing-cases-in-results","title":"Missing Cases in Results","text":"<p>If expected cases missing:</p> <ol> <li>Verify target case has embeddings</li> <li>Check minimum threshold setting</li> <li>Ensure case is in database</li> </ol>"},{"location":"how-to/precedent-discovery/#slow-results","title":"Slow Results","text":"<p>If search slow:</p> <ol> <li>Check database indexes</li> <li>Verify pgvector extension</li> <li>Consider result limit</li> </ol>"},{"location":"how-to/precedent-discovery/#database-verification","title":"Database Verification","text":"<p>Check embedding status:</p> <pre><code>SELECT\n    case_id,\n    facts_embedding IS NOT NULL as has_facts,\n    discussion_embedding IS NOT NULL as has_disc\nFROM case_precedent_features;\n</code></pre> <p>Sync embeddings if needed:</p> <pre><code>UPDATE case_precedent_features cpf\nSET facts_embedding = (\n    SELECT embedding\n    FROM document_sections ds\n    WHERE ds.document_id = cpf.case_id\n    AND ds.section_type = 'facts'\n)\nWHERE facts_embedding IS NULL;\n</code></pre>"},{"location":"how-to/precedent-discovery/#case-similarity-network","title":"Case Similarity Network","text":"<p>The Similarity Network provides a visual overview of all cases and their relationships based on computed similarity scores.</p> <p> Force-directed graph showing case relationships with color-coded outcomes and similarity edges</p>"},{"location":"how-to/precedent-discovery/#accessing-the-network","title":"Accessing the Network","text":"<p>Navigate to: Cases &gt; Similarity Network in the navigation bar</p> <p>Or direct URL: <code>/cases/precedents/network</code></p> <p>Alternative access: - From Precedent Discovery page, click View Similarity Network button</p>"},{"location":"how-to/precedent-discovery/#understanding-the-visualization","title":"Understanding the Visualization","text":"<p>The network displays cases as nodes connected by edges representing similarity relationships.</p>"},{"location":"how-to/precedent-discovery/#node-colors-by-outcome","title":"Node Colors (by Outcome)","text":"Color Outcome Green Ethical Red Unethical Orange Mixed Gray Unknown/Unclear"},{"location":"how-to/precedent-discovery/#edge-colors-by-similarity-score","title":"Edge Colors (by Similarity Score)","text":"Color Score Range Meaning Green &gt; 0.5 High similarity Yellow 0.3 - 0.5 Moderate similarity Red &lt; 0.3 Low similarity <p>Edge thickness also indicates similarity strength.</p>"},{"location":"how-to/precedent-discovery/#interacting-with-the-network","title":"Interacting with the Network","text":""},{"location":"how-to/precedent-discovery/#click-a-node","title":"Click a Node","text":"<p>Displays case details panel showing: - Case title and ID - Outcome type - NSPE Code provisions cited - Entity count from extraction - Number of connections to other cases</p>"},{"location":"how-to/precedent-discovery/#click-an-edge","title":"Click an Edge","text":"<p>Displays similarity breakdown panel showing: - Overall similarity score - Component scores:   - Facts Similarity (cosine)   - Discussion Similarity (cosine)   - Provision Overlap (Jaccard)   - Outcome Alignment   - Tag Overlap (Jaccard)   - Principle Overlap (Jaccard) - Matching NSPE Code provisions</p>"},{"location":"how-to/precedent-discovery/#filtering","title":"Filtering","text":"<p>Use the Min Score dropdown to filter edges:</p> Threshold Typical Result 0.1 Show all relationships 0.2 Default - balanced view 0.3 Moderate+ similarity only 0.4 Higher similarity only 0.5 Strong relationships only"},{"location":"how-to/precedent-discovery/#navigation-controls","title":"Navigation Controls","text":"<ul> <li>Drag nodes to reposition</li> <li>Scroll to zoom in/out</li> <li>Click background to pan</li> <li>Zoom buttons for precise control</li> </ul>"},{"location":"how-to/precedent-discovery/#similarity-components","title":"Similarity Components","text":"<p>The network uses six similarity factors:</p> Component Method Description Facts Similarity Cosine Semantic similarity of case facts Discussion Similarity Cosine Semantic similarity of ethical analysis Provision Overlap Jaccard NSPE Code section overlap Outcome Alignment Categorical Ethical/unethical match Tag Overlap Jaccard Subject tag overlap Principle Overlap Jaccard Ethical principle conflicts"},{"location":"how-to/precedent-discovery/#focus-mode","title":"Focus Mode","text":"<p>To highlight a specific case:</p> <ol> <li>Go to Precedents page</li> <li>Select a case</li> <li>Click View Similarity Network</li> </ol> <p>The focused case appears larger with a highlight ring.</p> <p> Network with Case 7 focused, showing its connections highlighted</p> <p>Or use URL parameter: <code>/cases/precedents/network?case_id=7</code></p>"},{"location":"how-to/precedent-discovery/#network-statistics","title":"Network Statistics","text":"<p>The info panel shows: - Total cases in network - Total edges (similarity relationships) - Outcome distribution across cases</p>"},{"location":"how-to/precedent-discovery/#api-access_1","title":"API Access","text":"<p>For programmatic access:</p> <pre><code>GET /cases/precedents/api/similarity_network?min_score=0.2\n</code></pre> <p>Returns JSON with nodes and edges for custom visualization.</p> <p>Matrix format available:</p> <pre><code>GET /cases/precedents/api/similarity_matrix?component=overall\n</code></pre> <p>Returns NxN similarity matrix for heatmap visualization.</p>"},{"location":"how-to/precedent-discovery/#related-guides","title":"Related Guides","text":"<ul> <li>Upload Cases - Adding cases</li> <li>Phase 1 Extraction - Extraction process</li> <li>Pipeline Automation - Batch processing</li> <li>Settings - Configuration options</li> </ul>"},{"location":"how-to/settings/","title":"Settings","text":"<p>This guide covers ProEthica configuration options and environment settings.</p>"},{"location":"how-to/settings/#environment-variables","title":"Environment Variables","text":"<p>ProEthica is configured via environment variables in <code>.env</code> file.</p>"},{"location":"how-to/settings/#flask-configuration","title":"Flask Configuration","text":"Variable Default Description <code>FLASK_ENV</code> development Environment (development/production) <code>FLASK_HOST</code> 0.0.0.0 Bind address <code>FLASK_PORT</code> 5000 Server port <code>SECRET_KEY</code> (required) Session encryption key <code>DEBUG</code> True Debug mode"},{"location":"how-to/settings/#database","title":"Database","text":"Variable Default Description <code>SQLALCHEMY_DATABASE_URI</code> (required) PostgreSQL connection string <code>SQLALCHEMY_TRACK_MODIFICATIONS</code> False Track object modifications <p>Example connection string: <pre><code>postgresql://postgres:PASS@localhost:5432/ai_ethical_dm\n</code></pre></p>"},{"location":"how-to/settings/#llm-providers","title":"LLM Providers","text":"Variable Default Description <code>ANTHROPIC_API_KEY</code> (required) Claude API key <code>CLAUDE_DEFAULT_MODEL</code> claude-sonnet-4-20250514 Default Claude model <code>CLAUDE_POWERFUL_MODEL</code> claude-opus-4-1-20250805 Powerful model for complex tasks <code>OPENAI_API_KEY</code> (optional) OpenAI fallback <code>ENABLE_GEMINI</code> false Enable Google Gemini <code>GOOGLE_API_KEY</code> (optional) Gemini API key"},{"location":"how-to/settings/#ontserve-integration","title":"OntServe Integration","text":"Variable Default Description <code>ONTSERVE_MCP_ENABLED</code> true Enable MCP integration <code>ONTSERVE_MCP_URL</code> http://localhost:8082 MCP server URL <code>AUTO_START_MCP</code> false Auto-start MCP server <code>ENABLE_EXTERNAL_MCP_ACCESS</code> true Allow external MCP queries"},{"location":"how-to/settings/#extraction-settings","title":"Extraction Settings","text":"Variable Default Description <code>EXTRACTION_MODE</code> multi_pass Extraction mode <code>MOCK_LLM_ENABLED</code> false Use mock LLM for testing <code>USE_DATABASE_LANGEXTRACT_EXAMPLES</code> true Load examples from database"},{"location":"how-to/settings/#pipeline-settings","title":"Pipeline Settings","text":"Variable Default Description <code>CELERY_BROKER_URL</code> redis://localhost:6379/1 Celery broker <code>CELERY_RESULT_BACKEND</code> redis://localhost:6379/1 Result storage"},{"location":"how-to/settings/#configuration-files","title":"Configuration Files","text":""},{"location":"how-to/settings/#configpy","title":"config.py","text":"<p>Main Flask configuration in <code>/config.py</code>:</p> <pre><code>class Config:\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    SQLALCHEMY_DATABASE_URI = os.environ.get('SQLALCHEMY_DATABASE_URI')\n    # ...\n</code></pre>"},{"location":"how-to/settings/#celery_configpy","title":"celery_config.py","text":"<p>Celery configuration in <code>/celery_config.py</code>:</p> <pre><code>broker_url = os.environ.get('CELERY_BROKER_URL', 'redis://localhost:6379/1')\nresult_backend = os.environ.get('CELERY_RESULT_BACKEND', 'redis://localhost:6379/1')\ntask_time_limit = 7200\ntask_soft_time_limit = 6000\n</code></pre>"},{"location":"how-to/settings/#model-selection","title":"Model Selection","text":""},{"location":"how-to/settings/#claude-models","title":"Claude Models","text":"Model Use Case <code>claude-sonnet-4-*</code> Default extraction tasks <code>claude-opus-4-*</code> Complex analysis tasks <code>claude-haiku-*</code> Simple, fast tasks"},{"location":"how-to/settings/#changing-models","title":"Changing Models","text":"<p>Edit environment variables:</p> <pre><code>CLAUDE_DEFAULT_MODEL=claude-sonnet-4-20250514\nCLAUDE_POWERFUL_MODEL=claude-opus-4-1-20250805\n</code></pre> <p>Or update at runtime via Admin interface.</p>"},{"location":"how-to/settings/#ontserve-configuration","title":"OntServe Configuration","text":""},{"location":"how-to/settings/#mcp-server-settings","title":"MCP Server Settings","text":"<p>OntServe MCP must be running for ontology integration:</p> <pre><code># Start OntServe MCP\ncd /path/to/OntServe\npython servers/mcp_server.py\n</code></pre>"},{"location":"how-to/settings/#connection-validation","title":"Connection Validation","text":"<p>ProEthica validates MCP connection at startup:</p> <ul> <li>Checks server availability</li> <li>Logs connection status</li> <li>Continues with fallback if unavailable</li> </ul>"},{"location":"how-to/settings/#fallback-behavior","title":"Fallback Behavior","text":"<p>If MCP unavailable:</p> <ul> <li>Available Classes section empty</li> <li>Extraction still works</li> <li>Entities stored locally</li> <li>Manual push to ontology required</li> </ul>"},{"location":"how-to/settings/#database-settings","title":"Database Settings","text":""},{"location":"how-to/settings/#postgresql","title":"PostgreSQL","text":"<p>Required PostgreSQL settings:</p> <pre><code>host: localhost\nport: 5432\ndatabase: ai_ethical_dm\nuser: postgres\npassword: (your password)\n</code></pre>"},{"location":"how-to/settings/#pgvector-extension","title":"pgvector Extension","text":"<p>Vector similarity requires pgvector:</p> <pre><code>CREATE EXTENSION IF NOT EXISTS vector;\n</code></pre>"},{"location":"how-to/settings/#test-database","title":"Test Database","text":"<p>Testing uses separate database:</p> <pre><code>database: ai_ethical_dm_test\n</code></pre>"},{"location":"how-to/settings/#embedding-configuration","title":"Embedding Configuration","text":""},{"location":"how-to/settings/#model","title":"Model","text":"<p>Default embedding model:</p> <pre><code>EMBEDDING_MODEL = 'all-MiniLM-L6-v2'\nEMBEDDING_DIMENSION = 384\n</code></pre>"},{"location":"how-to/settings/#performance","title":"Performance","text":"<p>Embedding generation settings:</p> Setting Value Purpose Batch size 32 Concurrent embeddings Cache Enabled Reduce recomputation"},{"location":"how-to/settings/#logging","title":"Logging","text":""},{"location":"how-to/settings/#log-level","title":"Log Level","text":"<p>Set via environment:</p> <pre><code>LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR\n</code></pre>"},{"location":"how-to/settings/#log-files","title":"Log Files","text":"<p>Logs written to:</p> <ul> <li>Console (stdout)</li> <li><code>logs/app.log</code> (if configured)</li> </ul>"},{"location":"how-to/settings/#llm-traces","title":"LLM Traces","text":"<p>LLM prompts and responses logged for debugging:</p> <ul> <li>Stored in <code>extraction_prompts</code> table</li> <li>Accessible via UI</li> <li>Include timestamps and model info</li> </ul>"},{"location":"how-to/settings/#security-settings","title":"Security Settings","text":""},{"location":"how-to/settings/#csrf-protection","title":"CSRF Protection","text":"<p>Enabled by default. Token required for forms.</p>"},{"location":"how-to/settings/#session-security","title":"Session Security","text":"Setting Value Session type Server-side Cookie secure True (production) Cookie httponly True"},{"location":"how-to/settings/#api-keys","title":"API Keys","text":"<p>Store API keys securely:</p> <ul> <li>Use environment variables</li> <li>Never commit to repository</li> <li>Rotate periodically</li> </ul>"},{"location":"how-to/settings/#performance-tuning","title":"Performance Tuning","text":""},{"location":"how-to/settings/#database-connections","title":"Database Connections","text":"<p>SQLAlchemy pool settings:</p> <pre><code>SQLALCHEMY_POOL_SIZE = 10\nSQLALCHEMY_MAX_OVERFLOW = 20\n</code></pre>"},{"location":"how-to/settings/#celery-workers","title":"Celery Workers","text":"<p>Adjust worker count:</p> <pre><code>celery -A celery_config worker --concurrency=4\n</code></pre>"},{"location":"how-to/settings/#llm-rate-limits","title":"LLM Rate Limits","text":"<p>Built-in retry with exponential backoff:</p> <ul> <li>Max retries: 3</li> <li>Initial delay: 1 second</li> <li>Max delay: 30 seconds</li> </ul>"},{"location":"how-to/settings/#development-vs-production","title":"Development vs Production","text":""},{"location":"how-to/settings/#development","title":"Development","text":"<pre><code>FLASK_ENV=development\nDEBUG=True\n</code></pre> <ul> <li>Auto-reload enabled</li> <li>Detailed error pages</li> <li>Debug toolbar available</li> </ul>"},{"location":"how-to/settings/#production","title":"Production","text":"<pre><code>FLASK_ENV=production\nDEBUG=False\n</code></pre> <ul> <li>No auto-reload</li> <li>Generic error pages</li> <li>Gunicorn recommended</li> </ul>"},{"location":"how-to/settings/#admin-interface","title":"Admin Interface","text":""},{"location":"how-to/settings/#accessing-admin","title":"Accessing Admin","text":"<p>Navigate to: <code>/admin</code> (requires admin role)</p>"},{"location":"how-to/settings/#admin-features","title":"Admin Features","text":"Feature Description Prompts View/edit extraction prompts Models Configure LLM models Users Manage user accounts System View system status"},{"location":"how-to/settings/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/settings/#check-configuration","title":"Check Configuration","text":"<p>Verify environment loaded:</p> <pre><code>python -c \"import os; print(os.environ.get('FLASK_ENV'))\"\n</code></pre>"},{"location":"how-to/settings/#test-database-connection","title":"Test Database Connection","text":"<pre><code>PGPASSWORD=PASS psql -h localhost -U postgres -d ai_ethical_dm -c \"SELECT 1\"\n</code></pre>"},{"location":"how-to/settings/#test-llm-connection","title":"Test LLM Connection","text":"<pre><code>python -c \"\nfrom app.services.claude_service import ClaudeService\nsvc = ClaudeService()\nprint(svc.test_connection())\n\"\n</code></pre>"},{"location":"how-to/settings/#related-guides","title":"Related Guides","text":"<ul> <li>Installation - Initial setup</li> <li>Pipeline Automation - Celery settings</li> <li>Ontology Integration - MCP settings</li> </ul>"},{"location":"how-to/upload-cases/","title":"Upload Cases","text":"<p>This guide covers adding ethics cases to ProEthica for analysis.</p>"},{"location":"how-to/upload-cases/#import-methods","title":"Import Methods","text":"<p>ProEthica provides four methods for adding cases:</p> <p></p> Method Status Description Enter URL Available Import from NSPE website URLs Upload Document Coming Soon PDF, DOCX, TXT file upload Create Manually Coming Soon Manual entry of case details Language Model Coming Soon LLM-assisted case creation <p>Currently, the Enter URL method is the primary way to add cases, optimized for importing NSPE Board of Ethical Review cases directly from the NSPE website.</p>"},{"location":"how-to/upload-cases/#case-structure","title":"Case Structure","text":"<p>ProEthica processes ethics cases with structured sections. The expected format includes:</p> Section Purpose Title Case identifier and subject Facts Narrative description of the situation Discussion Board's ethical analysis and reasoning Questions Specific ethical questions addressed Conclusions Board's determinations"},{"location":"how-to/upload-cases/#importing-via-url","title":"Importing via URL","text":"<p>The URL import method fetches case content directly from the NSPE website.</p>"},{"location":"how-to/upload-cases/#step-1-navigate-to-add-case","title":"Step 1: Navigate to Add Case","text":"<ol> <li>Click Cases in the navigation bar</li> <li>Click Add Case button</li> <li>Select Enter URL (the active green option)</li> </ol>"},{"location":"how-to/upload-cases/#step-2-enter-nspe-case-url","title":"Step 2: Enter NSPE Case URL","text":"<p>Provide the URL to an NSPE Board of Ethical Review case:</p> <pre><code>https://www.nspe.org/resources/ethics/ethics-resources/board-ethical-review-cases/case-XX-X\n</code></pre> <p>The system will:</p> <ol> <li>Fetch the page content</li> <li>Extract the case title</li> <li>Parse Facts, Discussion, Questions, and Conclusions sections</li> <li>Create the case record</li> </ol>"},{"location":"how-to/upload-cases/#step-3-review-imported-content","title":"Step 3: Review Imported Content","text":"<p>After import, verify:</p> <ul> <li>Title extracted correctly</li> <li>All sections identified</li> <li>Content complete</li> </ul>"},{"location":"how-to/upload-cases/#step-4-generate-structure","title":"Step 4: Generate Structure","text":"<p>Click Structure on the case detail page to:</p> <ul> <li>View parsed sections</li> <li>Generate embeddings for similarity matching</li> <li>Verify section boundaries</li> </ul>"},{"location":"how-to/upload-cases/#generating-embeddings","title":"Generating Embeddings","text":"<p>After upload, generate embeddings for similarity matching:</p>"},{"location":"how-to/upload-cases/#step-1-access-structure-view","title":"Step 1: Access Structure View","text":"<p>From the case detail page, click Structure.</p>"},{"location":"how-to/upload-cases/#step-2-generate-embeddings","title":"Step 2: Generate Embeddings","text":"<p>Click Generate Embeddings to create vector representations:</p> <ul> <li>Facts embedding (384 dimensions)</li> <li>Discussion embedding (384 dimensions)</li> </ul>"},{"location":"how-to/upload-cases/#step-3-verify-generation","title":"Step 3: Verify Generation","text":"<p>The Structure view shows embedding status:</p> Status Meaning Generated Embeddings available Pending Generation not started Error Generation failed"},{"location":"how-to/upload-cases/#case-sources","title":"Case Sources","text":"<p>ProEthica supports cases from various sources:</p>"},{"location":"how-to/upload-cases/#nspe-board-of-ethical-review","title":"NSPE Board of Ethical Review","text":"<p>The National Society of Professional Engineers publishes Board of Ethical Review (BER) cases with standardized format including facts, questions, and conclusions.</p> <p>Access: NSPE Ethics Resources</p>"},{"location":"how-to/upload-cases/#other-engineering-boards","title":"Other Engineering Boards","text":"<p>Similar cases from state licensing boards and professional organizations follow comparable formats.</p>"},{"location":"how-to/upload-cases/#custom-scenarios","title":"Custom Scenarios","text":"<p>User-created scenarios for analysis should follow the Facts/Discussion structure even if not from official board proceedings.</p>"},{"location":"how-to/upload-cases/#batch-upload","title":"Batch Upload","text":"<p>For multiple cases, use the Pipeline Dashboard:</p> <ol> <li>Navigate to Pipeline Dashboard (<code>/pipeline/dashboard</code>)</li> <li>Use Queue tab for batch operations</li> <li>Upload cases through batch interface</li> </ol>"},{"location":"how-to/upload-cases/#case-metadata","title":"Case Metadata","text":"<p>Each case stores:</p> Field Type Description id Integer Database identifier title Text Case title content Text Full case text source Text Case origin doc_metadata JSON Section structure created_at Timestamp Upload time"},{"location":"how-to/upload-cases/#preparing-case-text","title":"Preparing Case Text","text":"<p>For best extraction results:</p>"},{"location":"how-to/upload-cases/#format-guidelines","title":"Format Guidelines","text":"<ul> <li>Preserve original paragraph structure</li> <li>Include all sections (Facts, Discussion, Questions, Conclusions)</li> <li>Remove headers/footers from PDFs</li> <li>Clean up OCR artifacts if present</li> </ul>"},{"location":"how-to/upload-cases/#section-markers","title":"Section Markers","text":"<p>ProEthica recognizes section headers like:</p> <ul> <li>\"Facts:\" or \"FACTS\"</li> <li>\"Discussion:\" or \"DISCUSSION\"</li> <li>\"Questions:\" or \"QUESTIONS\"</li> <li>\"Conclusions:\" or \"CONCLUSIONS\"</li> </ul>"},{"location":"how-to/upload-cases/#code-references","title":"Code References","text":"<p>Include code of ethics citations as they appear:</p> <ul> <li>\"NSPE Code II.1.a\"</li> <li>\"Code Section 2\"</li> <li>\"Canon 4\"</li> </ul>"},{"location":"how-to/upload-cases/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/upload-cases/#section-detection-failed","title":"Section Detection Failed","text":"<p>If sections aren't detected:</p> <ol> <li>Check for standard section headers</li> <li>Edit case to add explicit headers</li> <li>Use Structure view to manually set sections</li> </ol>"},{"location":"how-to/upload-cases/#embedding-generation-slow","title":"Embedding Generation Slow","text":"<p>Embedding generation depends on:</p> <ul> <li>Case length (longer cases take more time)</li> <li>Server load</li> <li>Model availability</li> </ul> <p>Allow up to 30 seconds for typical cases.</p>"},{"location":"how-to/upload-cases/#duplicate-case","title":"Duplicate Case","text":"<p>The system allows duplicate uploads. Check existing cases before adding:</p> <ol> <li>Use Cases search</li> <li>Check Precedents page for similar titles</li> </ol>"},{"location":"how-to/upload-cases/#related-guides","title":"Related Guides","text":"<ul> <li>View Cases - Browsing and viewing cases</li> <li>Phase 1 Extraction - Begin concept extraction</li> <li>Precedent Discovery - Find similar cases</li> </ul>"},{"location":"how-to/view-cases/","title":"View Cases","text":"<p>This guide covers browsing and viewing ethics cases in ProEthica.</p>"},{"location":"how-to/view-cases/#cases-list-page","title":"Cases List Page","text":"<p>Navigate to: Cases in the navigation bar</p> <p>Or direct URL: <code>/cases/</code></p> <p> Case repository showing cases grouped by year with subject tags and analysis status</p>"},{"location":"how-to/view-cases/#list-layout","title":"List Layout","text":"<p>Cases are organized by year with expandable cards showing:</p> Element Description Title Case name with robot icon if agent-generated Case Number Badge showing case identifier (e.g., \"Case #24-02\") Analyzed Badge Green \"Analyzed\" or gray \"Not Analyzed\" Subject Tags Yellow badges from source classification Questions Up to 3 ethical questions posed to the board Conclusions Board determinations"},{"location":"how-to/view-cases/#subject-tags","title":"Subject Tags","text":"<p>Subject tags provide topical classification of cases. For NSPE cases, these come from the NSPE Board of Ethical Review's subject categorization system.</p> <p>Common engineering ethics subject tags include:</p> Tag Category Examples Professional Conduct Conflict of Interest, Competence, Integrity Public Safety Health and Safety, Public Welfare Practice Areas Design, Construction, Consulting Relationships Client Relations, Employer Relations <p>Tags appear on both the list view and individual case pages.</p>"},{"location":"how-to/view-cases/#filtering-cases","title":"Filtering Cases","text":"<p>The filter bar provides two options:</p> Filter Description World Filter Filter by domain/world (e.g., Engineering Ethics) Show Analyzed Only Show only cases with Step 4 synthesis complete <p>The \"Analyzed\" status indicates whether Step 4 whole-case synthesis has been completed for a case.</p>"},{"location":"how-to/view-cases/#case-detail-page","title":"Case Detail Page","text":"<p>Click View Details on any case card to access the full case page.</p> <p>Direct URL: <code>/cases/&lt;id&gt;</code></p> <p> Individual case page showing sections, tags, and action buttons</p>"},{"location":"how-to/view-cases/#action-buttons","title":"Action Buttons","text":"<p>The header provides quick access to case functions:</p> Button Function Back to Cases Return to case list Edit Edit case content (currently disabled) Structure View document sections and embeddings Source Link to original source (if available) Delete Remove case (authenticated users only) Overview Go to scenario pipeline for analysis"},{"location":"how-to/view-cases/#case-sections","title":"Case Sections","text":"<p>For NSPE engineering ethics cases, the standard sections are:</p> Section Content Facts Background circumstances and situation description Question(s) Specific ethical questions posed to the board NSPE Code References Relevant code of ethics provisions Discussion Board's ethical analysis and reasoning Conclusion(s) Board's formal determinations Dissenting Opinion Minority view (if present) <p>These sections are domain-specific. ProEthica currently uses NSPE engineering ethics as the canonical example. Other professional domains would have corresponding section structures matching their respective boards' case formats.</p>"},{"location":"how-to/view-cases/#case-metadata","title":"Case Metadata","text":"<p>The card header displays:</p> <ul> <li>Case Number: Official case identifier</li> <li>Year: Year of board decision</li> <li>World: Domain classification (e.g., \"Engineering Ethics\")</li> </ul>"},{"location":"how-to/view-cases/#structure-page","title":"Structure Page","text":"<p>The Structure page provides detailed document analysis and embedding management.</p> <p>Access: Click Structure button on case detail page</p> <p>Direct URL: <code>/cases/&lt;id&gt;/structure</code></p> <p> Structure page showing document sections, embedding status, and similar cases</p>"},{"location":"how-to/view-cases/#summary-cards","title":"Summary Cards","text":"<p>The top row shows document statistics:</p> Metric Description Sections Total number of document sections With Embeddings Sections that have vector embeddings Coverage Percentage of sections with embeddings Dimensions Embedding vector size (384D for local model)"},{"location":"how-to/view-cases/#document-sections","title":"Document Sections","text":"<p>The accordion shows each section with:</p> <ul> <li>Section Type: Facts, Discussion, Question, Conclusion, etc.</li> <li>Content Length: Character count</li> <li>Embedding Status: Green badge if embedding exists</li> </ul> <p>Click any section to expand and view:</p> <ul> <li>Content length statistics</li> <li>Embedding dimension and creation timestamp</li> <li>Content preview (first 2000 characters)</li> </ul>"},{"location":"how-to/view-cases/#similar-cases-sidebar","title":"Similar Cases Sidebar","text":"<p>When embeddings are generated, the sidebar shows cases with similar discussion sections:</p> <ul> <li>Similarity percentage based on embedding cosine distance</li> <li>Direct links to similar cases</li> <li>Find More Precedents button for full precedent discovery</li> </ul>"},{"location":"how-to/view-cases/#generate-embeddings","title":"Generate Embeddings","text":"<p>Click Generate Embeddings to create vector representations for similarity matching:</p> <ul> <li>Uses all-MiniLM-L6-v2 local model</li> <li>Creates 384-dimensional vectors</li> <li>Stores in PostgreSQL with pgvector</li> <li>Required for precedent discovery</li> </ul> <p>The button changes to All Embeddings Ready when complete.</p>"},{"location":"how-to/view-cases/#domain-specific-structure","title":"Domain-Specific Structure","text":"<p>ProEthica's section parsing is configurable by domain. The current implementation focuses on engineering ethics with NSPE case format.</p>"},{"location":"how-to/view-cases/#engineering-ethics-nspe","title":"Engineering Ethics (NSPE)","text":"<p>Standard NSPE Board of Ethical Review cases follow this format:</p> <pre><code>CASE NO. XX-X\n\n[Title]\n\nFacts:\n[Situation description]\n\nQuestion(s):\n[Ethical questions]\n\nReferences:\n[Code provisions]\n\nDiscussion:\n[Board's analysis]\n\nConclusion(s):\n[Board's determinations]\n</code></pre>"},{"location":"how-to/view-cases/#extending-to-other-domains","title":"Extending to Other Domains","text":"<p>Other professional domains can be supported by:</p> <ol> <li>Defining section detection patterns</li> <li>Creating domain-specific parsers</li> <li>Mapping to corresponding codes of ethics</li> </ol> <p>Examples of potential domains:</p> Domain Source Section Format Medical Ethics AMA Ethics Opinions Opinion, Background, Analysis Legal Ethics State Bar Opinions Facts, Issues, Discussion, Conclusion Accounting Ethics AICPA Ethics Rulings Situation, Ruling, References"},{"location":"how-to/view-cases/#related-guides","title":"Related Guides","text":"<ul> <li>Upload Cases - Adding new cases</li> <li>Phase 1 Extraction - Beginning analysis</li> <li>Precedent Discovery - Finding similar cases</li> </ul>"},{"location":"reference/architecture/","title":"System Architecture","text":"<p>This document describes the ProEthica system architecture.</p>"},{"location":"reference/architecture/#high-level-architecture","title":"High-Level Architecture","text":"<p>ProEthica follows a three-tier architecture with specialized components:</p> <pre><code>+---------------------------------------------------------------+\n|                        Processing                             |\n|                                                               |\n|  +--------------+  +--------------+  +--------------+         |\n|  |     LLM      |  |  LangGraph   |  |   Celery     |         |\n|  |   (Claude)   |  | Orchestration|  |   Tasks      |         |\n|  +------+-------+  +------+-------+  +------+-------+         |\n+---------|-----------------|-----------------|------------------+\n          |                 |                 |\n          v                 v                 v\n+---------------------------------------------------------------+\n|                        Knowledge                              |\n|                                                               |\n|  +--------------+  +--------------+  +--------------+         |\n|  |   Ontology   |  |  Case Base   |  |  Embeddings  |         |\n|  |  (OntServe)  |  | (PostgreSQL) |  |  (pgvector)  |         |\n|  +------+-------+  +------+-------+  +------+-------+         |\n+---------|-----------------|-----------------|------------------+\n          |                 |                 |\n          v                 v                 v\n+---------------------------------------------------------------+\n|                      Infrastructure                           |\n|                                                               |\n|  +--------------+  +--------------+  +--------------+         |\n|  |     MCP      |  |   Database   |  |    Redis     |         |\n|  |  (JSON-RPC)  |  | (PostgreSQL) |  |   (Queue)    |         |\n|  +--------------+  +--------------+  +--------------+         |\n+---------------------------------------------------------------+\n</code></pre>"},{"location":"reference/architecture/#component-overview","title":"Component Overview","text":""},{"location":"reference/architecture/#processing-layer","title":"Processing Layer","text":"Component Technology Purpose LLM Claude (Anthropic) Natural language extraction LangGraph Python orchestration Multi-step workflows Celery Distributed tasks Background processing"},{"location":"reference/architecture/#knowledge-layer","title":"Knowledge Layer","text":"Component Technology Purpose Ontology OntServe + OWL Concept definitions Case Base PostgreSQL Case storage and retrieval Embeddings pgvector Semantic similarity"},{"location":"reference/architecture/#infrastructure-layer","title":"Infrastructure Layer","text":"Component Technology Purpose MCP JSON-RPC 2.0 Ontology communication Database PostgreSQL 14+ Persistent storage Queue Redis Message broker"},{"location":"reference/architecture/#service-architecture","title":"Service Architecture","text":""},{"location":"reference/architecture/#flask-application","title":"Flask Application","text":"<pre><code>proethica/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 __init__.py          # App factory\n\u2502   \u251c\u2500\u2500 routes/              # HTTP endpoints (70+ files)\n\u2502   \u2502   \u251c\u2500\u2500 scenario_pipeline/  # Pipeline steps\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 services/            # Business logic (260+ files)\n\u2502   \u2502   \u251c\u2500\u2500 extraction/      # Concept extractors\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 models/              # Database models (60+ files)\n\u2502   \u2514\u2500\u2500 templates/           # Jinja2 templates\n\u251c\u2500\u2500 config.py                # Configuration\n\u251c\u2500\u2500 run.py                   # Entry point\n\u2514\u2500\u2500 celery_config.py         # Task configuration\n</code></pre>"},{"location":"reference/architecture/#service-layer","title":"Service Layer","text":"<p>Services encapsulate business logic:</p> Category Services Purpose LLM claude_service, llm_service AI integration Extraction dual_*_extractor Concept extraction (10 extractors) Analysis guideline_analysis, case_synthesis Case processing Decision decision_focus_extractor Decision point extraction Storage case_entity_storage, entity_service Data management Commit auto_commit_service RDF commit to OntServe Integration ontserve_mcp_client External systems"},{"location":"reference/architecture/#route-structure","title":"Route Structure","text":"Module Endpoints Purpose cases /cases/* Case management scenario_pipeline /scenario_pipeline/* Analysis workflow precedents /cases/precedents/* Similarity search pipeline_dashboard /pipeline/* Automation"},{"location":"reference/architecture/#data-flow","title":"Data Flow","text":""},{"location":"reference/architecture/#extraction-pipeline","title":"Extraction Pipeline","text":"<pre><code>Case Document\n      |\n      v\n+------------------+\n|  Section Parser  |\n+--------+---------+\n         |\n         v\n+------------------+     +------------------+\n| Pass 1 Extract   |----&gt;|  Entity Review   |\n| (R, S, Rs)       |     |  + OntServe      |\n+--------+---------+     +--------+---------+\n         |                        |\n         v                        v\n+------------------+     +------------------+\n| Pass 2 Extract   |----&gt;|  Entity Review   |\n| (P, O, Cs, Ca)   |     |  + OntServe      |\n+--------+---------+     +--------+---------+\n         |                        |\n         v                        v\n+------------------+     +------------------+\n| Pass 3 Extract   |----&gt;|  Entity Review   |\n| (A, E)           |     |  + OntServe      |\n+--------+---------+     +--------+---------+\n         |                        |\n         v                        v\n+------------------+     +------------------+\n| Case Analysis    |----&gt;| Transformation   |\n| (Q&amp;C, Provs)     |     | Classification   |\n+--------+---------+     +--------+---------+\n         |                        |\n         v                        v\n+------------------+     +------------------+\n| Decision Points  |----&gt;| Commit to        |\n| Extraction       |     | OntServe         |\n+--------+---------+     +--------+---------+\n         |                        |\n         v                        v\n+------------------+     +------------------+\n| Scenario         |----&gt;| Interactive      |\n| Generation       |     | Visualization    |\n+------------------+     +------------------+\n</code></pre>"},{"location":"reference/architecture/#entity-storage-flow","title":"Entity Storage Flow","text":"<pre><code>LLM Response\n      |\n      v\n+---------------------+\n| ExtractionPrompt    |&lt;-----+\n| (prompt + response) |      |\n+----------+----------+      |\n           |                 |\n           | extraction_     |\n           | session_id      |\n           |                 |\n           v                 |\n+---------------------+      |\n| TemporaryRDFStorage |------+\n| (classes + individ) |\n+----------+----------+\n           |\n           | on commit\n           v\n+---------------------+\n|    OntServe         |\n| (permanent ontology)|\n+---------------------+\n</code></pre>"},{"location":"reference/architecture/#database-schema","title":"Database Schema","text":""},{"location":"reference/architecture/#core-tables","title":"Core Tables","text":"Table Purpose <code>documents</code> Case documents <code>document_sections</code> Parsed sections with embeddings <code>temporary_rdf_storage</code> Extracted entities (staging) <code>extraction_prompts</code> LLM prompt/response records <code>pipeline_runs</code> Pipeline execution tracking"},{"location":"reference/architecture/#analysis-tables-step-4","title":"Analysis Tables (Step 4)","text":"<p>Step 4 analysis entities use the standard RDF storage pattern in <code>temporary_rdf_storage</code>:</p> extraction_type entity_type Purpose <code>code_provision_reference</code> resources NSPE Code references <code>ethical_question</code> EthicalQuestion Ethical questions posed <code>ethical_conclusion</code> BoardConclusion Board conclusions <code>decision_point</code> DecisionPoint Key decision points <code>decision_option</code> DecisionOption Options at decision points <p>Transformation classification stored in:</p> Table Purpose <code>case_precedent_features</code> Transformation type and pattern data"},{"location":"reference/architecture/#scenario-tables","title":"Scenario Tables","text":"Table Purpose <code>scenario_participants</code> Character profiles <code>scenario_relationship_map</code> Relationships <code>scenario_exploration_sessions</code> Interactive exploration sessions <code>scenario_exploration_choices</code> User choices in explorations"},{"location":"reference/architecture/#provenance-tables","title":"Provenance Tables","text":"Table Purpose <code>provenance_agents</code> Acting agents <code>provenance_activities</code> Processing activities <code>provenance_entities</code> Produced entities <code>provenance_derivations</code> Derivation chains"},{"location":"reference/architecture/#external-integrations","title":"External Integrations","text":""},{"location":"reference/architecture/#ontserve-mcp","title":"OntServe MCP","text":"<p>Communication via Model Context Protocol:</p> <pre><code>ProEthica ---JSON-RPC---&gt; OntServe MCP (8082)\n                                |\n                                v\n                         +-------------+\n                         | PostgreSQL  |\n                         | (ontologies)|\n                         +-------------+\n</code></pre> <p>Methods: - <code>get_entities_by_category()</code> - Fetch classes - <code>sparql_query()</code> - Execute queries - <code>submit_candidate_concept()</code> - Add concepts</p>"},{"location":"reference/architecture/#llm-integration","title":"LLM Integration","text":"<pre><code>ProEthica ---HTTP---&gt; Anthropic API\n                           |\n                           v\n                +-----------------+\n                |  Claude Model   |\n                |  (sonnet/opus)  |\n                +-----------------+\n</code></pre> <p>Features: - Retry with exponential backoff - Response streaming - Token tracking - Cost monitoring</p>"},{"location":"reference/architecture/#deployment-architecture","title":"Deployment Architecture","text":""},{"location":"reference/architecture/#local-development","title":"Local Development","text":"<pre><code>+-----------------------------------------+\n|           Developer Machine             |\n|                                         |\n|  +-----------+  +-----------+  +------+ |\n|  | ProEthica |  | OntServe  |  |Postgr| |\n|  |   :5000   |  |   :8082   |  | :5432| |\n|  +-----------+  +-----------+  +------+ |\n|                      |                  |\n|                +-----------+            |\n|                |   Redis   |            |\n|                |   :6379   |            |\n|                +-----------+            |\n+-----------------------------------------+\n</code></pre>"},{"location":"reference/architecture/#production-digitalocean","title":"Production (DigitalOcean)","text":"<pre><code>+-----------------------------------------+\n|         DigitalOcean Droplet            |\n|                                         |\n|  +-----------+      +-----------+       |\n|  |   nginx   |------|  gunicorn |       |\n|  |  (proxy)  |      | ProEthica |       |\n|  +-----------+      +-----------+       |\n|       |                  |              |\n|       |            +-----------+        |\n|       |            | OntServe  |        |\n|       |            |    MCP    |        |\n|       |            +-----------+        |\n|       |                  |              |\n|       v                  v              |\n|  +-----------------------------+        |\n|  |        PostgreSQL           |        |\n|  +-----------------------------+        |\n+-----------------------------------------+\n              |\n              | HTTPS\n              v\n       proethica.org\n</code></pre>"},{"location":"reference/architecture/#security-architecture","title":"Security Architecture","text":""},{"location":"reference/architecture/#authentication","title":"Authentication","text":"<ul> <li>Session-based authentication</li> <li>CSRF protection</li> <li>Secure cookie configuration</li> </ul>"},{"location":"reference/architecture/#authorization","title":"Authorization","text":"<ul> <li>Role-based access control</li> <li>Admin-only endpoints</li> <li>API key management</li> </ul>"},{"location":"reference/architecture/#data-protection","title":"Data Protection","text":"<ul> <li>Database credentials in environment</li> <li>API keys never logged</li> <li>Secure session storage</li> </ul>"},{"location":"reference/architecture/#scalability-considerations","title":"Scalability Considerations","text":""},{"location":"reference/architecture/#horizontal-scaling","title":"Horizontal Scaling","text":"<ul> <li>Celery workers can scale independently</li> <li>Redis cluster for high availability</li> <li>Database read replicas possible</li> </ul>"},{"location":"reference/architecture/#performance-optimization","title":"Performance Optimization","text":"<ul> <li>Connection pooling</li> <li>Query optimization</li> <li>Embedding caching</li> <li>Result pagination</li> </ul>"},{"location":"reference/architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li>Nine-Concept Framework</li> <li>Ontology Integration</li> <li>Installation Guide</li> </ul>"},{"location":"reference/citations/","title":"Academic References","text":"<p>This page documents the academic sources and theoretical foundations for ProEthica.</p>"},{"location":"reference/citations/#transformation-classification","title":"Transformation Classification","text":""},{"location":"reference/citations/#source","title":"Source","text":"<p>Marchais-Roubelat, A. and Roubelat, F. (2015) Designing a moving strategic foresight approach: ontological and methodological issues of scenario design Foresight, Vol. 17 No. 6, pp. 545-555. DOI: 10.1108/FS-12-2014-0085</p>"},{"location":"reference/citations/#transformation-types","title":"Transformation Types","text":"<p>From Table II (p. 550) - \"Steering rule\" evaluates process transformations to challenge scenario duration.</p> Type Definition (from paper) Application to NSPE Cases Transfer \"Shifts from a scenario set to a new one\" Resolution transfers obligation/responsibility to another party Stalemate \"Stakeholders cannot quit the scenario, as they seem to be trapped in the set of rules\" Competing obligations remain in tension without clear resolution Oscillation \"Stakeholders go to and fro between different sets of rules\" Duties shift back and forth between parties over time Phase Lag \"Some stakeholders do not follow the set of rules of the scenario where they are engaged, performing parallel scenarios\" Delayed consequences reveal obligations not initially apparent <p>Marchais-Roubelat and Roubelat's framework comes from strategic foresight methodology, specifically their \"action-based scenarios\" approach. ProEthica applies these transformation types to classify how NSPE Board of Ethical Review cases resolve competing ethical obligations.</p>"},{"location":"reference/citations/#nine-concept-framework","title":"Nine-Concept Framework","text":"<p>The formal framework D = (R, P, O, S, Rs, A, E, Ca, Cs) synthesizes concepts from computational ethics literature.</p>"},{"location":"reference/citations/#foundational-works","title":"Foundational Works","text":"<ul> <li>McLaren, B.M. (2003) - Extensional definition of ethical principles through case-based reasoning (SIROCCO system)</li> <li>Berreby, F. et al. (2017) - ACE modular architecture for ethical reasoning systems</li> <li>Tolmeijer, S. et al. (2021) - Requirements taxonomy for ethical decision-making agents</li> </ul>"},{"location":"reference/citations/#roles-r","title":"Roles (R)","text":"<p>Professional roles generate distinctive ethical obligations tied to professional goals and practices.</p> Reference Contribution Oakley &amp; Cocking (2001) Role morality and professional duties Dennis et al. (2016) Roles as filters determining which obligations apply Cointe et al. (2016) Multi-agent frameworks for role-based principle interpretation Kong et al. (2020) Identity roles and virtues across engineering, law, accounting"},{"location":"reference/citations/#principles-p","title":"Principles (P)","text":"<p>Abstract ethical principles require extensional definition through precedents to achieve concrete meaning.</p> Reference Contribution McLaren (2003) Extensional vs intensional principle definition Hallamaa &amp; Kalliokoski (2022) Context-sensitivity of principles Taddeo et al. (2024) Principle operationalization steps Anderson &amp; Anderson (2018) GenEth: learning principles from expert examples Benzmuller et al. (2020) LogiKEy higher-order logic formalization"},{"location":"reference/citations/#obligations-o","title":"Obligations (O)","text":"<p>Obligations specify what, when, by whom, and under what conditions - the \"moral core\" of professional ethics.</p> Reference Contribution Dennis et al. (2016) Principles vs obligations distinction Scheutz &amp; Malle (2014) Obligations as permissible/obligatory/forbidden actions Anderson &amp; Anderson (2006, 2007, 2011) Prima facie duty framework Ganascia (2007) Answer set programming for conflicting obligations Dennis &amp; del Olmo (2021) Defeasible deontic logic"},{"location":"reference/citations/#states-s","title":"States (S)","text":"<p>Context determines which principles activate and how they apply - identical actions receive different moral evaluations.</p> Reference Contribution Rao et al. (2023) Context-dependence in moral evaluation Berreby et al. (2017) Event Calculus for state representation Almpani et al. (2023) Context as environmental states Sarmiento et al. (2023) Causal reasoning with state transitions"},{"location":"reference/citations/#resources-rs","title":"Resources (Rs)","text":"<p>Professional ethical knowledge is largely encoded in cases and codes rather than explicit rules.</p> Reference Contribution Ashley &amp; McLaren (1995) Case-based reasoning foundations Guarini (2006) Neural network case classification Davis (1991) Multiple functions of professional codes Frankel (1989) Hierarchical structure in codes Kong et al. (2020) Computational linguistics for code analysis"},{"location":"reference/citations/#actions-a","title":"Actions (A)","text":"<p>Professional actions require multi-criteria assessment across deontological, consequentialist, and virtue dimensions.</p> Reference Contribution Bonnemains et al. (2018) Multi-criteria action evaluation Govindarajulu &amp; Bringsjord (2017) Doctrine of Double Effect formalization Sarmiento et al. (2023) Causal relationships with NESS test Dawson (1994) Professional actions as distinct categories"},{"location":"reference/citations/#events-e","title":"Events (E)","text":"<p>Ethical evaluation depends on event sequences - appropriate responses depend on historical context and anticipated future.</p> Reference Contribution Zhang et al. (2023) Moral event classification Anderson &amp; Anderson (2018) Event sequence evaluation Govindarajulu &amp; Bringsjord (2017) Temporal modal logic Arkin (2008) \"Ethical black box\" for event documentation"},{"location":"reference/citations/#capabilities-ca","title":"Capabilities (Ca)","text":"<p>Competence transcends technical skill - includes communication, knowledge, reasoning, values, and reflection.</p> Reference Contribution Epstein (2002) Multidimensional professional competence Cervantes et al. (2020) Capacities/capabilities/competencies taxonomy Stenseke (2022) Functional competence vs moral agency Dennis et al. (2016) Formal verification for capability sufficiency"},{"location":"reference/citations/#constraints-cs","title":"Constraints (Cs)","text":"<p>Constraints establish inviolable limits - boundaries while obligations specify requirements.</p> Reference Contribution Ganascia (2007) Hard vs soft (defeasible) constraints Furbach et al. (2014) Deontic constraints and prioritization Taddeo et al. (2024) Legal/regulatory constraint interaction Arkin (2008) Architectural \"ethical governors\""},{"location":"reference/citations/#precedent-discovery","title":"Precedent Discovery","text":"<p>ProEthica uses sentence embeddings and case-based reasoning to find relevant prior NSPE Board of Ethical Review decisions.</p>"},{"location":"reference/citations/#foundational-text","title":"Foundational Text","text":"<p>Richter, M.M. &amp; Weber, R.O. (2013) Case-Based Reasoning: A Textbook Springer. ISBN: 978-3-642-40166-4. SpringerLink</p> <p>Textbook covering CBR theory: similarity measures, retrieval, and adaptation. Provides the foundation for experience-based problem solving applied in ProEthica.</p>"},{"location":"reference/citations/#embedding-methods","title":"Embedding Methods","text":"<p>Reimers, N. &amp; Gurevych, I. (2019) Sentence-BERT: Sentence Embeddings using Siamese BERT-Networks Proceedings of EMNLP-IJCNLP 2019, pp. 3982-3992. DOI: 10.18653/v1/D19-1410 | ACL Anthology</p> <p>Sentence-BERT (SBERT) for semantic similarity via dense vectors. ProEthica uses all-MiniLM-L6-v2 for cosine similarity across case sections.</p>"},{"location":"reference/citations/#legal-case-retrieval","title":"Legal Case Retrieval","text":"<p>Sun, Z., Zhang, K., Yu, W., Wang, H. &amp; Xu, J. (2024) Logic Rules as Explanations for Legal Case Retrieval Proceedings of LREC-COLING 2024, pp. 10747-10759. ACL Anthology</p> <p>Neural-Symbolic Legal Case Retrieval (NS-LCR): combines embeddings with logic rules for explainable retrieval in legal contexts.</p> <p>Wiratunga, N., Abeyratne, R., Jayawardena, L., et al. (2024) CBR-RAG: Case-Based Reasoning for Retrieval Augmented Generation in LLMs for Legal Question Answering arXiv preprint arXiv:2404.04302. arXiv</p> <p>Integrates CBR with RAG for legal QA. Compares domain-specific vs general embeddings.</p>"},{"location":"reference/citations/#role-based-ethics","title":"Role-Based Ethics","text":"<p>Rauch, C.B., Molineaux, M., Mainali, M., Sen, A., Floyd, M.W., &amp; Weber, R.O. (2025) Role-Based Ethics for Decision-Maker Alignment 2025 IEEE Conference on Artificial Intelligence (CAI), pp. 1209-1212.</p> <p>Foundational work on precedent-based role ethics that ProEthica extends.</p> <p>Oakley, J. &amp; Cocking, D. (2001) Virtue Ethics and Professional Roles Cambridge University Press.</p> <p>Role-generated obligations framework that informs the Roles component.</p>"},{"location":"reference/citations/#proethica-system","title":"ProEthica System","text":"<p>Rauch, C.B. &amp; Weber, R.O. (2026) ProEthica: A Professional Role-Based Ethical Analysis Tool Using LLM-Orchestrated, Ontology Supported Case-Based Reasoning Proceedings of the AAAI Conference on Artificial Intelligence. Singapore: AAAI Press.</p> <p>The primary reference for ProEthica system architecture and methodology.</p>"},{"location":"reference/citations/#bibtex","title":"BibTeX","text":"<pre><code>@inproceedings{rauch2026proethica,\n  title={ProEthica: A Professional Role-Based Ethical Analysis Tool Using\n         LLM-Orchestrated, Ontology Supported Case-Based Reasoning},\n  author={Rauch, Christopher B. and Weber, Rosina O.},\n  booktitle={Proceedings of the AAAI Conference on Artificial Intelligence},\n  year={2026},\n  organization={AAAI Press},\n  address={Singapore}\n}\n</code></pre>"},{"location":"reference/citations/#related-guides","title":"Related Guides","text":"<ul> <li>Nine-Concept Framework - Concept definitions</li> <li>Transformation Types - Classification details</li> <li>Precedent Discovery - Using similarity search</li> </ul>"},{"location":"reference/ontology-integration/","title":"Ontology Integration","text":"<p>This document describes ProEthica's integration with OntServe for ontology management.</p>"},{"location":"reference/ontology-integration/#overview","title":"Overview","text":"<p>ProEthica uses OntServe as its central ontology repository. The integration provides:</p> <ul> <li>Concept definitions for extraction validation</li> <li>Class hierarchy for entity classification</li> <li>SPARQL queries for knowledge retrieval</li> <li>Candidate concept submission</li> </ul>"},{"location":"reference/ontology-integration/#architecture","title":"Architecture","text":"<pre><code>ProEthica                          OntServe\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 MCP Client \u2502\u2500\u2500\u2500\u2500 JSON-RPC \u2500\u2500\u2500\u2500\u25b6\u2502 MCP Server \u2502\n\u2502            \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502   :8082    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                        \u2502\n                                        \u25bc\n                                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                                 \u2502 PostgreSQL \u2502\n                                 \u2502 (ontologies)\u2502\n                                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/ontology-integration/#model-context-protocol-mcp","title":"Model Context Protocol (MCP)","text":""},{"location":"reference/ontology-integration/#connection","title":"Connection","text":"<p>ProEthica connects to OntServe via MCP (JSON-RPC 2.0):</p> Setting Default URL http://localhost:8082 Protocol JSON-RPC 2.0 Transport HTTP POST"},{"location":"reference/ontology-integration/#configuration","title":"Configuration","text":"<p>Environment variables:</p> <pre><code>ONTSERVE_MCP_ENABLED=true\nONTSERVE_MCP_URL=http://localhost:8082\nENABLE_EXTERNAL_MCP_ACCESS=true\n</code></pre>"},{"location":"reference/ontology-integration/#mcp-client","title":"MCP Client","text":""},{"location":"reference/ontology-integration/#client-implementation","title":"Client Implementation","text":"<p>Located at: <code>app/services/ontserve_mcp_client.py</code></p> <p>Features: - Async/await support with aiohttp - Connection pooling - Retry with exponential backoff - Graceful error handling</p>"},{"location":"reference/ontology-integration/#connection-management","title":"Connection Management","text":"<pre><code>from app.services.ontserve_mcp_client import OntServeMCPClient\n\nasync with OntServeMCPClient() as client:\n    entities = await client.get_entities_by_category(\"Role\")\n</code></pre>"},{"location":"reference/ontology-integration/#available-methods","title":"Available Methods","text":""},{"location":"reference/ontology-integration/#get_entities_by_category","title":"get_entities_by_category","text":"<p>Retrieves entities of a specific type from the ontology.</p> <p>Request: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"get_entities_by_category\",\n  \"params\": {\"category\": \"Role\"},\n  \"id\": 1\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"entities\": [\n      {\"uri\": \"proeth:Engineer\", \"label\": \"Engineer\", \"definition\": \"...\"},\n      {\"uri\": \"proeth:Client\", \"label\": \"Client\", \"definition\": \"...\"}\n    ]\n  },\n  \"id\": 1\n}\n</code></pre></p>"},{"location":"reference/ontology-integration/#sparql_query","title":"sparql_query","text":"<p>Executes SPARQL queries against the ontology.</p> <p>Request: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"sparql_query\",\n  \"params\": {\n    \"query\": \"SELECT ?s ?p ?o WHERE { ?s ?p ?o } LIMIT 10\"\n  },\n  \"id\": 2\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"bindings\": [\n      {\"s\": \"...\", \"p\": \"...\", \"o\": \"...\"}\n    ]\n  },\n  \"id\": 2\n}\n</code></pre></p>"},{"location":"reference/ontology-integration/#submit_candidate_concept","title":"submit_candidate_concept","text":"<p>Submits new concept for ontology review.</p> <p>Request: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"submit_candidate_concept\",\n  \"params\": {\n    \"label\": \"AI Verification\",\n    \"category\": \"Capability\",\n    \"definition\": \"Ability to verify AI-generated outputs\",\n    \"source\": \"Case 24-2\"\n  },\n  \"id\": 3\n}\n</code></pre></p>"},{"location":"reference/ontology-integration/#ontology-structure","title":"Ontology Structure","text":""},{"location":"reference/ontology-integration/#three-layer-architecture","title":"Three-Layer Architecture","text":"<p>ProEthica uses a three-layer ontology:</p> Layer Purpose Example Classes Core 9 foundational concepts Role, Principle, Obligation Intermediate Domain-specific Engineer, PublicSafety Case Instance data Case24_2_Engineer"},{"location":"reference/ontology-integration/#core-ontology-proethica-core","title":"Core Ontology (proethica-core)","text":"<p>Defines the 9 concept types:</p> Class URI Description Role proeth-core:Role Professional positions Principle proeth-core:Principle Abstract standards Obligation proeth-core:Obligation Concrete duties State proeth-core:State Situational context Resource proeth-core:Resource Available knowledge Action proeth-core:Action Professional behaviors Event proeth-core:Event Precipitating occurrences Capability proeth-core:Capability Permissions Constraint proeth-core:Constraint Prohibitions"},{"location":"reference/ontology-integration/#intermediate-ontology-proethica-intermediate","title":"Intermediate Ontology (proethica-intermediate)","text":"<p>Domain-specific subclasses:</p> <pre><code>proeth-int:Engineer rdfs:subClassOf proeth-core:Role .\nproeth-int:CompetenceRequirement rdfs:subClassOf proeth-core:Obligation .\nproeth-int:NSPECodeProvision rdfs:subClassOf proeth-core:Resource .\n</code></pre>"},{"location":"reference/ontology-integration/#case-analysis-classes-step-4","title":"Case Analysis Classes (Step 4)","text":"<p>Added for Step 4 enhanced analysis:</p> Class Parent Description <code>EthicalQuestion</code> BFO generically dependent continuant Questions posed to Board for ethical review <code>BoardConclusion</code> BFO generically dependent continuant Board's formal determinations <code>DecisionPoint</code> proeth-core:Event Points where ethical choices must be made <code>DecisionOption</code> BFO generically dependent continuant Available options at decision points <p>Properties:</p> Property Domain Range Description <code>hasOption</code> DecisionPoint DecisionOption Links decision point to options <code>involvesRole</code> DecisionPoint Role Professional roles involved <code>appliesProvision</code> DecisionPoint EthicalCode Applicable code provisions <code>isBoardChoice</code> DecisionOption boolean Whether this option was chosen <code>answersQuestion</code> BoardConclusion EthicalQuestion Links conclusion to question"},{"location":"reference/ontology-integration/#entity-review-integration","title":"Entity Review Integration","text":""},{"location":"reference/ontology-integration/#available-classes-display","title":"Available Classes Display","text":"<p>During entity review, ProEthica fetches available classes:</p> <pre><code># In entity_review.py\nasync def get_available_classes(category):\n    async with OntServeMCPClient() as client:\n        return await client.get_entities_by_category(category)\n</code></pre>"},{"location":"reference/ontology-integration/#class-assignment","title":"Class Assignment","text":"<p>When user assigns entity to existing class:</p> <ol> <li>Entity <code>class_uri</code> updated to match ontology class</li> <li>Definition may be inherited or customized</li> <li>Relationship to parent class preserved</li> </ol>"},{"location":"reference/ontology-integration/#new-class-approval","title":"New Class Approval","text":"<p>When approving new class:</p> <ol> <li><code>submit_candidate_concept()</code> called</li> <li>OntServe creates candidate entry</li> <li>Admin reviews in OntServe</li> <li>Approved classes added to ontology</li> </ol>"},{"location":"reference/ontology-integration/#sparql-queries","title":"SPARQL Queries","text":""},{"location":"reference/ontology-integration/#common-queries","title":"Common Queries","text":"<p>Get all Roles: <pre><code>PREFIX proeth: &lt;http://proethica.org/ontology#&gt;\nSELECT ?role ?label ?definition\nWHERE {\n  ?role rdfs:subClassOf proeth:Role .\n  ?role rdfs:label ?label .\n  OPTIONAL { ?role rdfs:comment ?definition }\n}\n</code></pre></p> <p>Get Obligations for a Role: <pre><code>PREFIX proeth: &lt;http://proethica.org/ontology#&gt;\nSELECT ?obligation ?label\nWHERE {\n  ?role rdfs:label \"Engineer\" .\n  ?obligation proeth:generatedBy ?role .\n  ?obligation rdfs:label ?label .\n}\n</code></pre></p>"},{"location":"reference/ontology-integration/#query-execution","title":"Query Execution","text":"<p>Via MCP client:</p> <pre><code>query = \"\"\"\nSELECT ?s ?label WHERE {\n  ?s rdfs:label ?label .\n  ?s a proeth:Role .\n}\n\"\"\"\nresults = await client.sparql_query(query)\n</code></pre>"},{"location":"reference/ontology-integration/#error-handling","title":"Error Handling","text":""},{"location":"reference/ontology-integration/#connection-failures","title":"Connection Failures","text":"<p>If OntServe unavailable:</p> <pre><code>try:\n    entities = await client.get_entities_by_category(\"Role\")\nexcept MCPConnectionError:\n    # Fallback to cached data or empty list\n    entities = []\n</code></pre>"},{"location":"reference/ontology-integration/#timeout-handling","title":"Timeout Handling","text":"<p>Configurable timeout with retry:</p> <pre><code>client = OntServeMCPClient(\n    timeout=30,\n    max_retries=3,\n    retry_delay=1\n)\n</code></pre>"},{"location":"reference/ontology-integration/#graceful-degradation","title":"Graceful Degradation","text":"<p>ProEthica continues functioning without OntServe:</p> <ul> <li>Available Classes section shows empty</li> <li>Extraction still works</li> <li>Entities stored locally</li> <li>Manual ontology sync later</li> </ul>"},{"location":"reference/ontology-integration/#caching","title":"Caching","text":""},{"location":"reference/ontology-integration/#class-cache","title":"Class Cache","text":"<p>Available classes cached to reduce queries:</p> Setting Value Cache duration 5 minutes Invalidation On new class approval"},{"location":"reference/ontology-integration/#query-cache","title":"Query Cache","text":"<p>SPARQL results cached:</p> Setting Value Cache duration 1 minute Key Query hash"},{"location":"reference/ontology-integration/#monitoring","title":"Monitoring","text":""},{"location":"reference/ontology-integration/#connection-status","title":"Connection Status","text":"<p>Header shows connection status:</p> <ul> <li>Green: Connected</li> <li>Yellow: Degraded</li> <li>Red: Disconnected</li> </ul>"},{"location":"reference/ontology-integration/#health-check","title":"Health Check","text":"<p>Periodic health check:</p> <pre><code>async def health_check():\n    try:\n        await client.get_entities_by_category(\"Role\")\n        return True\n    except:\n        return False\n</code></pre>"},{"location":"reference/ontology-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"reference/ontology-integration/#mcp-not-responding","title":"MCP Not Responding","text":"<ol> <li> <p>Check OntServe MCP is running:    <pre><code>curl -X POST http://localhost:8082 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"method\":\"list_tools\",\"id\":1}'\n</code></pre></p> </li> <li> <p>Verify port 8082 not blocked</p> </li> <li> <p>Check OntServe logs</p> </li> </ol>"},{"location":"reference/ontology-integration/#empty-available-classes","title":"Empty Available Classes","text":"<ol> <li>Verify MCP connection active</li> <li>Check ontology loaded in OntServe</li> <li>Query database directly:    <pre><code>SELECT * FROM ontology_classes WHERE type = 'Role';\n</code></pre></li> </ol>"},{"location":"reference/ontology-integration/#query-failures","title":"Query Failures","text":"<ol> <li>Validate SPARQL syntax</li> <li>Check ontology namespaces</li> <li>Review OntServe error logs</li> </ol>"},{"location":"reference/ontology-integration/#related-documentation","title":"Related Documentation","text":"<ul> <li>System Architecture</li> <li>Entity Review</li> <li>Settings</li> </ul>"},{"location":"reference/transformation-types/","title":"Transformation Types","text":"<p>This document describes the ethical transformation classification system used in Phase 2 analysis.</p>"},{"location":"reference/transformation-types/#overview","title":"Overview","text":"<p>ProEthica classifies ethical transformations based on the scenario dynamics framework of Marchais-Roubelat and Roubelat (2015). This framework identifies four transformation patterns that describe how ethical situations evolve.</p>"},{"location":"reference/transformation-types/#the-four-transformation-types","title":"The Four Transformation Types","text":""},{"location":"reference/transformation-types/#transfer","title":"Transfer","text":"<p>Definition: A clear shift from one ethical state to another.</p> <p>Pattern: A \u2192 B</p> <p>Characteristics: - Decisive transition between states - Clear before/after distinction - Irreversible or difficult to reverse - Identifiable trigger event</p> <p>Example - Case 24-2: <pre><code>Initial State: Engineer operating within competence\nTrigger: Client requests AI-assisted design\nAction: Uses AI without verification capability\nFinal State: Engineer exceeding competence boundaries\n\nClassification: Transfer (ai_competence_boundary_violation)\n</code></pre></p> <p>Indicators: - Obligation status changes (compliant \u2192 violated) - Professional role boundaries crossed - Clear ethical threshold passed</p>"},{"location":"reference/transformation-types/#stalemate","title":"Stalemate","text":"<p>Definition: Competing forces prevent resolution.</p> <p>Pattern: A \u2194 B</p> <p>Characteristics: - Opposing obligations in tension - No clear resolution path - Persistent deadlock state - Multiple valid perspectives</p> <p>Example: <pre><code>Obligation A: Maintain client confidentiality\nObligation B: Report safety violations\nTension: Information reveals safety risk but is confidential\n\nClassification: Stalemate (confidentiality_vs_safety)\n</code></pre></p> <p>Indicators: - Multiple conflicting obligations - Each position ethically justifiable - Resolution requires value prioritization - External adjudication often needed</p>"},{"location":"reference/transformation-types/#oscillation","title":"Oscillation","text":"<p>Definition: Alternating between states over time.</p> <p>Pattern: A \u2192 B \u2192 A \u2192 B...</p> <p>Characteristics: - Cyclic pattern of states - Recurring tension - Temporary resolutions - Systemic instability</p> <p>Example: <pre><code>State A: Engineer accepts project within scope\nState B: Scope creep pushes beyond competence\nReturn to A: Scope reduced after concerns raised\nReturn to B: Client pressure expands scope again\n\nClassification: Oscillation (scope_competence_cycle)\n</code></pre></p> <p>Indicators: - Repeated pattern over time - Same tensions resurface - Temporary fixes don't hold - Structural issues unaddressed</p>"},{"location":"reference/transformation-types/#phase-lag","title":"Phase Lag","text":"<p>Definition: Delayed response to ethical change.</p> <p>Pattern: A ... \u2192 B</p> <p>Characteristics: - Recognition lag between trigger and response - Ethical obligations clear but action delayed - Often involves procedural constraints - May involve denial or avoidance</p> <p>Example: <pre><code>Trigger: Safety concern identified (t=0)\nRecognition: Engineer acknowledges issue (t+2 weeks)\nAction: Report filed (t+4 weeks)\nResolution: Corrective measures (t+8 weeks)\n\nClassification: Phase Lag (delayed_safety_response)\n</code></pre></p> <p>Indicators: - Significant time between trigger and action - Multiple missed opportunities to act - Procedural or psychological barriers - Eventual alignment with obligations</p>"},{"location":"reference/transformation-types/#classification-process","title":"Classification Process","text":""},{"location":"reference/transformation-types/#step-1-identify-states","title":"Step 1: Identify States","text":"<p>Document the ethical states before and after key events:</p> Element Description Initial State Starting ethical position Trigger Events What precipitated change Intermediate States Transitions observed Final State Ending ethical position"},{"location":"reference/transformation-types/#step-2-analyze-pattern","title":"Step 2: Analyze Pattern","text":"<p>Compare state transitions to patterns:</p> Pattern Criteria Transfer Single clear transition Stalemate Balanced opposing forces Oscillation Cyclic repetition Phase Lag Delayed response"},{"location":"reference/transformation-types/#step-3-identify-subtype","title":"Step 3: Identify Subtype","text":"<p>Assign specific pattern label:</p> Base Type Example Subtypes Transfer competence_violation, disclosure_failure Stalemate confidentiality_safety_conflict Oscillation scope_competence_cycle Phase Lag delayed_disclosure, recognition_lag"},{"location":"reference/transformation-types/#llm-classification","title":"LLM Classification","text":""},{"location":"reference/transformation-types/#prompt-structure","title":"Prompt Structure","text":"<p>The system prompts Claude to classify:</p> <pre><code>Analyze the ethical transformation in this case.\n\nCase facts: [extracted facts]\nActions taken: [identified actions]\nObligations: [relevant obligations]\n\nClassify the transformation type:\n1. Transfer - clear state change\n2. Stalemate - competing forces deadlock\n3. Oscillation - cyclic pattern\n4. Phase Lag - delayed response\n\nProvide:\n- Classification type\n- Pattern name (specific identifier)\n- Justification\n</code></pre>"},{"location":"reference/transformation-types/#response-parsing","title":"Response Parsing","text":"<p>System extracts:</p> Field Example <code>type</code> transfer <code>pattern</code> ai_competence_boundary_violation <code>justification</code> \"Engineer's decision to use AI...\" <code>confidence</code> 0.85"},{"location":"reference/transformation-types/#storage","title":"Storage","text":""},{"location":"reference/transformation-types/#database-table","title":"Database Table","text":"<p><code>case_transformation</code> stores classification:</p> Column Type Description <code>case_id</code> FK Case reference <code>transformation_type</code> VARCHAR One of four types <code>pattern_name</code> VARCHAR Specific pattern <code>initial_state</code> TEXT Starting state description <code>final_state</code> TEXT Ending state description <code>triggers</code> JSONB Precipitating events <code>justification</code> TEXT Classification rationale"},{"location":"reference/transformation-types/#querying","title":"Querying","text":"<pre><code>SELECT\n    d.title,\n    ct.transformation_type,\n    ct.pattern_name\nFROM case_transformation ct\nJOIN documents d ON ct.case_id = d.id\nWHERE ct.transformation_type = 'transfer';\n</code></pre>"},{"location":"reference/transformation-types/#user-interface","title":"User Interface","text":""},{"location":"reference/transformation-types/#classification-display","title":"Classification Display","text":"<p>Phase 2 shows classification with:</p> <ul> <li>Type label (Transfer, Stalemate, etc.)</li> <li>Pattern name</li> <li>Visual indicator</li> <li>Justification text</li> </ul>"},{"location":"reference/transformation-types/#editing-classification","title":"Editing Classification","text":"<p>Users can adjust:</p> <ol> <li>Change transformation type</li> <li>Edit pattern name</li> <li>Modify justification</li> <li>Add notes</li> </ol>"},{"location":"reference/transformation-types/#pattern-library","title":"Pattern Library","text":""},{"location":"reference/transformation-types/#common-transfer-patterns","title":"Common Transfer Patterns","text":"Pattern Description <code>competence_boundary_violation</code> Acting outside expertise <code>disclosure_failure</code> Not revealing required information <code>conflict_acceptance</code> Taking conflicted role <code>certification_error</code> Certifying improperly"},{"location":"reference/transformation-types/#common-stalemate-patterns","title":"Common Stalemate Patterns","text":"Pattern Description <code>confidentiality_safety</code> Privacy vs. safety <code>employer_public</code> Employer vs. public interest <code>efficiency_thoroughness</code> Speed vs. quality"},{"location":"reference/transformation-types/#common-oscillation-patterns","title":"Common Oscillation Patterns","text":"Pattern Description <code>scope_competence_cycle</code> Recurring scope creep <code>deadline_quality_trade</code> Repeating time/quality tension"},{"location":"reference/transformation-types/#common-phase-lag-patterns","title":"Common Phase Lag Patterns","text":"Pattern Description <code>delayed_disclosure</code> Slow to reveal information <code>recognition_lag</code> Delayed acknowledgment <code>procedural_delay</code> System-caused delays"},{"location":"reference/transformation-types/#theoretical-foundation","title":"Theoretical Foundation","text":""},{"location":"reference/transformation-types/#source","title":"Source","text":"<p>Marchais-Roubelat, A., &amp; Roubelat, F. (2015). Designing a moving strategic foresight approach: Ontological and methodological issues of scenario design. In Strategic Thinking in a Hospital Setting (pp. 161-182).</p>"},{"location":"reference/transformation-types/#key-concepts","title":"Key Concepts","text":"<p>The framework originates from strategic foresight and scenario analysis:</p> <ul> <li>Scenario dynamics: How situations evolve over time</li> <li>State transitions: Movement between defined conditions</li> <li>Pattern recognition: Identifying recurring structures</li> </ul>"},{"location":"reference/transformation-types/#application-to-ethics","title":"Application to Ethics","text":"<p>ProEthica adapts this framework for ethical analysis:</p> <ul> <li>States = ethical positions/compliance status</li> <li>Transitions = changes in ethical standing</li> <li>Patterns = recognizable ethical dynamics</li> </ul>"},{"location":"reference/transformation-types/#related-guides","title":"Related Guides","text":"<ul> <li>Phase 2 Analysis</li> <li>Nine-Concept Framework</li> <li>Precedent Discovery</li> </ul>"}]}