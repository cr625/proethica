@prefix : <http://proethica.org/ontology/intermediate#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix iao: <http://purl.obolibrary.org/obo/IAO_> .
@prefix bfo: <http://purl.obolibrary.org/obo/> .
@base <http://proethica.org/ontology/intermediate> .

<http://proethica.org/ontology/intermediate> rdf:type owl:Ontology ;
    owl:imports <http://purl.obolibrary.org/obo/bfo.owl> ;
    rdfs:label "ProEthica Intermediate Ontology"@en ;
    rdfs:comment "A mid-level ontology bridging BFO to domain-specific ethical frameworks"@en ;
    dc:creator "ProEthica AI"@en ;
    dc:date "2025-05-31"^^xsd:date .

#################################################################
#    Core Ethical Modeling Concepts                              
#################################################################

# Declare key types needed by the OntologyMCPServer for entity extraction
:EntityType rdf:type owl:Class ;
    rdfs:label "Entity Type"@en ;
    rdfs:comment "Meta-class for entity types recognized by the ProEthica system"@en .

# New supertype for guideline concept extraction
:GuidelineConceptType rdf:type owl:Class ;
    rdfs:subClassOf :EntityType ;
    rdfs:label "Guideline Concept Type"@en ;
    rdfs:comment "A type of entity specifically extracted from ethical guidelines and standards. These are the eight core categories used for concept extraction from guideline documents."@en .

# The 8 Guideline Concept Types

:Role rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :GuidelineConceptType ;
    rdfs:subClassOf bfo:BFO_0000023 ; # role from BFO
    rdfs:label "Role"@en ;
    rdfs:comment "A socially recognized status borne by an agent that is defined by: (1) central ends/goals that guide action within the practice, and (2) a coherent set of norms and commitments (obligations) internal to that practice. Professional roles (e.g., Engineer, Project Manager, Public Official) pursue their characteristic ends while being governed by obligations typically formalized in codes of ethics and standards. Participant roles (e.g., Client, Community Member) may be stakeholders without professional obligations. Use hasObligation to relate Roles to obligations, adheresToPrinciple for governing principles, and pursuesEnd for characteristic ends/goals."@en .

:Principle rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :GuidelineConceptType ;
    rdfs:subClassOf bfo:BFO_0000031 ; # generically dependent continuant
    rdfs:label "Principle"@en ;
    rdfs:comment "A fundamental ethical value or belief that guides professional conduct. Examples include Honesty, Integrity, Sustainability, Justice."@en .


# ====================================================================
# PRINCIPLE SUBCLASSES BASED ON CHAPTER 2.2.2 LITERATURE
# ====================================================================

# Core Principle Categories from Chapter 2.2.2 Analysis
:FundamentalEthicalPrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Principle ;
    rdfs:label "Fundamental Ethical Principle"@en ;
    iao:0000115 "A universal moral foundation that serves as the highest-level abstraction in professional ethics, requiring extensive interpretation through concrete cases (BFO: generically dependent continuant)"@en ;
    skos:definition "According to McLaren (2003), fundamental principles like public welfare and respect for persons cannot be applied through formal deduction alone but require extensional definition through landmark ethics cases and professional code applications. These principles function as constitutional-like foundations (Taddeo et al. 2024) that mediate moral ideals into professional practice (Hallamaa & Kalliokoski 2022)."@en ;
    dcterms:source <https://doi.org/10.1023/A:1024195425598> , # McLaren 2003
                   <https://doi.org/10.1007/s00146-024-01870-x> , # Taddeo et al. 2024
                   <https://doi.org/10.1080/08989621.2022.2054267> ; # Hallamaa & Kalliokoski 2022
    rdfs:comment "Examples: Public Welfare Paramount, Respect for Persons, Justice, Beneficence. These require extensive interpretation and balancing in specific contexts."@en .

:ProfessionalVirtuePrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Principle ;
    rdfs:label "Professional Virtue Principle"@en ;
    iao:0000115 "A character-based principle defining professional excellence and ethical sensitivities specific to professional identity (BFO: generically dependent continuant)"@en ;
    skos:definition "Professional virtue principles guide professional identity formation and ethical sensitivities (Oakley & Cocking 2001). These principles are learned through expert examples (Anderson & Anderson 2018) and exemplified through model professional behavior cases, creating role-generated moral demands that shape professional character."@en ;
    dcterms:source <https://doi.org/10.1017/CBO9780511489471> , # Oakley & Cocking 2001
                   <https://doi.org/10.1007/s10994-018-5753-x> ; # Anderson & Anderson 2018
    rdfs:comment "Examples: Integrity, Competence, Honesty, Professional Courage, Accountability. These shape professional character and decision-making."@en .

:RelationalPrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Principle ;
    rdfs:label "Relational Principle"@en ;
    iao:0000115 "A principle governing professional relationships and establishing frameworks for trust and stakeholder interactions (BFO: generically dependent continuant)"@en ;
    skos:definition "Relational principles establish frameworks for managing professional relationships and stakeholder trust. Following McLaren's extensional approach, these principles gain meaning through precedents from client-professional disputes and resolutions, defining how professionals navigate competing interests and maintain trustworthy relationships."@en ;
    dcterms:source <https://doi.org/10.1023/A:1024195425598> , # McLaren 2003
                   <https://doi.org/10.1080/10508422.2016.1155099> ; # Dennis et al. 2016
    rdfs:comment "Examples: Confidentiality, Loyalty, Fairness, Transparency, Respect for Autonomy. These govern interpersonal professional dynamics."@en .

:DomainSpecificPrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Principle ;
    rdfs:label "Domain-Specific Principle"@en ;
    iao:0000115 "A principle particular to professional domain contexts that bridges general ethics to specific technical practices (BFO: generically dependent continuant)"@en ;
    skos:definition "Domain-specific principles bridge general ethical guidance to particular professional contexts. As identified by Prem (2023), these principles face inherent challenges in operationalization but remain essential for contextual guidance. They are grounded through industry-specific cases and technical standards applications."@en ;
    dcterms:source <https://doi.org/10.1007/s00146-023-01687-0> , # Prem 2023
                   <https://doi.org/10.1007/s10676-021-09586-y> ; # Segun 2021
    rdfs:comment "Examples: Environmental Stewardship (engineering), Patient Autonomy (medicine), Academic Freedom (education). These address domain-specific ethical challenges."@en .

# Specific Principle Instances commonly found in Professional Codes
:PublicWelfarePrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :FundamentalEthicalPrinciple ;
    rdfs:label "Public Welfare Principle"@en ;
    iao:0000115 "The fundamental principle that public safety, health, and welfare must be held paramount in professional practice (BFO: generically dependent continuant)"@en ;
    skos:definition "The public welfare principle, as articulated in NSPE Fundamental Canon 1, requires professionals to hold paramount the safety, health, and welfare of the public. This principle exemplifies McLaren's challenge of operationalizing abstract guidance - 'hold paramount' gains meaning only through NSPE case applications and precedents like the Challenger disaster."@en ;
    dcterms:source <https://doi.org/10.1023/A:1024195425598> , # McLaren 2003
                   "NSPE Code of Ethics Fundamental Canon 1" ;
    :nspeReference "Fundamental Canon 1" ;
    :extensionalCases "NSPE BER Case 92-6", "Challenger Disaster", "Hyatt Regency Walkway Collapse" ;
    rdfs:comment "Requires contextual interpretation to balance against client confidentiality and employer loyalty when public safety is at risk."@en .

:IntegrityPrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :ProfessionalVirtuePrinciple ;
    rdfs:label "Integrity Principle"@en ;
    iao:0000115 "The professional virtue principle of maintaining honesty, truthfulness, and ethical consistency in professional practice (BFO: generically dependent continuant)"@en ;
    skos:definition "Professional integrity requires contextual interpretation through cases (Kong et al. 2020) and manifests differently across professional contexts. It encompasses honesty in professional communications, truthfulness in representations, and consistency between professional values and actions."@en ;
    dcterms:source <https://doi.org/10.1007/s10676-020-09538-y> , # Kong et al. 2020
                   "NSPE Code of Ethics II.3" ;
    :nspeReference "Rule of Practice II.3" ;
    rdfs:comment "Central to professional identity formation and trust maintenance in professional relationships."@en .

:CompetencePrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :ProfessionalVirtuePrinciple ;
    rdfs:label "Competence Principle"@en ;
    iao:0000115 "The professional virtue principle requiring maintenance and application of professional knowledge and skill within areas of competence (BFO: generically dependent continuant)"@en ;
    skos:definition "The competence principle requires professionals to perform services only in areas of their competence and to maintain professional knowledge through continuous learning. This principle generates obligations for professional development and honest self-assessment of capabilities."@en ;
    dcterms:source "NSPE Code of Ethics II.2" ,
                   <https://doi.org/10.1017/CBO9780511489471> ; # Oakley & Cocking 2001
    :nspeReference "Rule of Practice II.2" ;
    rdfs:comment "Balances professional autonomy with recognition of limitations and need for collaboration."@en .

:ConfidentialityPrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :RelationalPrinciple ;
    rdfs:label "Confidentiality Principle"@en ;
    iao:0000115 "The relational principle protecting client information and maintaining trust in professional relationships (BFO: generically dependent continuant)"@en ;
    skos:definition "Confidentiality establishes trust frameworks in professional relationships by protecting client information from unauthorized disclosure. This principle requires balancing through precedents when it conflicts with public welfare or legal obligations."@en ;
    dcterms:source "NSPE Code of Ethics II.1.c" ,
                   <https://doi.org/10.1023/A:1024195425598> ; # McLaren 2003
    :nspeReference "Rule of Practice II.1.c" ;
    rdfs:comment "Must be balanced against public safety obligations and legal disclosure requirements."@en .

:TransparencyPrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :RelationalPrinciple ;
    rdfs:label "Transparency Principle"@en ;
    iao:0000115 "The relational principle requiring openness and disclosure in professional communications and decision-making (BFO: generically dependent continuant)"@en ;
    skos:definition "Transparency requires professionals to be open about conflicts of interest, limitations, and decision-making processes. This principle supports accountability and enables informed consent from stakeholders."@en ;
    dcterms:source "NSPE Code of Ethics II.4" ,
                   <https://doi.org/10.1080/10508422.2016.1155099> ; # Dennis et al. 2016
    :nspeReference "Rule of Practice II.4" ;
    rdfs:comment "Essential for maintaining trust and enabling stakeholder participation in professional decisions."@en .

:EnvironmentalStewardshipPrinciple rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :DomainSpecificPrinciple ;
    rdfs:label "Environmental Stewardship Principle"@en ;
    iao:0000115 "The domain-specific principle in engineering requiring consideration of environmental impact and sustainability (BFO: generically dependent continuant)"@en ;
    skos:definition "Environmental stewardship in engineering requires balancing technical solutions with environmental protection and sustainable development. This principle has evolved through cases addressing pollution, resource depletion, and climate change impacts."@en ;
    dcterms:source "NSPE Code of Ethics III.2.d" ,
                   <https://doi.org/10.1007/s00146-023-01687-0> ; # Prem 2023
    :nspeReference "Professional Obligation III.2.d" ;
    rdfs:comment "Bridges engineering practice with broader environmental and societal responsibilities."@en .


:Obligation rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :GuidelineConceptType ;
    rdfs:subClassOf bfo:BFO_0000017 ; # realizable entity
    rdfs:label "Obligation"@en ;
    rdfs:comment "A professional duty or responsibility that must be fulfilled. Examples include Public Safety, Confidentiality, Competent Practice, Truthful Reporting."@en .

:State rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :GuidelineConceptType ;
    rdfs:subClassOf bfo:BFO_0000019 ; # quality from BFO
    rdfs:label "State"@en ;
    rdfs:comment "A condition, situation, or state of affairs that provides context for ethical decision-making, including environmental conditions, organizational states, and contextual constraints. Examples include Budget Constraints, Safety Hazard, Time Pressure, Regulatory Compliance."@en .

:Resource rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :GuidelineConceptType ;
    rdfs:subClassOf bfo:BFO_0000001 ; # entity (allows both material and informational resources)
    rdfs:label "Resource"@en ;
    rdfs:comment "A physical or informational entity used in ethical scenarios. Examples include Technical Specifications, Safety Equipment, Project Budget, Design Documents."@en .

:Action rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :GuidelineConceptType ;
    rdfs:subClassOf bfo:BFO_0000015 ; # process from BFO
    rdfs:label "Action"@en ;
    rdfs:comment "An intentional activity performed by an agent in an ethical scenario. Examples include Report Safety Concern, Review Design, Disclose Conflict, Consult Expert."@en .

:Event rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :GuidelineConceptType ;
    rdfs:subClassOf bfo:BFO_0000015 ; # process from BFO
    rdfs:label "Event"@en ;
    rdfs:comment "An occurrence or happening in an ethical scenario. Examples include Project Milestone, Safety Incident, Audit Finding, Contract Signing."@en .

:Capability rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :GuidelineConceptType ;
    rdfs:subClassOf bfo:BFO_0000016 ; # disposition from BFO
    rdfs:label "Capability"@en ;
    rdfs:comment "A skill, ability, or competency that can be realized in professional contexts. Examples include Technical Design, Project Management, Risk Assessment, Ethical Reasoning."@en .

:Constraint rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :GuidelineConceptType ;
    rdfs:subClassOf bfo:BFO_0000017 ; # realizable entity from BFO
    rdfs:label "Constraint"@en ;
    rdfs:comment "A boundary condition, limitation, or requirement that restricts or governs the world state. Examples include Time Constraints, Budget Constraints, License Requirements, Experience Requirements, Safety Standards, Compliance Requirements."@en .

# Legacy type references (maintained for backward compatibility)
:Condition rdfs:subClassOf :State ;
    rdfs:label "Condition"@en ;
    rdfs:comment "Legacy term for State. Use State instead for new concepts."@en ;
    owl:deprecated true .

:ConditionType rdf:type owl:Class ;
    rdfs:label "Condition Type"@en ;
    rdfs:comment "Legacy meta-class. Use State instead."@en ;
    owl:deprecated true .

# Meta-classes for subtypes (not GuidelineConceptTypes themselves)
:ResourceType rdf:type owl:Class ;
    rdfs:subClassOf :EntityType ;
    rdfs:label "Resource Type"@en ;
    rdfs:comment "Meta-class for specific resource types recognized by the ProEthica system"@en .

:EventType rdf:type owl:Class ;
    rdfs:subClassOf :EntityType ;
    rdfs:label "Event Type"@en ;
    rdfs:comment "Meta-class for specific event types recognized by the ProEthica system"@en .

:ActionType rdf:type owl:Class ;
    rdfs:subClassOf :EntityType ;
    rdfs:label "Action Type"@en ;
    rdfs:comment "Meta-class for specific action types recognized by the ProEthica system"@en .

:CapabilityType rdf:type owl:Class ;
    rdfs:subClassOf :EntityType ;
    rdfs:label "Capability Type"@en ;
    rdfs:comment "Meta-class for specific capability types recognized by the ProEthica system"@en .

# Other important classes
:Decision rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdf:type :ActionType ;
    rdfs:subClassOf :Action ;
    rdfs:label "Decision"@en ;
    rdfs:comment "A choice made by an agent in response to an ethical situation"@en .

# Common Ethical Concepts
:EthicalDilemma rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :State ; # treat dilemmas as contextual states for decision-making
    rdfs:label "Ethical Dilemma"@en ;
    rdfs:comment "A situation involving a difficult ethical choice between competing moral considerations that applies across all professional domains"@en .

:EthicalPrinciple rdf:type owl:Class ;
    rdfs:subClassOf bfo:BFO_0000031 ; # generically dependent continuant
    rdfs:label "Ethical Principle"@en ;
    rdfs:comment "Legacy synonym for Principle. Use :Principle for new concepts."@en ;
    owl:deprecated true ;
    rdfs:seeAlso :Principle .

:ProfessionalObligation rdf:type owl:Class ;
    rdfs:subClassOf bfo:BFO_0000017 ; # realizable entity
    rdfs:subClassOf :Obligation ;
    rdfs:label "Professional Obligation"@en ;
    rdfs:comment "A duty or responsibility arising from professional role or standards"@en .

# Engineering-specific role types
:EngineerRole rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Role ;
    rdfs:label "Engineer Role"@en ;
    rdfs:comment "A professional role involving engineering practice and responsibilities"@en ;
    rdfs:subClassOf :ProfessionalRole .

# Role specializations for classification of roles mentioned in guidelines and cases
:ProfessionalRole rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Role ;
    rdfs:label "Professional Role"@en ;
        rdfs:comment "A role within a profession that entails recognized ends/goals of practice (e.g., safeguarding public safety, delivering competent technical solutions) and a coherent set of obligations codified in standards and codes (e.g., NSPE). Often associated with licensure or formal accountability. Examples: Professional Engineer, Project Manager, Public Official."@en ;
        # Professional roles characteristically bear obligations and are governed by codes
        rdfs:subClassOf [ a owl:Restriction ;
                                         owl:onProperty :hasObligation ;
                                         owl:someValuesFrom :Obligation
                                     ] ;
        rdfs:subClassOf [ a owl:Restriction ;
                                         owl:onProperty :governedByCode ;
                                         owl:someValuesFrom :EthicalCode
                                     ] .

:ParticipantRole rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Role ;
    rdfs:label "Participant Role"@en ;
    rdfs:comment "A role of an involved party or stakeholder that does not itself establish professional obligations (e.g., Client, The Public, Community Member)."@en .

# Alias for clarity when classifying roles extracted from text
:StakeholderRole rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :ParticipantRole ;
    rdfs:label "Stakeholder Role"@en ;
    rdfs:comment "A participant role borne by stakeholders such as Clients, Employers, and the Public. Typically not the bearer of professional obligations, but may be linked to principles in explicit statements."@en .

# Keep ProfessionalRole and ParticipantRole disjoint to avoid mixing semantics
:ProfessionalRole owl:disjointWith :ParticipantRole .

# Ends / Goals of roles
:End rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf bfo:BFO_0000031 ; # generically dependent continuant
    rdfs:label "End/Goal"@en ;
    rdfs:comment "A characteristic end or goal toward which a role is directed (e.g., in engineering: protecting public safety, serving the public welfare, providing competent service)."@en .

# Standards and regulatory frameworks
:Standard rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Resource ;
    rdfs:label "Standard"@en ;
    rdfs:comment "A documented agreement containing technical specifications or criteria for professional practice"@en .

:EthicalCode rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Principle ;
    rdfs:label "Ethical Code"@en ;
    rdfs:comment "A standard that establishes ethical principles and professional conduct requirements"@en .

# Specialized capability types
:TechnicalCapability rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Capability ;
    rdfs:label "Technical Capability"@en ;
    rdfs:comment "A specialized technical skill or competency in a professional domain"@en .

# Problem and issue types
:EthicalIssue rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :State ;
    rdfs:label "Ethical Issue"@en ;
    rdfs:comment "A problematic situation involving ethical considerations or conflicts"@en .

# Measurement and assessment types
:Measurement rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Resource ;
    rdfs:label "Measurement"@en ;
    rdfs:comment "A quantitative or qualitative assessment or evaluation"@en .

#################################################################
#    Normative refinements (subclasses, non-breaking)            
#################################################################

# Modalities (kept as subclasses to avoid new primaries)
:Permission rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Obligation ;
    rdfs:label "Permission"@en ;
    rdfs:comment "A normative allowance indicating that an action or state is permitted under certain conditions."@en .

:Prohibition rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Obligation ;
    rdfs:label "Prohibition"@en ;
    rdfs:comment "A normative restriction indicating that an action or state is disallowed."@en .

# Compliance tracking
:Violation rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Event ;
    rdfs:label "Violation"@en ;
    rdfs:comment "An event indicating that an obligation, prohibition, or standard has been breached."@en .

# Explainability / rationale
:Justification rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Resource ;
    rdfs:label "Justification"@en ;
    rdfs:comment "A rationale, argument, or evidence artifact supporting a decision or interpretation in an ethical case."@en .

#################################################################
#    Annotation properties                                        
#################################################################

:hasValueLabel rdf:type owl:AnnotationProperty ;
    rdfs:label "has value label"@en ;
    rdfs:comment "Annotation for recording the value-oriented reading of a principle (e.g., 'Integrity', 'Justice')."@en ;
    rdfs:domain :Principle ;
    rdfs:range xsd:string .

#################################################################
#    Object Properties                                           
#################################################################

:hasRole rdf:type owl:ObjectProperty ;
    rdfs:domain bfo:BFO_0000004 ; # independent continuant
    rdfs:range :Role ;
    rdfs:label "has role"@en ;
    rdfs:comment "Relates an entity to a role it bears"@en .

:hasCondition rdf:type owl:ObjectProperty ;
    rdfs:domain bfo:BFO_0000015 ; # process
    rdfs:range :State ;
    rdfs:label "has condition"@en ;
    rdfs:comment "Relates a process to a state that affects it"@en ;
    owl:deprecated true .

:hasState rdf:type owl:ObjectProperty ;
    rdfs:domain bfo:BFO_0000015 ; # process
    rdfs:range :State ;
    rdfs:label "has state"@en ;
    rdfs:comment "Relates a process to a state that affects it"@en .

:hasResource rdf:type owl:ObjectProperty ;
    rdfs:domain bfo:BFO_0000015 ; # process
    rdfs:range :Resource ;
    rdfs:label "has resource"@en ;
    rdfs:comment "Relates a process to a resource it uses"@en .

:performsAction rdf:type owl:ObjectProperty ;
    rdfs:domain bfo:BFO_0000040 ; # material entity
    rdfs:range :Action ;
    rdfs:label "performs action"@en ;
    rdfs:comment "Relates an agent to an action they perform"@en .

:hasCapability rdf:type owl:ObjectProperty ;
    rdfs:domain bfo:BFO_0000040 ; # material entity
    rdfs:range :Capability ;
    rdfs:label "has capability"@en ;
    rdfs:comment "Relates an entity to a capability it possesses"@en .

:guidedByPrinciple rdf:type owl:ObjectProperty ;
    rdfs:domain :Action ;
    rdfs:range :Principle ;
    rdfs:label "guided by principle"@en ;
    rdfs:comment "Relates an action to a principle that guides it"@en .

:fulfillsObligation rdf:type owl:ObjectProperty ;
    rdfs:domain :Action ;
    rdfs:range :Obligation ;
    rdfs:label "fulfills obligation"@en ;
    rdfs:comment "Relates an action to an obligation it fulfills"@en .

# Properties connecting roles to obligations and principles
:hasObligation rdf:type owl:ObjectProperty ;
    rdfs:domain :Role ;
    rdfs:range :Obligation ;
    rdfs:label "has obligation"@en ;
    rdfs:comment "Relates a role to the professional obligations borne by entities bearing that role"@en .

:adheresToPrinciple rdf:type owl:ObjectProperty ;
    rdfs:domain :Role ;
    rdfs:range :Principle ;
    rdfs:label "adheres to principle"@en ;
    rdfs:comment "Relates a role to ethical principles that normatively govern that role"@en .

:pursuesEnd rdf:type owl:ObjectProperty ;
    rdfs:domain :Role ;
    rdfs:range :End ;
    rdfs:label "pursues end"@en ;
    rdfs:comment "Relates a role to its characteristic ends/goals."@en .

:governedByCode rdf:type owl:ObjectProperty ;
    rdfs:domain :Role ;
    rdfs:range :EthicalCode ;
    rdfs:label "governed by code"@en ;
    rdfs:comment "Relates a professional role to an ethical code that formalizes its obligations and norms."@en .

#################################################################
#    SPARQL Query Support
#################################################################

# This comment documents the SPARQL query to retrieve all GuidelineConceptTypes:
# SELECT ?type ?label ?comment WHERE {
#   ?type rdf:type :GuidelineConceptType .
#   ?type rdfs:label ?label .
#   OPTIONAL { ?type rdfs:comment ?comment }
# }
# This will return: Role, Principle, Obligation, State, Resource, Action, Event, Capability

#################################################################
#    Step 4 Case Analysis Classes
#################################################################

# Ethics Case (container for all case-level entities)
:EthicsCase rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf bfo:BFO_0000031 ;  # generically dependent continuant
    rdfs:label "Ethics Case"@en ;
    skos:definition "A professional ethics case analyzed by a review board, containing questions, conclusions, decision points, and referenced code provisions."@en ;
    rdfs:comment "Container class for NSPE Board of Ethical Review cases. Use skos:prefLabel for case number (e.g., 'Case 24-2'), dcterms:title for full title."@en .

# Ethical Question (IRAC: Issue)
:EthicalQuestion rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf bfo:BFO_0000031 ;  # generically dependent continuant
    rdfs:label "Ethical Question"@en ;
    skos:definition "A question presented to a professional ethics review board for determination. Equivalent to Westlaw headnotes in legal case representation."@en ;
    rdfs:comment "Use skos:prefLabel for short display label, :questionText for full question text, :questionNumber for ordering."@en .

# Board Conclusion (IRAC: Conclusion)
:BoardConclusion rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf bfo:BFO_0000031 ;  # generically dependent continuant
    rdfs:label "Board Conclusion"@en ;
    skos:definition "A determination made by a professional ethics review board in response to an ethical question. Equivalent to holdings in legal case representation."@en ;
    rdfs:comment "Use skos:prefLabel for short label, :conclusionText for full conclusion, :conclusionType for classification (violation, no_violation, etc.)."@en .

# Decision Point (for scenario generation)
:DecisionPoint rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf bfo:BFO_0000015 ;  # process (decision-making process)
    rdfs:label "Decision Point"@en ;
    skos:definition "A point in an ethics case where a professional must make an ethical choice. Used for scenario generation and what-if analysis."@en ;
    rdfs:comment "Use skos:prefLabel for short label, :decisionQuestion for the decision to be made, :hasOption for available choices."@en .

# Decision Option (choices at a decision point)
:DecisionOption rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf bfo:BFO_0000031 ;  # generically dependent continuant
    rdfs:label "Decision Option"@en ;
    skos:definition "An available choice at a decision point in an ethics case scenario."@en ;
    rdfs:comment "Use skos:prefLabel for short label, :optionDescription for full description, :isBoardChoice to indicate board recommendation."@en .

# Code Provision (IRAC: Rule)
:CodeProvision rdf:type owl:Class ;
    rdf:type :EntityType ;
    rdfs:subClassOf :Standard ;
    rdfs:label "Code Provision"@en ;
    skos:definition "A specific section or article from a professional code of ethics cited in case analysis."@en ;
    rdfs:comment "Use skos:prefLabel for short reference (e.g., 'II.1.c Confidentiality'), :provisionCode for the code number, :provisionText for full text."@en .

#################################################################
#    Step 4 Text Properties (SKOS-aligned)
#################################################################

# Full text properties for Step 4 entities
# Pattern: skos:prefLabel for short display name, dedicated property for full text

:questionText rdf:type owl:DatatypeProperty ;
    rdfs:domain :EthicalQuestion ;
    rdfs:range xsd:string ;
    rdfs:label "question text"@en ;
    rdfs:comment "The full verbatim text of an ethical question as presented to the review board."@en .

:questionNumber rdf:type owl:DatatypeProperty ;
    rdfs:domain :EthicalQuestion ;
    rdfs:range xsd:integer ;
    rdfs:label "question number"@en ;
    rdfs:comment "The ordinal number of the question within the case (1, 2, 3...)."@en .

:conclusionText rdf:type owl:DatatypeProperty ;
    rdfs:domain :BoardConclusion ;
    rdfs:range xsd:string ;
    rdfs:label "conclusion text"@en ;
    rdfs:comment "The full verbatim text of a board conclusion."@en .

:conclusionType rdf:type owl:DatatypeProperty ;
    rdfs:domain :BoardConclusion ;
    rdfs:range xsd:string ;
    rdfs:label "conclusion type"@en ;
    rdfs:comment "Classification of conclusion: violation, no_violation, interpretation, recommendation."@en .

:boardReasoning rdf:type owl:DatatypeProperty ;
    rdfs:domain :BoardConclusion ;
    rdfs:range xsd:string ;
    rdfs:label "board reasoning"@en ;
    rdfs:comment "The board's reasoning and analysis supporting the conclusion."@en .

:decisionQuestion rdf:type owl:DatatypeProperty ;
    rdfs:domain :DecisionPoint ;
    rdfs:range xsd:string ;
    rdfs:label "decision question"@en ;
    rdfs:comment "The question or choice that must be made at this decision point."@en .

:optionDescription rdf:type owl:DatatypeProperty ;
    rdfs:domain :DecisionOption ;
    rdfs:range xsd:string ;
    rdfs:label "option description"@en ;
    rdfs:comment "Full description of a decision option."@en .

:isBoardChoice rdf:type owl:DatatypeProperty ;
    rdfs:domain :DecisionOption ;
    rdfs:range xsd:boolean ;
    rdfs:label "is board choice"@en ;
    rdfs:comment "True if this option represents the board's recommended choice."@en .

:provisionCode rdf:type owl:DatatypeProperty ;
    rdfs:domain :CodeProvision ;
    rdfs:range xsd:string ;
    rdfs:label "provision code"@en ;
    rdfs:comment "The code reference number (e.g., 'II.1.c', 'III.2.a')."@en .

:provisionText rdf:type owl:DatatypeProperty ;
    rdfs:domain :CodeProvision ;
    rdfs:range xsd:string ;
    rdfs:label "provision text"@en ;
    rdfs:comment "The full text of the code provision."@en .

# Case-level text properties
:factsText rdf:type owl:DatatypeProperty ;
    rdfs:domain :EthicsCase ;
    rdfs:range xsd:string ;
    rdfs:label "facts text"@en ;
    rdfs:comment "The full text of the Facts section for embedding-based similarity."@en .

:discussionText rdf:type owl:DatatypeProperty ;
    rdfs:domain :EthicsCase ;
    rdfs:range xsd:string ;
    rdfs:label "discussion text"@en ;
    rdfs:comment "The full text of the Discussion section for embedding-based similarity."@en .

#################################################################
#    Step 4 Object Properties
#################################################################

:hasQuestion rdf:type owl:ObjectProperty ;
    rdfs:domain :EthicsCase ;
    rdfs:range :EthicalQuestion ;
    rdfs:label "has question"@en ;
    rdfs:comment "Relates an ethics case to its ethical questions."@en .

:hasConclusion rdf:type owl:ObjectProperty ;
    rdfs:domain :EthicsCase ;
    rdfs:range :BoardConclusion ;
    rdfs:label "has conclusion"@en ;
    rdfs:comment "Relates an ethics case to its board conclusions."@en .

:hasDecisionPoint rdf:type owl:ObjectProperty ;
    rdfs:domain :EthicsCase ;
    rdfs:range :DecisionPoint ;
    rdfs:label "has decision point"@en ;
    rdfs:comment "Relates an ethics case to its identified decision points."@en .

:citesProvision rdf:type owl:ObjectProperty ;
    rdfs:domain :EthicsCase ;
    rdfs:range :CodeProvision ;
    rdfs:label "cites provision"@en ;
    rdfs:comment "Relates an ethics case to code provisions it cites."@en .

:answersQuestion rdf:type owl:ObjectProperty ;
    rdfs:domain :BoardConclusion ;
    rdfs:range :EthicalQuestion ;
    rdfs:label "answers question"@en ;
    rdfs:comment "Relates a conclusion to the question it answers."@en .

:answeredBy rdf:type owl:ObjectProperty ;
    rdfs:domain :EthicalQuestion ;
    rdfs:range :BoardConclusion ;
    owl:inverseOf :answersQuestion ;
    rdfs:label "answered by"@en ;
    rdfs:comment "Relates a question to the conclusion that answers it."@en .

:hasOption rdf:type owl:ObjectProperty ;
    rdfs:domain :DecisionPoint ;
    rdfs:range :DecisionOption ;
    rdfs:label "has option"@en ;
    rdfs:comment "Relates a decision point to its available options."@en .

:involvesRole rdf:type owl:ObjectProperty ;
    rdfs:domain [ rdf:type owl:Class ;
                  owl:unionOf ( :EthicalQuestion :DecisionPoint ) ] ;
    rdfs:range :Role ;
    rdfs:label "involves role"@en ;
    rdfs:comment "Relates a question or decision point to roles involved."@en .

:appliesProvision rdf:type owl:ObjectProperty ;
    rdfs:domain [ rdf:type owl:Class ;
                  owl:unionOf ( :EthicalQuestion :BoardConclusion :DecisionPoint ) ] ;
    rdfs:range :CodeProvision ;
    rdfs:label "applies provision"@en ;
    rdfs:comment "Relates a question, conclusion, or decision point to applicable code provisions."@en .

:boardResolution rdf:type owl:ObjectProperty ;
    rdfs:domain :DecisionPoint ;
    rdfs:range :DecisionOption ;
    rdfs:label "board resolution"@en ;
    rdfs:comment "The option chosen/recommended by the board for this decision point."@en .