<!DOCTYPE html>
<html>
<head>
    <title>Test Dropdown</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container my-4">
        <h3>Test Type Override Dropdown</h3>
        <p>This is what you should see in the Type column:</p>
        
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Concept</th>
                    <th>Type (with dropdown)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Faithful Agency</strong></td>
                    <td>
                        <div class="concept-type-display">
                            <!-- Manual Type Override Dropdown -->
                            <select class="form-select form-select-sm concept-type-override" 
                                    data-concept-index="0"
                                    data-original-type="role"
                                    style="width: auto; margin-bottom: 0.25rem;">
                                <option value="role" selected class="text-primary">Role</option>
                                <option value="principle" class="text-success">Principle</option>
                                <option value="obligation" class="text-warning">Obligation</option>
                                <option value="state" class="text-info">State</option>
                                <option value="resource" class="text-secondary">Resource</option>
                                <option value="action" class="text-danger">Action</option>
                                <option value="event" class="text-dark">Event</option>
                                <option value="capability">Capability</option>
                            </select>
                            
                            <div class="concept-hierarchy mt-1">
                                <small class="text-muted">
                                    <span class="hierarchy-display">Role</span> → 
                                    Professional relationship → 
                                    <strong>Faithful Agency</strong>
                                </small>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><strong>Professional Competence</strong></td>
                    <td>
                        <div class="concept-type-display">
                            <select class="form-select form-select-sm concept-type-override" 
                                    data-concept-index="1"
                                    data-original-type="principle"
                                    style="width: auto; margin-bottom: 0.25rem;">
                                <option value="role" class="text-primary">Role</option>
                                <option value="principle" selected class="text-success">Principle</option>
                                <option value="obligation" class="text-warning">Obligation</option>
                                <option value="state" class="text-info">State</option>
                                <option value="resource" class="text-secondary">Resource</option>
                                <option value="action" class="text-danger">Action</option>
                                <option value="event" class="text-dark">Event</option>
                                <option value="capability">Capability</option>
                            </select>
                            
                            <div class="concept-hierarchy mt-1">
                                <small class="text-muted">
                                    <span class="hierarchy-display">Principle</span> → 
                                    Professional standards → 
                                    <strong>Professional Competence</strong>
                                </small>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        
        <div class="alert alert-success">
            <h6>Expected Behavior:</h6>
            <ul>
                <li>You should see dropdown menus in the Type column</li>
                <li>You can change "Faithful Agency" from Role to Obligation</li>
                <li>You can change "Professional Competence" from Principle to Obligation</li>
                <li>The hierarchy text should update when you change the dropdown</li>
            </ul>
        </div>
    </div>
    
    <script>
        // Test the dropdown functionality
        document.querySelectorAll('.concept-type-override').forEach(select => {
            select.addEventListener('change', function() {
                const newType = this.value;
                const hierarchySpan = this.closest('.concept-type-display').querySelector('.hierarchy-display');
                hierarchySpan.textContent = newType.charAt(0).toUpperCase() + newType.slice(1);
                console.log('Type changed to:', newType);
            });
        });
    </script>
</body>
</html>